import{M as A,a as F}from"./index-NAWT8r_S.js";import{a as v,b as C,c as w,d as y,e as x,f as M,g as z,i as D,h as $}from"./map-BBkaIfDM.js";import{_ as L}from"./plugin-vueexport-helper-DlAUqK2U.js";import{h as g,R as J,c as p,o as b,a as N,F as S,f as j,t as V,b as s,aD as h,aE as r,e as X,d as B,g as E,w as Z,Y as G,u as P}from"./index-D1QEh7pE.js";const R={class:"tab_wrap"},H={__name:"Tab",props:{tabList:{type:Array,default:()=>[]},currentIndex:{type:Number,default:0}},emits:["checkTab"],setup(t,{emit:d}){const l=t,c=g({}),o=d,n=()=>{c.value.forEach(i=>{i.classList.remove("selected")}),c.value[l.currentIndex].classList.add("selected")},m=i=>{let{target:u}=i,{textContent:f}=u;c.value.forEach(_=>{_.classList.remove("selected")}),u.className="selected",o("checkTab",f)};return J(()=>{n()}),(i,u)=>(b(),p("section",R,[N("ul",{onClick:m},[(b(!0),p(S,null,j(t.tabList,(f,_)=>(b(),p("li",{ref_for:!0,ref_key:"refLiList",ref:c,key:_},V(f),1))),128))])]))}},Y=L(H,[["__scopeId","data-v-49379e77"]]),q=t=>s("section",{class:"zhe_jiang_index_popupp"},[s(h,{title:`坐标: [ ${t.longitude}, ${t.latitude} ]`,border:!0,column:1,class:"margin-top",size:"small"},{default:()=>[s(r,{label:"区域"},{default:()=>[t.region_name]}),s(r,{label:"服务区名称"},{default:()=>[t.serverpart_name]})]})]),K=t=>s("section",{class:"zhe_jiang_popupp"},[s(h,{title:`坐标: [ ${t.longitude}, ${t.latitude} ]`,border:!0,column:1,class:"margin-top",size:"small"},{default:()=>[s(r,{label:"店铺名称"},{default:()=>[t.shop_name]}),s(r,{label:"人数"},{default:()=>[t.employees,X("人")]}),s(r,{label:"开业年份"},{default:()=>[t.open_year]}),s(r,{label:"地址"},{default:()=>[t.adress]})]})]),O=t=>s("section",{class:"zhe_jiang_popupp"},[s(h,{title:`坐标: [ ${t.longitude}, ${t.latitude} ]`,border:!0,column:1,class:"margin-top",size:"small"},{default:()=>[s(r,{label:"id"},{default:()=>[t.pointId]}),s(r,{label:"省份"},{default:()=>[t.province]})]})]),Q=B({name:"mapbox1"}),U=B({...Q,setup(t){const d=g(["全国","首页浙江","浙江","上海","江苏","新疆","广西","四川","江西"]);let l=g("浙江"),c=0;const o=g([]),n=g(null),m=a=>{l.value=a,n.value.initMap(a),u()},i=()=>{d.value.forEach((a,e)=>{a===l.value&&(c=e)})},u=async()=>{o.value=[];let a=null;switch(l.value){case"全国":const e=k=>k.data;a={data:e(await M()).concat(e(await x())).concat(e(await y())).concat(e(await w())).concat(e(await C())).concat(e(await v()))};break;case"首页浙江":await D(),a=await $();break;case"浙江":a=await z();break;case"上海":a=await M();break;case"江苏":a=await x();break;case"新疆":a=await y();break;case"广西":a=await w();break;case"四川":a=await C();break;case"江西":a=await v();break}if(n.value.setMapLoading(!1),a){f(a.data,l.value);return}},f=(a,e)=>{switch(e){case"首页浙江":_(a);break;case"浙江":I(a);break;default:T(a)}},_=a=>{o.value=[{name:"图例1",markerClass:"lend_mark_type_0"},{name:"图例2",markerClass:"lend_mark_type_1"}],a.forEach(e=>{const k=q(e);switch(e.region_name){case"浙东区域":case"浙西区域":n.value.setMarkerConfig([e.longitude,e.latitude],"mark_type_0",e,k);break;default:n.value.setMarkerConfig([e.longitude,e.latitude],"mark_type_1",e,k);break}})},I=a=>{o.value=[{name:"图例",markerClass:"lend_mark_type_0"}],a.forEach(e=>{n.value.setMarkerConfig([e.longitude,e.latitude],"mark_type_0",e,K(e))})},T=a=>{o.value=[{name:"图例",markerClass:"lend_mark_type_0"}],a.forEach(e=>{n.value.setMarkerConfig([e.longitude,e.latitude],"mark_type_0",e,O(e))})};return(()=>{i(),u()})(),(a,e)=>(b(),E(F,{ref_key:"refMapBoxBaseMap",ref:n,tabCurrent:P(l)},{default:Z(()=>[d.value.length!==0?(b(),E(Y,{key:0,ref:"tabRef",class:"map_tab f-fl","tab-list":d.value,"current-index":P(c),onCheckTab:m},null,8,["tab-list","current-index"])):G("",!0),s(A,{lendConfigData:o.value},null,8,["lendConfigData"])]),_:1},8,["tabCurrent"]))}}),re=L(U,[["__scopeId","data-v-d7e9f706"]]);export{re as default};
