import{bW as N,bX as Lu,K as Dl,bY as oi,bZ as Xe,b_ as We,b$ as Tl,aE as Se,c0 as yn,an as se,c1 as Al,bV as at,c2 as Pu,ap as A,az as Pe,c3 as Re,f as St,aD as De,ay as H,bd as U,bs as Cl,c4 as Mu,k as Fe,O as ae,c5 as mn,c6 as Il,c7 as Sn,c8 as Ll,c9 as Pl,ca as Ml,cb as Vl,ab as _e,bQ as jl,j as ce,cc as Vu,cd as Ci,I as ju,ao as He,ce as Ze,cf as Ii,bl as $,cg as ft,au as B,ch as $e,ci as xn,aG as Le,av as le,ax as te,as as be,M as ot,aq as O,cj as Nl,ck as xt,cl as Wr,cm as Ke,cn as _n,co as Nu,T as Xt,Z as pe,b as me,cp as we,cq as Wi,bS as je,al as F,J as lt,cr as Zt,bN as bn,cs as Eu,ct as El,cu as fa,cv as zt,cw as ca,cx as Rl,cy as Ru,cz as Fi,W as Me,am as oe,bR as Fr,v as ke,aw as Ve,bF as ku,bT as de,cA as Ji,cB as er,cC as Li,cD as $t,cE as Ee,ar as ze,l as va,bU as li,cF as si,cG as rt,cH as wn,cI as zu,cJ as Bu,cK as Bt,cL as ha,cM as $r,cN as Ou,cO as xe,cP as Gu,cQ as Hu,cR as Wu,cS as Dn,cT as kl,c as ui,cU as zl,cV as Tn,cW as An,cX as Fu,cY as $u,U as Cn,cZ as Lt,a5 as Pt,c_ as Uu,c$ as Yu,d0 as Xu,d1 as In,x as Zu,d2 as Ku,d3 as Bl,d4 as qu,aC as Qe,aB as Je,aF as Ln,a as Ol,n as Gl,F as Qu,d5 as Hl,d6 as Ut,d7 as Wl,d8 as Pn,o as _t,m as Mt,A as Fl,d9 as $l,da as Ul,db as Yl,dc as Ju,dd as ef,de as tf,df as Xl,dg as Zl,dh as Kl,S as Mn,di as Ur,dj as Yr,dk as rf,dl as Vn,z as tr,dm as nf,dn as ql,dp as Ql,dq as jn,dr as Nn,ds as ir,dt as af,du as ye,dv as Jl,dw as En,dx as es,dy as of,dz as da,dA as $i,P as bt,dB as Xr,t as lf,dC as Ui,dD as pa,dE as sf,dF as uf,dG as ff,dH as ts,dI as ga,dJ as cf,dK as fi,u as vf,dL as hf,Y as df,bK as pf,dM as E,dN as is,dO as Kt,dP as gf,dQ as yf,aA as mf,dR as ya,dS as Sf,dT as xf,a7 as _f,a3 as rs,dU as bf,dV as ns,dW as wf,R as Zr,dX as Df,a8 as Tf,dY as Af,dZ as Cf,d_ as If,d$ as Lf,e0 as Pf,e1 as Mf,e2 as as,e3 as Vf,e4 as jf,e5 as os,e6 as Nf,e7 as ma,y as Ef,e8 as Rf,e9 as kf,ea as zf,eb as Bf,ec as ls,ed as ss,ee as jt,ef as ci,eg as Of,eh as Gf,ei as Hf,ej as Wf,ek as Rn,h as rr,el as Kr,em as Ff,en as $f,eo as Uf,a0 as Yf,aP as Xf,ep as Pi,i as Zf,r as Kf,eq as qf,er as Qf,es as Yi,g as Jf,et as ec,ai as tc,eu as qr,a4 as nr,ev as ic,ew as rc,ex as nc,D as Sa,ey as ac,ez as tt,eA as qt,eB as oc,eC as xa,ae as lc,L as sc,eD as uc,eE as fc,eF as us,eG as fs,eH as cc,eI as vc,eJ as hc,eK as Xi,eL as dc,eM as pc,eN as gc,eO as yc,eP as mc,eQ as Sc,eR as xc,eS as _c,eT as bc,eU as wc,eV as Dc,eW as Tc,eX as Ac,eY as cs,eZ as kn,e_ as Cc,e$ as Ic,f0 as Lc,f1 as _a,f2 as Pc,bi as Mc,bw as Vc,bv as jc,by as Nc,bz as Ec,bA as Rc,bB as kc,bx as zc,bo as Bc,br as Oc,bt as Gc,bn as Hc,bm as Wc,bq as Fc,bu as $c,f3 as Uc,f4 as Yc,bp as Xc,bj as Zc,bC as Kc,bk as qc,aU as Qc,b1 as Jc}from"./installCanvasRenderer-BM3_8jvr.js";import{l as vs,G as ev}from"./Graph--cR6tmfJ.js";import{aC as tv,h as vi,R as iv,av as rv,r as nv,c as av,o as ov,a as ar,b as ba,w as wa,e as Da,z as lv,n as sv}from"./index-D1QEh7pE.js";import{_ as uv}from"./plugin-vueexport-helper-DlAUqK2U.js";var fv=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var l=this._mapDraw;l&&o.add(l.group)}else if(e.needsDrawMap){var l=this._mapDraw||new Lu(n);o.add(l.group),l.draw(e,r,n,this,a),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,n)}}},i.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},i.prototype._renderSymbols=function(e,r,n){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(l,s){if(!isNaN(l)){var u=a.getItemLayout(s);if(!(!u||!u.point)){var f=u.point,c=u.offset,v=new Dl({style:{fill:e.getData().getVisual("style").fill},shape:{cx:f[0]+c*9,cy:f[1],r:3},silent:!0,z2:8+(c?0:oi+1)});if(!c){var h=e.mainSeries.getData(),d=a.getName(s),g=h.indexOfName(d),y=a.getItemModel(s),m=y.getModel("label"),x=h.getItemGraphicEl(g);Xe(v,We(y),{labelFetcher:{getFormattedLabel:function(S,_){return e.getFormattedLabel(g,_)}},defaultText:d}),v.disableLabelAnimation=!0,m.get("position")||v.setTextConfig({position:"bottom"}),x.onHoverStateChange=function(S){Tl(v,S)}}o.add(v)}}})},i.type="map",i}(Se),cv=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(r!=null){var n=this.getData().getName(r),a=this.coordinateSystem,o=a.getRegion(n);return o&&a.dataToPoint(o.getCenter())}},e}return i.prototype.getInitialData=function(e){for(var r=yn(this,{coordDimensions:["value"],encodeDefaulter:se(Al,this)}),n=at(),a=[],o=0,l=r.count();o<l;o++){var s=r.getName(o);n.set(s,o)}var u=Pu.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return A(u.regions,function(f){var c=f.name,v=n.get(c),h=f.properties&&f.properties.echartsStyle,d;v==null?(d={name:c},a.push(d)):d=r.getRawDataItem(v),h&&Pe(d,h)}),r.appendData(a),r},i.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},i.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},i.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},i.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},i.prototype.formatTooltip=function(e,r,n){for(var a=this.getData(),o=this.getRawValue(e),l=a.getName(e),s=this.seriesGroup,u=[],f=0;f<s.length;f++){var c=s[f].originalData.indexOfName(l),v=a.mapDimension("value");isNaN(s[f].originalData.get(v,c))||u.push(s[f].name)}return Re("section",{header:u.join(", "),noHeader:!u.length,blocks:[Re("nameValue",{name:l,value:o})]})},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",n=St(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",r.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},i.type="series.map",i.dependencies=["geo"],i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},i}(De);function vv(t,i){var e={};return A(t,function(r){r.each(r.mapDimension("value"),function(n,a){var o="ec-"+r.getName(a);e[o]=e[o]||[],isNaN(n)||e[o].push(n)})}),t[0].map(t[0].mapDimension("value"),function(r,n){for(var a="ec-"+t[0].getName(n),o=0,l=1/0,s=-1/0,u=e[a].length,f=0;f<u;f++)l=Math.min(l,e[a][f]),s=Math.max(s,e[a][f]),o+=e[a][f];var c;return i==="min"?c=l:i==="max"?c=s:i==="average"?c=o/u:c=o,u===0?NaN:c})}function hv(t){var i={};t.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),n=r?"o"+r.id:"i"+e.getMapType();(i[n]=i[n]||[]).push(e)}),A(i,function(e,r){for(var n=vv(H(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(n.cloneShallow()),e[a].mainSeries=e[0]})}function dv(t){var i={};t.eachSeriesByType("map",function(e){var r=e.getMapType();if(!(e.getHostGeoModel()||i[r])){var n={};A(e.seriesGroup,function(o){var l=o.coordinateSystem,s=o.originalData;o.get("showLegendSymbol")&&t.getComponent("legend")&&s.each(s.mapDimension("value"),function(u,f){var c=s.getName(f),v=l.getRegion(c);if(!(!v||isNaN(u))){var h=n[c]||0,d=l.dataToPoint(v.getCenter());n[c]=h+1,s.setItemLayout(f,{point:d,offset:h})}})});var a=e.getData();a.each(function(o){var l=a.getName(o),s=a.getItemLayout(o)||{};s.showLabel=!n[l],a.setItemLayout(o,s)}),i[r]=!0}})}function pv(t){U(Cl),t.registerChartView(fv),t.registerSeriesModel(cv),t.registerLayout(dv),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,hv),Mu("map",t.registerAction)}function gv(t){var i=t;i.hierNode={defaultAncestor:null,ancestor:i,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[i],r,n;r=e.pop();)if(n=r.children,r.isExpand&&n.length)for(var a=n.length,o=a-1;o>=0;o--){var l=n[o];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(l)}}function yv(t,i){var e=t.isExpand?t.children:[],r=t.parentNode.children,n=t.hierNode.i?r[t.hierNode.i-1]:null;if(e.length){xv(t);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;n?(t.hierNode.prelim=n.hierNode.prelim+i(t,n),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else n&&(t.hierNode.prelim=n.hierNode.prelim+i(t,n));t.parentNode.hierNode.defaultAncestor=_v(t,n,t.parentNode.hierNode.defaultAncestor||r[0],i)}function mv(t){var i=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:i},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Ta(t){return arguments.length?t:Dv}function Ot(t,i){return t-=Math.PI/2,{x:i*Math.cos(t),y:i*Math.sin(t)}}function Sv(t,i){return Fe(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function xv(t){for(var i=t.children,e=i.length,r=0,n=0;--e>=0;){var a=i[e];a.hierNode.prelim+=r,a.hierNode.modifier+=r,n+=a.hierNode.change,r+=a.hierNode.shift+n}}function _v(t,i,e,r){if(i){for(var n=t,a=t,o=a.parentNode.children[0],l=i,s=n.hierNode.modifier,u=a.hierNode.modifier,f=o.hierNode.modifier,c=l.hierNode.modifier;l=or(l),a=lr(a),l&&a;){n=or(n),o=lr(o),n.hierNode.ancestor=t;var v=l.hierNode.prelim+c-a.hierNode.prelim-u+r(l,a);v>0&&(wv(bv(l,t,e),t,v),u+=v,s+=v),c+=l.hierNode.modifier,u+=a.hierNode.modifier,s+=n.hierNode.modifier,f+=o.hierNode.modifier}l&&!or(n)&&(n.hierNode.thread=l,n.hierNode.modifier+=c-s),a&&!lr(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-f,e=t)}return e}function or(t){var i=t.children;return i.length&&t.isExpand?i[i.length-1]:t.hierNode.thread}function lr(t){var i=t.children;return i.length&&t.isExpand?i[0]:t.hierNode.thread}function bv(t,i,e){return t.hierNode.ancestor.parentNode===i.parentNode?t.hierNode.ancestor:e}function wv(t,i,e){var r=e/(i.hierNode.i-t.hierNode.i);i.hierNode.change-=r,i.hierNode.shift+=e,i.hierNode.modifier+=e,i.hierNode.prelim+=e,t.hierNode.change+=r}function Dv(t,i){return t.parentNode===i.parentNode?1:2}var Tv=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),Av=function(t){N(i,t);function i(e){return t.call(this,e)||this}return i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new Tv},i.prototype.buildPath=function(e,r){var n=r.childPoints,a=n.length,o=r.parentPoint,l=n[0],s=n[a-1];if(a===1){e.moveTo(o[0],o[1]),e.lineTo(l[0],l[1]);return}var u=r.orient,f=u==="TB"||u==="BT"?0:1,c=1-f,v=$(r.forkPosition,1),h=[];h[f]=o[f],h[c]=o[c]+(s[c]-o[c])*v,e.moveTo(o[0],o[1]),e.lineTo(h[0],h[1]),e.moveTo(l[0],l[1]),h[f]=l[f],e.lineTo(h[0],h[1]),h[f]=s[f],e.lineTo(h[0],h[1]),e.lineTo(s[0],s[1]);for(var d=1;d<a-1;d++){var g=n[d];e.moveTo(g[0],g[1]),h[f]=g[f],e.lineTo(h[0],h[1])}},i}(ft),Cv=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._mainGroup=new ae,e}return i.prototype.init=function(e,r){this._controller=new mn(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},i.prototype.render=function(e,r,n){var a=e.getData(),o=e.layoutInfo,l=this._mainGroup,s=e.get("layout");s==="radial"?(l.x=o.x+o.width/2,l.y=o.y+o.height/2):(l.x=o.x,l.y=o.y),this._updateViewCoordSys(e,n),this._updateController(e,r,n);var u=this._data;a.diff(u).add(function(f){Aa(a,f)&&Ca(a,f,null,l,e)}).update(function(f,c){var v=u.getItemGraphicEl(c);if(!Aa(a,f)){v&&La(u,c,v,l,e);return}Ca(a,f,v,l,e)}).remove(function(f){var c=u.getItemGraphicEl(f);c&&La(u,f,c,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(f,c){f.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:c})})}),this._data=a},i.prototype._updateViewCoordSys=function(e,r){var n=e.getData(),a=[];n.each(function(c){var v=n.getItemLayout(c);v&&!isNaN(v.x)&&!isNaN(v.y)&&a.push([+v.x,+v.y])});var o=[],l=[];Il(a,o,l);var s=this._min,u=this._max;l[0]-o[0]===0&&(o[0]=s?s[0]:o[0]-1,l[0]=u?u[0]:l[0]+1),l[1]-o[1]===0&&(o[1]=s?s[1]:o[1]-1,l[1]=u?u[1]:l[1]+1);var f=e.coordinateSystem=new Sn;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1]),f.setCenter(e.get("center"),r),f.setZoom(e.get("zoom")),this.group.attr({x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY}),this._min=o,this._max=l},i.prototype._updateController=function(e,r,n){var a=this,o=this._controller,l=this._controllerHost,s=this.group;o.setPointerChecker(function(u,f,c){var v=s.getBoundingRect();return v.applyTransform(s.transform),v.contain(f,c)&&!Ll(u,n,e)}),o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){Pl(l,u.dx,u.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Ml(l,u.scale,u.originX,u.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(e),n.updateLabelLayout()})},i.prototype._updateNodeAndLinkScale=function(e){var r=e.getData(),n=this._getNodeGlobalScale(e);r.eachItemGraphicEl(function(a,o){a.setSymbolScale(n)})},i.prototype._getNodeGlobalScale=function(e){var r=e.coordinateSystem;if(r.type!=="view")return 1;var n=this._nodeScaleRatio,a=r.scaleX||1,o=r.getZoom(),l=(o-1)*n+1;return l/a},i.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},i.type="tree",i}(Se);function Aa(t,i){var e=t.getItemLayout(i);return e&&!isNaN(e.x)&&!isNaN(e.y)}function Ca(t,i,e,r,n){var a=!e,o=t.tree.getNodeByDataIndex(i),l=o.getModel(),s=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?s:"#fff",f=t.tree.root,c=o.parentNode===f?o:o.parentNode||o,v=t.getItemGraphicEl(c.dataIndex),h=c.getLayout(),d=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:h,g=o.getLayout();a?(e=new Vl(t,i,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=d.x,e.y=d.y):e.updateData(t,i,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=g.rawX,e.__radialRawY=g.rawY,r.add(e),t.setItemGraphicEl(i,e),e.__oldX=e.x,e.__oldY=e.y,_e(e,{x:g.x,y:g.y},n);var y=e.getSymbolPath();if(n.get("layout")==="radial"){var m=f.children[0],x=m.getLayout(),S=m.children.length,_=void 0,b=void 0;if(g.x===x.x&&o.isExpand===!0&&m.children.length){var w={x:(m.children[0].getLayout().x+m.children[S-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[S-1].getLayout().y)/2};_=Math.atan2(w.y-x.y,w.x-x.x),_<0&&(_=Math.PI*2+_),b=w.x<x.x,b&&(_=_-Math.PI)}else _=Math.atan2(g.y-x.y,g.x-x.x),_<0&&(_=Math.PI*2+_),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(b=g.x<x.x,b&&(_=_-Math.PI)):(b=g.x>x.x,b||(_=_-Math.PI));var D=b?"left":"right",T=l.getModel("label"),C=T.get("rotate"),I=C*(Math.PI/180),L=y.getTextContent();L&&(y.setTextConfig({position:T.get("position")||D,rotation:C==null?-_:I,origin:"center"}),L.setStyle("verticalAlign","middle"))}var M=l.get(["emphasis","focus"]),V=M==="relative"?jl(o.getAncestorsIndices(),o.getDescendantIndices()):M==="ancestor"?o.getAncestorsIndices():M==="descendant"?o.getDescendantIndices():null;V&&(ce(e).focus=V),Iv(n,o,f,e,d,h,g,r),e.__edge&&(e.onHoverStateChange=function(P){if(P!=="blur"){var j=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);j&&j.hoverState===Vu||Tl(e.__edge,P)}})}function Iv(t,i,e,r,n,a,o,l){var s=i.getModel(),u=t.get("edgeShape"),f=t.get("layout"),c=t.getOrient(),v=t.get(["lineStyle","curveness"]),h=t.get("edgeForkPosition"),d=s.getModel("lineStyle").getLineStyle(),g=r.__edge;if(u==="curve")i.parentNode&&i.parentNode!==e&&(g||(g=r.__edge=new ju({shape:Qr(f,c,v,n,n)})),_e(g,{shape:Qr(f,c,v,a,o)},t));else if(u==="polyline"&&f==="orthogonal"&&i!==e&&i.children&&i.children.length!==0&&i.isExpand===!0){for(var y=i.children,m=[],x=0;x<y.length;x++){var S=y[x].getLayout();m.push([S.x,S.y])}g||(g=r.__edge=new Av({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:c,forkPosition:h}})),_e(g,{shape:{parentPoint:[o.x,o.y],childPoints:m}},t)}g&&!(u==="polyline"&&!i.isExpand)&&(g.useStyle(He({strokeNoScale:!0,fill:null},d)),Ze(g,s,"lineStyle"),Ii(g),l.add(g))}function Ia(t,i,e,r,n){var a=i.tree.root,o=hs(a,t),l=o.source,s=o.sourceLayout,u=i.getItemGraphicEl(t.dataIndex);if(u){var f=i.getItemGraphicEl(l.dataIndex),c=f.__edge,v=u.__edge||(l.isExpand===!1||l.children.length===1?c:void 0),h=r.get("edgeShape"),d=r.get("layout"),g=r.get("orient"),y=r.get(["lineStyle","curveness"]);v&&(h==="curve"?Ci(v,{shape:Qr(d,g,y,s,s),style:{opacity:0}},r,{cb:function(){e.remove(v)},removeOpt:n}):h==="polyline"&&r.get("layout")==="orthogonal"&&Ci(v,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,{cb:function(){e.remove(v)},removeOpt:n}))}}function hs(t,i){for(var e=i.parentNode===t?i:i.parentNode||i,r;r=e.getLayout(),r==null;)e=e.parentNode===t?e:e.parentNode||e;return{source:e,sourceLayout:r}}function La(t,i,e,r,n){var a=t.tree.getNodeByDataIndex(i),o=t.tree.root,l=hs(o,a).sourceLayout,s={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};Ci(e,{x:l.x+1,y:l.y+1},n,{cb:function(){r.remove(e),t.setItemGraphicEl(i,null)},removeOpt:s}),e.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),a.children.forEach(function(u){Ia(u,t,r,n,s)}),Ia(a,t,r,n,s)}function Qr(t,i,e,r,n){var a,o,l,s,u,f,c,v;if(t==="radial"){u=r.rawX,c=r.rawY,f=n.rawX,v=n.rawY;var h=Ot(u,c),d=Ot(u,c+(v-c)*e),g=Ot(f,v+(c-v)*e),y=Ot(f,v);return{x1:h.x||0,y1:h.y||0,x2:y.x||0,y2:y.y||0,cpx1:d.x||0,cpy1:d.y||0,cpx2:g.x||0,cpy2:g.y||0}}else u=r.x,c=r.y,f=n.x,v=n.y,(i==="LR"||i==="RL")&&(a=u+(f-u)*e,o=c,l=f+(u-f)*e,s=v),(i==="TB"||i==="BT")&&(a=u,o=c+(v-c)*e,l=f,s=v+(c-v)*e);return{x1:u,y1:c,x2:f,y2:v,cpx1:a,cpy1:o,cpx2:l,cpy2:s}}var Lv=function(){function t(i,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=i||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(i,e,r){le(i)&&(r=e,e=i,i=null),i=i||{},te(i)&&(i={order:i});var n=i.order||"preorder",a=this[i.attr||"children"],o;n==="preorder"&&(o=e.call(r,this));for(var l=0;!o&&l<a.length;l++)a[l].eachNode(i,e,r);n==="postorder"&&e.call(r,this)},t.prototype.updateDepthAndHeight=function(i){var e=0;this.depth=i;for(var r=0;r<this.children.length;r++){var n=this.children[r];n.updateDepthAndHeight(i+1),n.height>e&&(e=n.height)}this.height=e+1},t.prototype.getNodeById=function(i){if(this.getId()===i)return this;for(var e=0,r=this.children,n=r.length;e<n;e++){var a=r[e].getNodeById(i);if(a)return a}},t.prototype.contains=function(i){if(i===this)return!0;for(var e=0,r=this.children,n=r.length;e<n;e++){var a=r[e].contains(i);if(a)return a}},t.prototype.getAncestors=function(i){for(var e=[],r=i?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var i=[],e=this;e;)i.push(e.dataIndex),e=e.parentNode;return i.reverse(),i},t.prototype.getDescendantIndices=function(){var i=[];return this.eachNode(function(e){i.push(e.dataIndex)}),i},t.prototype.getValue=function(i){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(i||"value"),this.dataIndex)},t.prototype.setLayout=function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(i){if(!(this.dataIndex<0)){var e=this.hostTree,r=e.data.getItemModel(this.dataIndex);return r.getModel(i)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,i,e)},t.prototype.getVisual=function(i){return this.hostTree.data.getItemVisual(this.dataIndex,i)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var i=this.parentNode.children,e=0;e<i.length;++e)if(i[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(i){for(var e=i.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(i){return i!==this&&i.isAncestorOf(this)},t}(),zn=function(){function t(i){this.type="tree",this._nodes=[],this.hostModel=i}return t.prototype.eachNode=function(i,e,r){this.root.eachNode(i,e,r)},t.prototype.getNodeByDataIndex=function(i){var e=this.data.getRawIndex(i);return this._nodes[e]},t.prototype.getNodeById=function(i){return this.root.getNodeById(i)},t.prototype.update=function(){for(var i=this.data,e=this._nodes,r=0,n=e.length;r<n;r++)e[r].dataIndex=-1;for(var r=0,n=i.count();r<n;r++)e[i.getRawIndex(r)].dataIndex=r},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(i,e,r){var n=new t(e),a=[],o=1;l(i);function l(f,c){var v=f.value;o=Math.max(o,B(v)?v.length:1),a.push(f);var h=new Lv($e(f.name,""),n);c?Pv(h,c):n.root=h,n._nodes.push(h);var d=f.children;if(d)for(var g=0;g<d.length;g++)l(d[g],h)}n.root.updateDepthAndHeight(0);var s=xn(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Le(s,e);return u.initData(a),r&&r(u),vs({mainData:u,struct:n,structAttr:"tree"}),n.update(),n},t}();function Pv(t,i){var e=i.children;t.parentNode!==i&&(e.push(t),t.parentNode=i)}function Qt(t,i,e){if(t&&be(i,t.type)>=0){var r=e.getData().tree.root,n=t.targetNode;if(te(n)&&(n=r.getNodeById(n)),n&&r.contains(n))return{node:n};var a=t.targetNodeId;if(a!=null&&(n=r.getNodeById(a)))return{node:n}}}function ds(t){for(var i=[];t;)t=t.parentNode,t&&i.push(t);return i.reverse()}function Bn(t,i){var e=ds(t);return be(e,i)>=0}function Zi(t,i){for(var e=[];t;){var r=t.dataIndex;e.push({name:t.name,dataIndex:r,value:i.getRawValue(r)}),t=t.parentNode}return e.reverse(),e}var Mv=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return i.prototype.getInitialData=function(e){var r={name:e.name,children:e.data},n=e.leaves||{},a=new ot(n,this,this.ecModel),o=zn.createTree(r,this,l);function l(c){c.wrapMethod("getItemModel",function(v,h){var d=o.getNodeByDataIndex(h);return d&&d.children.length&&d.isExpand||(v.parentModel=a),v})}var s=0;o.eachNode("preorder",function(c){c.depth>s&&(s=c.depth)});var u=e.expandAndCollapse,f=u&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return o.root.eachNode("preorder",function(c){var v=c.hostTree.data.getRawDataItem(c.dataIndex);c.isExpand=v&&v.collapsed!=null?!v.collapsed:c.depth<=f}),o.data},i.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.formatTooltip=function(e,r,n){for(var a=this.getData().tree,o=a.root.children[0],l=a.getNodeByDataIndex(e),s=l.getValue(),u=l.name;l&&l!==o;)u=l.parentNode.name+"."+u,l=l.parentNode;return Re("nameValue",{name:u,value:s,noValue:isNaN(s)||s==null})},i.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=Zi(n,this),r.collapsed=!n.isExpand,r},i.type="series.tree",i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},i}(De);function Vv(t,i,e){for(var r=[t],n=[],a;a=r.pop();)if(n.push(a),a.isExpand){var o=a.children;if(o.length)for(var l=0;l<o.length;l++)r.push(o[l])}for(;a=n.pop();)i(a,e)}function Nt(t,i){for(var e=[t],r;r=e.pop();)if(i(r),r.isExpand){var n=r.children;if(n.length)for(var a=n.length-1;a>=0;a--)e.push(n[a])}}function jv(t,i){t.eachSeriesByType("tree",function(e){Nv(e,i)})}function Nv(t,i){var e=Sv(t,i);t.layoutInfo=e;var r=t.get("layout"),n=0,a=0,o=null;r==="radial"?(n=2*Math.PI,a=Math.min(e.height,e.width)/2,o=Ta(function(S,_){return(S.parentNode===_.parentNode?1:2)/S.depth})):(n=e.width,a=e.height,o=Ta());var l=t.getData().tree.root,s=l.children[0];if(s){gv(l),Vv(s,yv,o),l.hierNode.modifier=-s.hierNode.prelim,Nt(s,mv);var u=s,f=s,c=s;Nt(s,function(S){var _=S.getLayout().x;_<u.getLayout().x&&(u=S),_>f.getLayout().x&&(f=S),S.depth>c.depth&&(c=S)});var v=u===f?1:o(u,f)/2,h=v-u.getLayout().x,d=0,g=0,y=0,m=0;if(r==="radial")d=n/(f.getLayout().x+v+h),g=a/(c.depth-1||1),Nt(s,function(S){y=(S.getLayout().x+h)*d,m=(S.depth-1)*g;var _=Ot(y,m);S.setLayout({x:_.x,y:_.y,rawX:y,rawY:m},!0)});else{var x=t.getOrient();x==="RL"||x==="LR"?(g=a/(f.getLayout().x+v+h),d=n/(c.depth-1||1),Nt(s,function(S){m=(S.getLayout().x+h)*g,y=x==="LR"?(S.depth-1)*d:n-(S.depth-1)*d,S.setLayout({x:y,y:m},!0)})):(x==="TB"||x==="BT")&&(d=n/(f.getLayout().x+v+h),g=a/(c.depth-1||1),Nt(s,function(S){y=(S.getLayout().x+h)*d,m=x==="TB"?(S.depth-1)*g:a-(S.depth-1)*g,S.setLayout({x:y,y:m},!0)}))}}}function Ev(t){t.eachSeriesByType("tree",function(i){var e=i.getData(),r=e.tree;r.eachNode(function(n){var a=n.getModel(),o=a.getModel("itemStyle").getItemStyle(),l=e.ensureUniqueItemVisual(n.dataIndex,"style");O(l,o)})})}function Rv(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(r){var n=i.dataIndex,a=r.getData().tree,o=a.getNodeByDataIndex(n);o.isExpand=!o.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(i,e,r){e.eachComponent({mainType:"series",subType:"tree",query:i},function(n){var a=n.coordinateSystem,o=Nl(a,i,void 0,r);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}function kv(t){t.registerChartView(Cv),t.registerSeriesModel(Mv),t.registerLayout(jv),t.registerVisual(Ev),Rv(t)}var Pa=["treemapZoomToNode","treemapRender","treemapMove"];function zv(t){for(var i=0;i<Pa.length;i++)t.registerAction({type:Pa[i],update:"updateView"},xt);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"treemap",query:e},n);function n(a,o){var l=["treemapZoomToNode","treemapRootToNode"],s=Qt(e,l,a);if(s){var u=a.getViewRoot();u&&(e.direction=Bn(u,s.node)?"rollUp":"drillDown"),a.resetViewRoot(s.node)}}})}function ps(t){var i=t.getData(),e=i.tree,r={};e.eachNode(function(n){for(var a=n;a&&a.depth>1;)a=a.parentNode;var o=Wr(t.ecModel,a.name||a.dataIndex+"",r);n.setVisual("decal",o)})}var Bv=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.preventUsingHoverLayer=!0,e}return i.prototype.getInitialData=function(e,r){var n={name:e.name,children:e.data};gs(n);var a=e.levels||[],o=this.designatedVisualItemStyle={},l=new ot({itemStyle:o},this,r);a=e.levels=Ov(a,r);var s=H(a||[],function(c){return new ot(c,l,r)},this),u=zn.createTree(n,this,f);function f(c){c.wrapMethod("getItemModel",function(v,h){var d=u.getNodeByDataIndex(h),g=d?s[d.depth]:null;return v.parentModel=g||l,v})}return u.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.formatTooltip=function(e,r,n){var a=this.getData(),o=this.getRawValue(e),l=a.getName(e);return Re("nameValue",{name:l,value:o})},i.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=Zi(n,this),r.treePathInfo=r.treeAncestors,r},i.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},O(this.layoutInfo,e)},i.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=at(),this._idIndexMapCount=0);var n=r.get(e);return n==null&&r.set(e,n=this._idIndexMapCount++),n},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},i.prototype.enableAriaDecal=function(){ps(this)},i.type="series.treemap",i.layoutMode="box",i.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},i}(De);function gs(t){var i=0;A(t.children,function(r){gs(r);var n=r.value;B(n)&&(n=n[0]),i+=n});var e=t.value;B(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=i),e<0&&(e=0),B(t.value)?t.value[0]=e:t.value=e}function Ov(t,i){var e=Ke(i.get("color")),r=Ke(i.get(["aria","decal","decals"]));if(e){t=t||[];var n,a;A(t,function(l){var s=new ot(l),u=s.get("color"),f=s.get("decal");(s.get(["itemStyle","color"])||u&&u!=="none")&&(n=!0),(s.get(["itemStyle","decal"])||f&&f!=="none")&&(a=!0)});var o=t[0]||(t[0]={});return n||(o.color=e.slice()),!a&&r&&(o.decal=r.slice()),t}}var Gv=8,Ma=8,sr=5,Hv=function(){function t(i){this.group=new ae,i.add(this.group)}return t.prototype.render=function(i,e,r,n){var a=i.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!r)){var l=a.getModel("itemStyle"),s=a.getModel("emphasis"),u=l.getModel("textStyle"),f=s.getModel(["itemStyle","textStyle"]),c={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,c,u),this._renderContent(i,c,l,s,u,f,n),_n(o,c.pos,c.box)}},t.prototype._prepare=function(i,e,r){for(var n=i;n;n=n.parentNode){var a=$e(n.getModel().get("name"),""),o=r.getTextRect(a),l=Math.max(o.width+Gv*2,e.emptyItemWidth);e.totalWidth+=l+Ma,e.renderList.push({node:n,text:a,width:l})}},t.prototype._renderContent=function(i,e,r,n,a,o,l){for(var s=0,u=e.emptyItemWidth,f=i.get(["breadcrumb","height"]),c=Nu(e.pos,e.box),v=e.totalWidth,h=e.renderList,d=n.getModel("itemStyle").getItemStyle(),g=h.length-1;g>=0;g--){var y=h[g],m=y.node,x=y.width,S=y.text;v>c.width&&(v-=x-u,x=u,S=null);var _=new Xt({shape:{points:Wv(s,0,x,f,g===h.length-1,g===0)},style:He(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new pe({style:me(a,{text:S})}),textConfig:{position:"inside"},z2:oi*1e4,onclick:se(l,m)});_.disableLabelAnimation=!0,_.getTextContent().ensureState("emphasis").style=me(o,{text:S}),_.ensureState("emphasis").style=d,we(_,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(_),Fv(_,i,m),s+=x+Ma}},t.prototype.remove=function(){this.group.removeAll()},t}();function Wv(t,i,e,r,n,a){var o=[[n?t:t-sr,i],[t+e,i],[t+e,i+r],[n?t:t-sr,i+r]];return!a&&o.splice(2,0,[t+e+sr,i+r/2]),!n&&o.push([t,i+r/2]),o}function Fv(t,i,e){ce(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:i.componentIndex,seriesIndex:i.seriesIndex,seriesName:i.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Zi(e,i)}}var $v=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(i,e,r,n,a){return this._elExistsMap[i.id]?!1:(this._elExistsMap[i.id]=!0,this._storage.push({el:i,target:e,duration:r,delay:n,easing:a}),!0)},t.prototype.finished=function(i){return this._finishedCallback=i,this},t.prototype.start=function(){for(var i=this,e=this._storage.length,r=function(){e--,e<=0&&(i._storage.length=0,i._elExistsMap={},i._finishedCallback&&i._finishedCallback())},n=0,a=this._storage.length;n<a;n++){var o=this._storage[n];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},t}();function Uv(){return new $v}var Jr=ae,Va=Me,ja=3,Na="label",Ea="upperLabel",Yv=oi*10,Xv=oi*2,Zv=oi*3,ht=Rl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ra=function(t){var i=ht(t);return i.stroke=i.fill=i.lineWidth=null,i},Mi=je(),Kv=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._state="ready",e._storage=Et(),e}return i.prototype.render=function(e,r,n,a){var o=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(be(o,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=r;var l=["treemapZoomToNode","treemapRootToNode"],s=Qt(a,l,e),u=a&&a.type,f=e.layoutInfo,c=!this._oldTree,v=this._storage,h=u==="treemapRootToNode"&&s&&v?{rootNodeGroup:v.nodeGroup[s.node.getRawIndex()],direction:a.direction}:null,d=this._giveContainerGroup(f),g=e.get("animation"),y=this._doRender(d,e,h);g&&!c&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(d,y,e,h):y.renderFinally(),this._resetController(n),this._renderBreadcrumb(e,n,s)}},i.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new Jr,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},i.prototype._doRender=function(e,r,n){var a=r.getData().tree,o=this._oldTree,l=Et(),s=Et(),u=this._storage,f=[];function c(x,S,_,b){return qv(r,s,u,n,l,f,x,S,_,b)}g(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var v=y(u);if(this._oldTree=a,this._storage=s,this._controllerHost){var h=this.seriesModel.layoutInfo,d=a.root.getLayout();d.width===h.width&&d.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:l,willDeleteEls:v,renderFinally:m};function g(x,S,_,b,w){b?(S=x,A(x,function(C,I){!C.isRemoved()&&T(I,I)})):new Wi(S,x,D,D).add(T).update(T).remove(se(T,null)).execute();function D(C){return C.getId()}function T(C,I){var L=C!=null?x[C]:null,M=I!=null?S[I]:null,V=c(L,M,_,w);V&&g(L&&L.viewChildren||[],M&&M.viewChildren||[],V,b,w+1)}}function y(x){var S=Et();return x&&A(x,function(_,b){var w=S[b];A(_,function(D){D&&(w.push(D),Mi(D).willDelete=!0)})}),S}function m(){A(v,function(x){A(x,function(S){S.parent&&S.parent.remove(S)})}),A(f,function(x){x.invisible=!0,x.dirty()})}},i.prototype._doAnimation=function(e,r,n,a){var o=n.get("animationDurationUpdate"),l=n.get("animationEasing"),s=(le(o)?0:o)||0,u=(le(l)?null:l)||"cubicOut",f=Uv();A(r.willDeleteEls,function(c,v){A(c,function(h,d){if(!h.invisible){var g=h.parent,y,m=Mi(g);if(a&&a.direction==="drillDown")y=g===a.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var x=0,S=0;m.willDelete||(x=m.nodeWidth/2,S=m.nodeHeight/2),y=v==="nodeGroup"?{x,y:S,style:{opacity:0}}:{shape:{x,y:S,width:0,height:0},style:{opacity:0}}}y&&f.add(h,y,s,0,u)}})}),A(this._storage,function(c,v){A(c,function(h,d){var g=r.lastsForAnimation[v][d],y={};g&&(h instanceof ae?g.oldX!=null&&(y.x=h.x,y.y=h.y,h.x=g.oldX,h.y=g.oldY):(g.oldShape&&(y.shape=O({},h.shape),h.setShape(g.oldShape)),g.fadein?(h.setStyle("opacity",0),y.style={opacity:1}):h.style.opacity!==1&&(y.style={opacity:1})),f.add(h,y,s,0,u))})},this),this._state="animating",f.finished(F(function(){this._state="ready",r.renderFinally()},this)).start()},i.prototype._resetController=function(e){var r=this._controller,n=this._controllerHost;n||(this._controllerHost={target:this.group},n=this._controllerHost),r||(r=this._controller=new mn(e.getZr()),r.enable(this.seriesModel.get("roam")),n.zoomLimit=this.seriesModel.get("scaleLimit"),n.zoom=this.seriesModel.get("zoom"),r.on("pan",F(this._onPan,this)),r.on("zoom",F(this._onZoom,this)));var a=new lt(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(o,l,s){return a.contain(l,s)})},i.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},i.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>ja||Math.abs(e.dy)>ja)){var r=this.seriesModel.getData().tree.root;if(!r)return;var n=r.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},i.prototype._onZoom=function(e){var r=e.originX,n=e.originY,a=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var l=o.getLayout();if(!l)return;var s=new lt(l.x,l.y,l.width,l.height),u=null,f=this._controllerHost;u=f.zoomLimit;var c=f.zoom=f.zoom||1;if(c*=a,u){var v=u.min||0,h=u.max||1/0;c=Math.max(Math.min(h,c),v)}var d=c/f.zoom;f.zoom=c;var g=this.seriesModel.layoutInfo;r-=g.x,n-=g.y;var y=bn();Zt(y,y,[-r,-n]),Eu(y,y,[d,d]),Zt(y,y,[r,n]),s.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},i.prototype._initEvents=function(e){var r=this;e.on("click",function(n){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(a){var o=r.findTarget(n.offsetX,n.offsetY);if(o){var l=o.node;if(l.getLayout().isLeafRoot)r._rootToNode(o);else if(a==="zoomToNode")r._zoomToNode(o);else if(a==="link"){var s=l.hostTree.data.getItemModel(l.dataIndex),u=s.get("link",!0),f=s.get("target",!0)||"blank";u&&El(u,f)}}}}},this)},i.prototype._renderBreadcrumb=function(e,r,n){var a=this;n||(n=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),n||(n={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Hv(this.group))).render(e,r,n.node,function(o){a._state!=="animating"&&(Bn(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},i.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Et(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},i.prototype.dispose=function(){this._clearController()},i.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},i.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},i.prototype.findTarget=function(e,r){var n,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var l=this._storage.background[o.getRawIndex()];if(l){var s=l.transformCoordToLocal(e,r),u=l.shape;if(u.x<=s[0]&&s[0]<=u.x+u.width&&u.y<=s[1]&&s[1]<=u.y+u.height)n={node:o,offsetX:s[0],offsetY:s[1]};else return!1}},this),n},i.type="treemap",i}(Se);function Et(){return{nodeGroup:[],background:[],content:[]}}function qv(t,i,e,r,n,a,o,l,s,u){if(!o)return;var f=o.getLayout(),c=t.getData(),v=o.getModel();if(c.setItemGraphicEl(o.dataIndex,null),!f||!f.isInView)return;var h=f.width,d=f.height,g=f.borderWidth,y=f.invisible,m=o.getRawIndex(),x=l&&l.getRawIndex(),S=o.viewChildren,_=f.upperHeight,b=S&&S.length,w=v.getModel("itemStyle"),D=v.getModel(["emphasis","itemStyle"]),T=v.getModel(["blur","itemStyle"]),C=v.getModel(["select","itemStyle"]),I=w.get("borderRadius")||0,L=ie("nodeGroup",Jr);if(!L)return;if(s.add(L),L.x=f.x||0,L.y=f.y||0,L.markRedraw(),Mi(L).nodeWidth=h,Mi(L).nodeHeight=d,f.isAboveViewRoot)return L;var M=ie("background",Va,u,Xv);M&&Z(L,M,b&&f.upperLabelHeight);var V=v.getModel("emphasis"),P=V.get("focus"),j=V.get("blurScope"),R=V.get("disabled"),k=P==="ancestor"?o.getAncestorsIndices():P==="descendant"?o.getDescendantIndices():P;if(b)fa(L)&&zt(L,!1),M&&(zt(M,!R),c.setItemGraphicEl(o.dataIndex,M),ca(M,k,j));else{var z=ie("content",Va,u,Zv);z&&X(L,z),M.disableMorphing=!0,M&&fa(M)&&zt(M,!1),zt(L,!R),c.setItemGraphicEl(o.dataIndex,L);var W=v.getShallow("cursor");W&&z.attr("cursor",W),ca(L,k,j)}return L;function Z(Y,G,ee){var K=ce(G);if(K.dataIndex=o.dataIndex,K.seriesIndex=t.seriesIndex,G.setShape({x:0,y:0,width:h,height:d,r:I}),y)q(G);else{G.invisible=!1;var re=o.getVisual("style"),ve=re.stroke,ge=Ra(w);ge.fill=ve;var ne=ht(D);ne.fill=D.get("borderColor");var he=ht(T);he.fill=T.get("borderColor");var Te=ht(C);if(Te.fill=C.get("borderColor"),ee){var Ne=h-2*g;J(G,ve,re.opacity,{x:g,y:0,width:Ne,height:_})}else G.removeTextContent();G.setStyle(ge),G.ensureState("emphasis").style=ne,G.ensureState("blur").style=he,G.ensureState("select").style=Te,Ii(G)}Y.add(G)}function X(Y,G){var ee=ce(G);ee.dataIndex=o.dataIndex,ee.seriesIndex=t.seriesIndex;var K=Math.max(h-2*g,0),re=Math.max(d-2*g,0);if(G.culling=!0,G.setShape({x:g,y:g,width:K,height:re,r:I}),y)q(G);else{G.invisible=!1;var ve=o.getVisual("style"),ge=ve.fill,ne=Ra(w);ne.fill=ge,ne.decal=ve.decal;var he=ht(D),Te=ht(T),Ne=ht(C);J(G,ge,ve.opacity,null),G.setStyle(ne),G.ensureState("emphasis").style=he,G.ensureState("blur").style=Te,G.ensureState("select").style=Ne,Ii(G)}Y.add(G)}function q(Y){!Y.invisible&&a.push(Y)}function J(Y,G,ee,K){var re=v.getModel(K?Ea:Na),ve=$e(v.get("name"),null),ge=re.getShallow("show");Xe(Y,We(v,K?Ea:Na),{defaultText:ge?ve:null,inheritColor:G,defaultOpacity:ee,labelFetcher:t,labelDataIndex:o.dataIndex});var ne=Y.getTextContent();if(ne){var he=ne.style,Te=Ru(he.padding||0);K&&(Y.setTextConfig({layoutRect:K}),ne.disableLabelLayout=!0),ne.beforeUpdate=function(){var ct=Math.max((K?K.width:Y.shape.width)-Te[1]-Te[3],0),Vt=Math.max((K?K.height:Y.shape.height)-Te[0]-Te[2],0);(he.width!==ct||he.height!==Vt)&&ne.setStyle({width:ct,height:Vt})},he.truncateMinChar=2,he.lineOverflow="truncate",Q(he,K,f);var Ne=ne.getState("emphasis");Q(Ne?Ne.style:null,K,f)}}function Q(Y,G,ee){var K=Y?Y.text:null;if(!G&&ee.isLeafRoot&&K!=null){var re=t.get("drillDownIcon",!0);Y.text=re?re+" "+K:K}}function ie(Y,G,ee,K){var re=x!=null&&e[Y][x],ve=n[Y];return re?(e[Y][x]=null,Ae(ve,re)):y||(re=new G,re instanceof Fi&&(re.z2=Qv(ee,K)),et(ve,re)),i[Y][m]=re}function Ae(Y,G){var ee=Y[m]={};G instanceof Jr?(ee.oldX=G.x,ee.oldY=G.y):ee.oldShape=O({},G.shape)}function et(Y,G){var ee=Y[m]={},K=o.parentNode,re=G instanceof ae;if(K&&(!r||r.direction==="drillDown")){var ve=0,ge=0,ne=n.background[K.getRawIndex()];!r&&ne&&ne.oldShape&&(ve=ne.oldShape.width,ge=ne.oldShape.height),re?(ee.oldX=0,ee.oldY=ge):ee.oldShape={x:ve,y:ge,width:0,height:0}}ee.fadein=!re}}function Qv(t,i){return t*Yv+i}var Jt=A,Jv=Ve,Vi=-1,fe=function(){function t(i){var e=i.mappingMethod,r=i.type,n=this.option=oe(i);this.type=r,this.mappingMethod=e,this._normalizeData=ih[e];var a=t.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(ur(n),eh(n)):e==="category"?n.categories?th(n):ur(n,!0):(Fr(e!=="linear"||n.dataExtent),ur(n))}return t.prototype.mapValueToVisual=function(i){var e=this._normalizeData(i);return this._normalizedToVisual(e,i)},t.prototype.getNormalizer=function(){return F(this._normalizeData,this)},t.listVisualTypes=function(){return de(t.visualHandlers)},t.isValidType=function(i){return t.visualHandlers.hasOwnProperty(i)},t.eachVisual=function(i,e,r){Ve(i)?A(i,e,r):e.call(r,i)},t.mapVisual=function(i,e,r){var n,a=B(i)?[]:Ve(i)?{}:(n=!0,null);return t.eachVisual(i,function(o,l){var s=e.call(r,o,l);n?a=s:a[l]=s}),a},t.retrieveVisuals=function(i){var e={},r;return i&&Jt(t.visualHandlers,function(n,a){i.hasOwnProperty(a)&&(e[a]=i[a],r=!0)}),r?e:null},t.prepareVisualTypes=function(i){if(B(i))i=i.slice();else if(Jv(i)){var e=[];Jt(i,function(r,n){e.push(n)}),i=e}else return[];return i.sort(function(r,n){return n==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),i},t.dependsOn=function(i,e){return e==="color"?!!(i&&i.indexOf(e)===0):i===e},t.findPieceIndex=function(i,e,r){for(var n,a=1/0,o=0,l=e.length;o<l;o++){var s=e[o].value;if(s!=null){if(s===i||te(s)&&s===i+"")return o;r&&v(s,o)}}for(var o=0,l=e.length;o<l;o++){var u=e[o],f=u.interval,c=u.close;if(f){if(f[0]===-1/0){if(di(c[1],i,f[1]))return o}else if(f[1]===1/0){if(di(c[0],f[0],i))return o}else if(di(c[0],f[0],i)&&di(c[1],i,f[1]))return o;r&&v(f[0],o),r&&v(f[1],o)}}if(r)return i===1/0?e.length-1:i===-1/0?0:n;function v(h,d){var g=Math.abs(h-i);g<a&&(a=g,n=d)}},t.visualHandlers={color:{applyVisual:Rt("color"),getColorMapper:function(){var i=this.option;return F(i.mappingMethod==="category"?function(e,r){return!r&&(e=this._normalizeData(e)),Gt.call(this,e)}:function(e,r,n){var a=!!n;return!r&&(e=this._normalizeData(e)),n=er(e,i.parsedVisual,n),a?n:Ji(n,"rgba")},this)},_normalizedToVisual:{linear:function(i){return Ji(er(i,this.option.parsedVisual),"rgba")},category:Gt,piecewise:function(i,e){var r=tn.call(this,e);return r==null&&(r=Ji(er(i,this.option.parsedVisual),"rgba")),r},fixed:dt}},colorHue:hi(function(i,e){return $t(i,e)}),colorSaturation:hi(function(i,e){return $t(i,null,e)}),colorLightness:hi(function(i,e){return $t(i,null,null,e)}),colorAlpha:hi(function(i,e){return Li(i,e)}),decal:{applyVisual:Rt("decal"),_normalizedToVisual:{linear:null,category:Gt,piecewise:null,fixed:null}},opacity:{applyVisual:Rt("opacity"),_normalizedToVisual:en([0,1])},liftZ:{applyVisual:Rt("liftZ"),_normalizedToVisual:{linear:dt,category:dt,piecewise:dt,fixed:dt}},symbol:{applyVisual:function(i,e,r){var n=this.mapValueToVisual(i);r("symbol",n)},_normalizedToVisual:{linear:ka,category:Gt,piecewise:function(i,e){var r=tn.call(this,e);return r==null&&(r=ka.call(this,i)),r},fixed:dt}},symbolSize:{applyVisual:Rt("symbolSize"),_normalizedToVisual:en([0,1])}},t}();function eh(t){var i=t.pieceList;t.hasSpecialVisual=!1,A(i,function(e,r){e.originIndex=r,e.visual!=null&&(t.hasSpecialVisual=!0)})}function th(t){var i=t.categories,e=t.categoryMap={},r=t.visual;if(Jt(i,function(o,l){e[o]=l}),!B(r)){var n=[];Ve(r)?Jt(r,function(o,l){var s=e[l];n[s??Vi]=o}):n[Vi]=r,r=ys(t,n)}for(var a=i.length-1;a>=0;a--)r[a]==null&&(delete e[i[a]],i.pop())}function ur(t,i){var e=t.visual,r=[];Ve(e)?Jt(e,function(a){r.push(a)}):e!=null&&r.push(e);var n={color:1,symbol:1};!i&&r.length===1&&!n.hasOwnProperty(t.type)&&(r[1]=r[0]),ys(t,r)}function hi(t){return{applyVisual:function(i,e,r){var n=this.mapValueToVisual(i);r("color",t(e("color"),n))},_normalizedToVisual:en([0,1])}}function ka(t){var i=this.option.visual;return i[Math.round(ke(t,[0,1],[0,i.length-1],!0))]||{}}function Rt(t){return function(i,e,r){r(t,this.mapValueToVisual(i))}}function Gt(t){var i=this.option.visual;return i[this.option.loop&&t!==Vi?t%i.length:t]}function dt(){return this.option.visual[0]}function en(t){return{linear:function(i){return ke(i,t,this.option.visual,!0)},category:Gt,piecewise:function(i,e){var r=tn.call(this,e);return r==null&&(r=ke(i,t,this.option.visual,!0)),r},fixed:dt}}function tn(t){var i=this.option,e=i.pieceList;if(i.hasSpecialVisual){var r=fe.findPieceIndex(t,e),n=e[r];if(n&&n.visual)return n.visual[this.type]}}function ys(t,i){return t.visual=i,t.type==="color"&&(t.parsedVisual=H(i,function(e){var r=ku(e);return r||[0,0,0,1]})),i}var ih={linear:function(t){return ke(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var i=this.option.pieceList,e=fe.findPieceIndex(t,i,!0);if(e!=null)return ke(e,[0,i.length-1],[0,1],!0)},category:function(t){var i=this.option.categories?this.option.categoryMap[t]:t;return i??Vi},fixed:xt};function di(t,i,e){return t?i<=e:i<e}var rh="itemStyle",ms=je();const nh={seriesType:"treemap",reset:function(t){var i=t.getData().tree,e=i.root;e.isRemoved()||Ss(e,{},t.getViewRoot().getAncestors(),t)}};function Ss(t,i,e,r){var n=t.getModel(),a=t.getLayout(),o=t.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var l=n.getModel(rh),s=ah(l,i,r),u=o.ensureUniqueItemVisual(t.dataIndex,"style"),f=l.get("borderColor"),c=l.get("borderColorSaturation"),v;c!=null&&(v=za(s),f=oh(c,v)),u.stroke=f;var h=t.viewChildren;if(!h||!h.length)v=za(s),u.fill=v;else{var d=lh(t,n,a,l,s,h);A(h,function(g,y){if(g.depth>=e.length||g===e[g.depth]){var m=sh(n,s,g,y,d,r);Ss(g,m,e,r)}})}}}function ah(t,i,e){var r=O({},i),n=e.designatedVisualItemStyle;return A(["color","colorAlpha","colorSaturation"],function(a){n[a]=i[a];var o=t.get(a);n[a]=null,o!=null&&(r[a]=o)}),r}function za(t){var i=fr(t,"color");if(i){var e=fr(t,"colorAlpha"),r=fr(t,"colorSaturation");return r&&(i=$t(i,null,null,r)),e&&(i=Li(i,e)),i}}function oh(t,i){return i!=null?$t(i,null,null,t):null}function fr(t,i){var e=t[i];if(e!=null&&e!=="none")return e}function lh(t,i,e,r,n,a){if(!(!a||!a.length)){var o=cr(i,"color")||n.color!=null&&n.color!=="none"&&(cr(i,"colorAlpha")||cr(i,"colorSaturation"));if(o){var l=i.get("visualMin"),s=i.get("visualMax"),u=e.dataExtent.slice();l!=null&&l<u[0]&&(u[0]=l),s!=null&&s>u[1]&&(u[1]=s);var f=i.get("colorMappingBy"),c={type:o.name,dataExtent:u,visual:o.range};c.type==="color"&&(f==="index"||f==="id")?(c.mappingMethod="category",c.loop=!0):c.mappingMethod="linear";var v=new fe(c);return ms(v).drColorMappingBy=f,v}}}function cr(t,i){var e=t.get(i);return B(e)&&e.length?{name:i,range:e}:null}function sh(t,i,e,r,n,a){var o=O({},i);if(n){var l=n.type,s=l==="color"&&ms(n).drColorMappingBy,u=s==="index"?r:s==="id"?a.mapIdToIndex(e.getId()):e.getValue(t.get("visualDimension"));o[l]=n.mapValueToVisual(u)}return o}var ei=Math.max,ji=Math.min,Ba=Ee,On=A,xs=["itemStyle","borderWidth"],uh=["itemStyle","gapWidth"],fh=["upperLabel","show"],ch=["upperLabel","height"];const vh={seriesType:"treemap",reset:function(t,i,e,r){var n=e.getWidth(),a=e.getHeight(),o=t.option,l=Fe(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),s=o.size||[],u=$(Ba(l.width,s[0]),n),f=$(Ba(l.height,s[1]),a),c=r&&r.type,v=["treemapZoomToNode","treemapRootToNode"],h=Qt(r,v,t),d=c==="treemapRender"||c==="treemapMove"?r.rootRect:null,g=t.getViewRoot(),y=ds(g);if(c!=="treemapMove"){var m=c==="treemapZoomToNode"?mh(t,h,g,u,f):d?[d.width,d.height]:[u,f],x=o.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var S={squareRatio:o.squareRatio,sort:x,leafDepth:o.leafDepth};g.hostTree.clearLayouts();var _={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(_),_s(g,S,!1,0),_=g.getLayout(),On(y,function(w,D){var T=(y[D+1]||g).getValue();w.setLayout(O({dataExtent:[T,T],borderWidth:0,upperHeight:0},_))})}var b=t.getData().tree.root;b.setLayout(Sh(l,d,h),!0),t.setLayoutInfo(l),bs(b,new lt(-l.x,-l.y,n,a),y,g,0)}};function _s(t,i,e,r){var n,a;if(!t.isRemoved()){var o=t.getLayout();n=o.width,a=o.height;var l=t.getModel(),s=l.get(xs),u=l.get(uh)/2,f=ws(l),c=Math.max(s,f),v=s-u,h=c-u;t.setLayout({borderWidth:s,upperHeight:c,upperLabelHeight:f},!0),n=ei(n-2*v,0),a=ei(a-v-h,0);var d=n*a,g=hh(t,l,d,i,e,r);if(g.length){var y={x:v,y:h,width:n,height:a},m=ji(n,a),x=1/0,S=[];S.area=0;for(var _=0,b=g.length;_<b;){var w=g[_];S.push(w),S.area+=w.getLayout().area;var D=yh(S,m,i.squareRatio);D<=x?(_++,x=D):(S.area-=S.pop().getLayout().area,Oa(S,m,y,u,!1),m=ji(y.width,y.height),S.length=S.area=0,x=1/0)}if(S.length&&Oa(S,m,y,u,!0),!e){var T=l.get("childrenVisibleMin");T!=null&&d<T&&(e=!0)}for(var _=0,b=g.length;_<b;_++)_s(g[_],i,e,r+1)}}}function hh(t,i,e,r,n,a){var o=t.children||[],l=r.sort;l!=="asc"&&l!=="desc"&&(l=null);var s=r.leafDepth!=null&&r.leafDepth<=a;if(n&&!s)return t.viewChildren=[];o=ze(o,function(h){return!h.isRemoved()}),ph(o,l);var u=gh(i,o,l);if(u.sum===0)return t.viewChildren=[];if(u.sum=dh(i,e,u.sum,l,o),u.sum===0)return t.viewChildren=[];for(var f=0,c=o.length;f<c;f++){var v=o[f].getValue()/u.sum*e;o[f].setLayout({area:v})}return s&&(o.length&&t.setLayout({isLeafRoot:!0},!0),o.length=0),t.viewChildren=o,t.setLayout({dataExtent:u.dataExtent},!0),o}function dh(t,i,e,r,n){if(!r)return e;for(var a=t.get("visibleMin"),o=n.length,l=o,s=o-1;s>=0;s--){var u=n[r==="asc"?o-s-1:s].getValue();u/e*i<a&&(l=s,e-=u)}return r==="asc"?n.splice(0,o-l):n.splice(l,o-l),e}function ph(t,i){return i&&t.sort(function(e,r){var n=i==="asc"?e.getValue()-r.getValue():r.getValue()-e.getValue();return n===0?i==="asc"?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:n}),t}function gh(t,i,e){for(var r=0,n=0,a=i.length;n<a;n++)r+=i[n].getValue();var o=t.get("visualDimension"),l;return!i||!i.length?l=[NaN,NaN]:o==="value"&&e?(l=[i[i.length-1].getValue(),i[0].getValue()],e==="asc"&&l.reverse()):(l=[1/0,-1/0],On(i,function(s){var u=s.getValue(o);u<l[0]&&(l[0]=u),u>l[1]&&(l[1]=u)})),{sum:r,dataExtent:l}}function yh(t,i,e){for(var r=0,n=1/0,a=0,o=void 0,l=t.length;a<l;a++)o=t[a].getLayout().area,o&&(o<n&&(n=o),o>r&&(r=o));var s=t.area*t.area,u=i*i*e;return s?ei(u*r/s,s/(u*n)):1/0}function Oa(t,i,e,r,n){var a=i===e.width?0:1,o=1-a,l=["x","y"],s=["width","height"],u=e[l[a]],f=i?t.area/i:0;(n||f>e[s[o]])&&(f=e[s[o]]);for(var c=0,v=t.length;c<v;c++){var h=t[c],d={},g=f?h.getLayout().area/f:0,y=d[s[o]]=ei(f-2*r,0),m=e[l[a]]+e[s[a]]-u,x=c===v-1||m<g?m:g,S=d[s[a]]=ei(x-2*r,0);d[l[o]]=e[l[o]]+ji(r,y/2),d[l[a]]=u+ji(r,S/2),u+=x,h.setLayout(d,!0)}e[l[o]]+=f,e[s[o]]-=f}function mh(t,i,e,r,n){var a=(i||{}).node,o=[r,n];if(!a||a===e)return o;for(var l,s=r*n,u=s*t.option.zoomToNodeRatio;l=a.parentNode;){for(var f=0,c=l.children,v=0,h=c.length;v<h;v++)f+=c[v].getValue();var d=a.getValue();if(d===0)return o;u*=f/d;var g=l.getModel(),y=g.get(xs),m=Math.max(y,ws(g));u+=4*y*y+(3*y+m)*Math.pow(u,.5),u>va&&(u=va),a=l}u<s&&(u=s);var x=Math.pow(u/s,.5);return[r*x,n*x]}function Sh(t,i,e){if(i)return{x:i.x,y:i.y};var r={x:0,y:0};if(!e)return r;var n=e.node,a=n.getLayout();if(!a)return r;for(var o=[a.width/2,a.height/2],l=n;l;){var s=l.getLayout();o[0]+=s.x,o[1]+=s.y,l=l.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function bs(t,i,e,r,n){var a=t.getLayout(),o=e[n],l=o&&o===t;if(!(o&&!l||n===e.length&&t!==r)){t.setLayout({isInView:!0,invisible:!l&&!i.intersect(a),isAboveViewRoot:l},!0);var s=new lt(i.x-a.x,i.y-a.y,i.width,i.height);On(t.viewChildren||[],function(u){bs(u,s,e,r,n+1)})}}function ws(t){return t.get(fh)?t.get(ch):0}function xh(t){t.registerSeriesModel(Bv),t.registerChartView(Kv),t.registerVisual(nh),t.registerLayout(vh),zv(t)}function _h(t){var i=t.findComponents({mainType:"legend"});!i||!i.length||t.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),n=e.getGraph(),a=n.data,o=r.mapArray(r.getName);a.filterSelf(function(l){var s=a.getItemModel(l),u=s.getShallow("category");if(u!=null){li(u)&&(u=o[u]);for(var f=0;f<i.length;f++)if(!i[f].isSelected(u))return!1}return!0})})}function bh(t){var i={};t.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),n=e.getData(),a={};r.each(function(o){var l=r.getName(o);a["ec-"+l]=o;var s=r.getItemModel(o),u=s.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(l,i)),r.setItemVisual(o,"style",u);for(var f=["symbol","symbolSize","symbolKeepAspect"],c=0;c<f.length;c++){var v=s.getShallow(f[c],!0);v!=null&&r.setItemVisual(o,f[c],v)}}),r.count()&&n.each(function(o){var l=n.getItemModel(o),s=l.getShallow("category");if(s!=null){te(s)&&(s=a["ec-"+s]);var u=r.getItemVisual(s,"style"),f=n.ensureUniqueItemVisual(o,"style");O(f,u);for(var c=["symbol","symbolSize","symbolKeepAspect"],v=0;v<c.length;v++)n.setItemVisual(o,c[v],r.getItemVisual(s,c[v]))}})})}function pi(t){return t instanceof Array||(t=[t,t]),t}function wh(t){t.eachSeriesByType("graph",function(i){var e=i.getGraph(),r=i.getEdgeData(),n=pi(i.get("edgeSymbol")),a=pi(i.get("edgeSymbolSize"));r.setVisual("fromSymbol",n&&n[0]),r.setVisual("toSymbol",n&&n[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",i.getModel("lineStyle").getLineStyle()),r.each(function(o){var l=r.getItemModel(o),s=e.getEdgeByIndex(o),u=pi(l.getShallow("symbol",!0)),f=pi(l.getShallow("symbolSize",!0)),c=l.getModel("lineStyle").getLineStyle(),v=r.ensureUniqueItemVisual(o,"style");switch(O(v,c),v.stroke){case"source":{var h=s.node1.getVisual("style");v.stroke=h&&h.fill;break}case"target":{var h=s.node2.getVisual("style");v.stroke=h&&h.fill;break}}u[0]&&s.setVisual("fromSymbol",u[0]),u[1]&&s.setVisual("toSymbol",u[1]),f[0]&&s.setVisual("fromSymbolSize",f[0]),f[1]&&s.setVisual("toSymbolSize",f[1])})})}var rn="-->",Ki=function(t){return t.get("autoCurveness")||null},Ds=function(t,i){var e=Ki(t),r=20,n=[];if(li(e))r=e;else if(B(e)){t.__curvenessList=e;return}i>r&&(r=i);var a=r%2?r+2:r+3;n=[];for(var o=0;o<a;o++)n.push((o%2?o+1:o)/10*(o%2?-1:1));t.__curvenessList=n},ti=function(t,i,e){var r=[t.id,t.dataIndex].join("."),n=[i.id,i.dataIndex].join(".");return[e.uid,r,n].join(rn)},Ts=function(t){var i=t.split(rn);return[i[0],i[2],i[1]].join(rn)},Dh=function(t,i){var e=ti(t.node1,t.node2,i);return i.__edgeMap[e]},Th=function(t,i){var e=nn(ti(t.node1,t.node2,i),i),r=nn(ti(t.node2,t.node1,i),i);return e+r},nn=function(t,i){var e=i.__edgeMap;return e[t]?e[t].length:0};function Ah(t){Ki(t)&&(t.__curvenessList=[],t.__edgeMap={},Ds(t))}function Ch(t,i,e,r){if(Ki(e)){var n=ti(t,i,e),a=e.__edgeMap,o=a[Ts(n)];a[n]&&!o?a[n].isForward=!0:o&&a[n]&&(o.isForward=!0,a[n].isForward=!1),a[n]=a[n]||[],a[n].push(r)}}function Gn(t,i,e,r){var n=Ki(i),a=B(n);if(!n)return null;var o=Dh(t,i);if(!o)return null;for(var l=-1,s=0;s<o.length;s++)if(o[s]===e){l=s;break}var u=Th(t,i);Ds(i,u),t.lineStyle=t.lineStyle||{};var f=ti(t.node1,t.node2,i),c=i.__curvenessList,v=a||u%2?0:1;if(o.isForward)return c[v+l];var h=Ts(f),d=nn(h,i),g=c[l+d+v];return r?a?n&&n[0]===0?(d+v)%2?g:-g:((d%2?0:1)+v)%2?g:-g:(d+v)%2?g:-g:c[l+d+v]}function As(t){var i=t.coordinateSystem;if(!(i&&i.type!=="view")){var e=t.getGraph();e.eachNode(function(r){var n=r.getModel();r.setLayout([+n.get("x"),+n.get("y")])}),Hn(e,t)}}function Hn(t,i){t.eachEdge(function(e,r){var n=si(e.getModel().get(["lineStyle","curveness"]),-Gn(e,i,r,!0),0),a=rt(e.node1.getLayout()),o=rt(e.node2.getLayout()),l=[a,o];+n&&l.push([(a[0]+o[0])/2-(a[1]-o[1])*n,(a[1]+o[1])/2-(o[0]-a[0])*n]),e.setLayout(l)})}function Ih(t,i){t.eachSeriesByType("graph",function(e){var r=e.get("layout"),n=e.coordinateSystem;if(n&&n.type!=="view"){var a=e.getData(),o=[];A(n.dimensions,function(v){o=o.concat(a.mapDimensionsAll(v))});for(var l=0;l<a.count();l++){for(var s=[],u=!1,f=0;f<o.length;f++){var c=a.get(o[f],l);isNaN(c)||(u=!0),s.push(c)}u?a.setItemLayout(l,n.dataToPoint(s)):a.setItemLayout(l,[NaN,NaN])}Hn(a.graph,e)}else(!r||r==="none")&&As(e)})}function Ht(t){var i=t.coordinateSystem;if(i.type!=="view")return 1;var e=t.option.nodeScaleRatio,r=i.scaleX,n=i.getZoom(),a=(n-1)*e+1;return a/r}function Wt(t){var i=t.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),+i}var Ga=Math.PI,vr=[];function Wn(t,i,e,r){var n=t.coordinateSystem;if(!(n&&n.type!=="view")){var a=n.getBoundingRect(),o=t.getData(),l=o.graph,s=a.width/2+a.x,u=a.height/2+a.y,f=Math.min(a.width,a.height)/2,c=o.count();if(o.setLayout({cx:s,cy:u}),!!c){if(e){var v=n.pointToData(r),h=v[0],d=v[1],g=[h-s,d-u];wn(g,g),zu(g,g,f),e.setLayout([s+g[0],u+g[1]],!0);var y=t.get(["circular","rotateLabel"]);Cs(e,y,s,u)}Lh[i](t,l,o,f,s,u,c),l.eachEdge(function(m,x){var S=si(m.getModel().get(["lineStyle","curveness"]),Gn(m,t,x),0),_=rt(m.node1.getLayout()),b=rt(m.node2.getLayout()),w,D=(_[0]+b[0])/2,T=(_[1]+b[1])/2;+S&&(S*=3,w=[s*S+D*(1-S),u*S+T*(1-S)]),m.setLayout([_,b,w])})}}}var Lh={value:function(t,i,e,r,n,a,o){var l=0,s=e.getSum("value"),u=Math.PI*2/(s||o);i.eachNode(function(f){var c=f.getValue("value"),v=u*(s?c:1)/2;l+=v,f.setLayout([r*Math.cos(l)+n,r*Math.sin(l)+a]),l+=v})},symbolSize:function(t,i,e,r,n,a,o){var l=0;vr.length=o;var s=Ht(t);i.eachNode(function(c){var v=Wt(c);isNaN(v)&&(v=2),v<0&&(v=0),v*=s;var h=Math.asin(v/2/r);isNaN(h)&&(h=Ga/2),vr[c.dataIndex]=h,l+=h*2});var u=(2*Ga-l)/o/2,f=0;i.eachNode(function(c){var v=u+vr[c.dataIndex];f+=v,(!c.getLayout()||!c.getLayout().fixed)&&c.setLayout([r*Math.cos(f)+n,r*Math.sin(f)+a]),f+=v})}};function Cs(t,i,e,r){var n=t.getGraphicEl();if(n){var a=t.getModel(),o=a.get(["label","rotate"])||0,l=n.getSymbolPath();if(i){var s=t.getLayout(),u=Math.atan2(s[1]-r,s[0]-e);u<0&&(u=Math.PI*2+u);var f=s[0]<e;f&&(u=u-Math.PI);var c=f?"left":"right";l.setTextConfig({rotation:-u,position:c,origin:"center"});var v=l.ensureState("emphasis");O(v.textConfig||(v.textConfig={}),{position:c})}else l.setTextConfig({rotation:o*=Math.PI/180})}}function Ph(t){t.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&Wn(i,"symbolSize")})}var wt=$r;function Mh(t,i,e){for(var r=t,n=i,a=e.rect,o=a.width,l=a.height,s=[a.x+o/2,a.y+l/2],u=e.gravity==null?.1:e.gravity,f=0;f<r.length;f++){var c=r[f];c.p||(c.p=Bu(o*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),c.pp=rt(c.p),c.edges=null}var v=e.friction==null?.6:e.friction,h=v,d,g;return{warmUp:function(){h=v*.8},setFixed:function(y){r[y].fixed=!0},setUnfixed:function(y){r[y].fixed=!1},beforeStep:function(y){d=y},afterStep:function(y){g=y},step:function(y){d&&d(r,n);for(var m=[],x=r.length,S=0;S<n.length;S++){var _=n[S];if(!_.ignoreForceLayout){var b=_.n1,w=_.n2;Bt(m,w.p,b.p);var D=ha(m)-_.d,T=w.w/(b.w+w.w);isNaN(T)&&(T=0),wn(m,m),!b.fixed&&wt(b.p,b.p,m,T*D*h),!w.fixed&&wt(w.p,w.p,m,-(1-T)*D*h)}}for(var S=0;S<x;S++){var C=r[S];C.fixed||(Bt(m,s,C.p),wt(C.p,C.p,m,u*h))}for(var S=0;S<x;S++)for(var b=r[S],I=S+1;I<x;I++){var w=r[I];Bt(m,w.p,b.p);var D=ha(m);D===0&&(Ou(m,Math.random()-.5,Math.random()-.5),D=1);var L=(b.rep+w.rep)/D/D;!b.fixed&&wt(b.pp,b.pp,m,L),!w.fixed&&wt(w.pp,w.pp,m,-L)}for(var M=[],S=0;S<x;S++){var C=r[S];C.fixed||(Bt(M,C.p,C.pp),wt(C.p,C.p,M,h),xe(C.pp,C.p))}h=h*.992;var V=h<.01;g&&g(r,n,V),y&&y(V)}}}function Vh(t){t.eachSeriesByType("graph",function(i){var e=i.coordinateSystem;if(!(e&&e.type!=="view"))if(i.get("layout")==="force"){var r=i.preservedPoints||{},n=i.getGraph(),a=n.data,o=n.edgeData,l=i.getModel("force"),s=l.get("initLayout");i.preservedPoints?a.each(function(S){var _=a.getId(S);a.setItemLayout(S,r[_]||[NaN,NaN])}):!s||s==="none"?As(i):s==="circular"&&Wn(i,"value");var u=a.getDataExtent("value"),f=o.getDataExtent("value"),c=l.get("repulsion"),v=l.get("edgeLength"),h=B(c)?c:[c,c],d=B(v)?v:[v,v];d=[d[1],d[0]];var g=a.mapArray("value",function(S,_){var b=a.getItemLayout(_),w=ke(S,u,h);return isNaN(w)&&(w=(h[0]+h[1])/2),{w,rep:w,fixed:a.getItemModel(_).get("fixed"),p:!b||isNaN(b[0])||isNaN(b[1])?null:b}}),y=o.mapArray("value",function(S,_){var b=n.getEdgeByIndex(_),w=ke(S,f,d);isNaN(w)&&(w=(d[0]+d[1])/2);var D=b.getModel(),T=si(b.getModel().get(["lineStyle","curveness"]),-Gn(b,i,_,!0),0);return{n1:g[b.node1.dataIndex],n2:g[b.node2.dataIndex],d:w,curveness:T,ignoreForceLayout:D.get("ignoreForceLayout")}}),m=e.getBoundingRect(),x=Mh(g,y,{rect:m,gravity:l.get("gravity"),friction:l.get("friction")});x.beforeStep(function(S,_){for(var b=0,w=S.length;b<w;b++)S[b].fixed&&xe(S[b].p,n.getNodeByIndex(b).getLayout())}),x.afterStep(function(S,_,b){for(var w=0,D=S.length;w<D;w++)S[w].fixed||n.getNodeByIndex(w).setLayout(S[w].p),r[a.getId(w)]=S[w].p;for(var w=0,D=_.length;w<D;w++){var T=_[w],C=n.getEdgeByIndex(w),I=T.n1.p,L=T.n2.p,M=C.getLayout();M=M?M.slice():[],M[0]=M[0]||[],M[1]=M[1]||[],xe(M[0],I),xe(M[1],L),+T.curveness&&(M[2]=[(I[0]+L[0])/2-(I[1]-L[1])*T.curveness,(I[1]+L[1])/2-(L[0]-I[0])*T.curveness]),C.setLayout(M)}}),i.forceLayout=x,i.preservedPoints=r,x.step()}else i.forceLayout=null})}function jh(t,i,e){var r=O(t.getBoxLayoutParams(),{aspect:e});return Fe(r,{width:i.getWidth(),height:i.getHeight()})}function Nh(t,i){var e=[];return t.eachSeriesByType("graph",function(r){var n=r.get("coordinateSystem");if(!n||n==="view"){var a=r.getData(),o=a.mapArray(function(y){var m=a.getItemModel(y);return[+m.get("x"),+m.get("y")]}),l=[],s=[];Il(o,l,s),s[0]-l[0]===0&&(s[0]+=1,l[0]-=1),s[1]-l[1]===0&&(s[1]+=1,l[1]-=1);var u=(s[0]-l[0])/(s[1]-l[1]),f=jh(r,i,u);isNaN(u)&&(l=[f.x,f.y],s=[f.x+f.width,f.y+f.height]);var c=s[0]-l[0],v=s[1]-l[1],h=f.width,d=f.height,g=r.coordinateSystem=new Sn;g.zoomLimit=r.get("scaleLimit"),g.setBoundingRect(l[0],l[1],c,v),g.setViewRect(f.x,f.y,h,d),g.setCenter(r.get("center"),i),g.setZoom(r.get("zoom")),e.push(g)}}),e}var hr=[],dr=[],pr=[],Dt=Hu,gr=Wu,Ha=Math.abs;function Wa(t,i,e){for(var r=t[0],n=t[1],a=t[2],o=1/0,l,s=e*e,u=.1,f=.1;f<=.9;f+=.1){hr[0]=Dt(r[0],n[0],a[0],f),hr[1]=Dt(r[1],n[1],a[1],f);var c=Ha(gr(hr,i)-s);c<o&&(o=c,l=f)}for(var v=0;v<32;v++){var h=l+u;dr[0]=Dt(r[0],n[0],a[0],l),dr[1]=Dt(r[1],n[1],a[1],l),pr[0]=Dt(r[0],n[0],a[0],h),pr[1]=Dt(r[1],n[1],a[1],h);var c=gr(dr,i)-s;if(Ha(c)<.01)break;var d=gr(pr,i)-s;u/=2,c<0?d>=0?l=l+u:l=l-u:d>=0?l=l-u:l=l+u}return l}function yr(t,i){var e=[],r=Gu,n=[[],[],[]],a=[[],[]],o=[];i/=2,t.eachEdge(function(l,s){var u=l.getLayout(),f=l.getVisual("fromSymbol"),c=l.getVisual("toSymbol");u.__original||(u.__original=[rt(u[0]),rt(u[1])],u[2]&&u.__original.push(rt(u[2])));var v=u.__original;if(u[2]!=null){if(xe(n[0],v[0]),xe(n[1],v[2]),xe(n[2],v[1]),f&&f!=="none"){var h=Wt(l.node1),d=Wa(n,v[0],h*i);r(n[0][0],n[1][0],n[2][0],d,e),n[0][0]=e[3],n[1][0]=e[4],r(n[0][1],n[1][1],n[2][1],d,e),n[0][1]=e[3],n[1][1]=e[4]}if(c&&c!=="none"){var h=Wt(l.node2),d=Wa(n,v[1],h*i);r(n[0][0],n[1][0],n[2][0],d,e),n[1][0]=e[1],n[2][0]=e[2],r(n[0][1],n[1][1],n[2][1],d,e),n[1][1]=e[1],n[2][1]=e[2]}xe(u[0],n[0]),xe(u[1],n[2]),xe(u[2],n[1])}else{if(xe(a[0],v[0]),xe(a[1],v[1]),Bt(o,a[1],a[0]),wn(o,o),f&&f!=="none"){var h=Wt(l.node1);$r(a[0],a[0],o,h*i)}if(c&&c!=="none"){var h=Wt(l.node2);$r(a[1],a[1],o,-h*i)}xe(u[0],a[0]),xe(u[1],a[1])}})}function Fa(t){return t.type==="view"}var Eh=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e,r){var n=new Dn,a=new kl,o=this.group;this._controller=new mn(r.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(a.group),this._symbolDraw=n,this._lineDraw=a,this._firstRender=!0},i.prototype.render=function(e,r,n){var a=this,o=e.coordinateSystem;this._model=e;var l=this._symbolDraw,s=this._lineDraw,u=this.group;if(Fa(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(f):_e(u,f,e)}yr(e.getGraph(),Ht(e));var c=e.getData();l.updateData(c);var v=e.getEdgeData();s.updateData(v),this._updateNodeAndLinkScale(),this._updateController(e,r,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,d=e.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,d);var g=e.get("layout");c.graph.eachNode(function(S){var _=S.dataIndex,b=S.getGraphicEl(),w=S.getModel();if(b){b.off("drag").off("dragend");var D=w.get("draggable");D&&b.on("drag",function(C){switch(g){case"force":h.warmUp(),!a._layouting&&a._startForceLayoutIteration(h,d),h.setFixed(_),c.setItemLayout(_,[b.x,b.y]);break;case"circular":c.setItemLayout(_,[b.x,b.y]),S.setLayout({fixed:!0},!0),Wn(e,"symbolSize",S,[C.offsetX,C.offsetY]),a.updateLayout(e);break;case"none":default:c.setItemLayout(_,[b.x,b.y]),Hn(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){h&&h.setUnfixed(_)}),b.setDraggable(D,!!w.get("cursor"));var T=w.get(["emphasis","focus"]);T==="adjacency"&&(ce(b).focus=S.getAdjacentDataIndices())}}),c.graph.eachEdge(function(S){var _=S.getGraphicEl(),b=S.getModel().get(["emphasis","focus"]);_&&b==="adjacency"&&(ce(_).focus={edge:[S.dataIndex],node:[S.node1.dataIndex,S.node2.dataIndex]})});var y=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),m=c.getLayout("cx"),x=c.getLayout("cy");c.graph.eachNode(function(S){Cs(S,y,m,x)}),this._firstRender=!1},i.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype._startForceLayoutIteration=function(e,r){var n=this;(function a(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(r?n._layoutTimeout=setTimeout(a,16):a())})})()},i.prototype._updateController=function(e,r,n){var a=this,o=this._controller,l=this._controllerHost,s=this.group;if(o.setPointerChecker(function(u,f,c){var v=s.getBoundingRect();return v.applyTransform(s.transform),v.contain(f,c)&&!Ll(u,n,e)}),!Fa(e.coordinateSystem)){o.disable();return}o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){Pl(l,u.dx,u.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Ml(l,u.scale,u.originX,u.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),yr(e.getGraph(),Ht(e)),a._lineDraw.updateLayout(),n.updateLabelLayout()})},i.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),n=Ht(e);r.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(n)})},i.prototype.updateLayout=function(e){yr(e.getGraph(),Ht(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},i.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},i.type="graph",i}(Se);function Is(t,i,e,r,n){for(var a=new ev(r),o=0;o<t.length;o++)a.addNode(Ee(t[o].id,t[o].name,o),o);for(var l=[],s=[],u=0,o=0;o<i.length;o++){var f=i[o],c=f.source,v=f.target;a.addEdge(c,v,u)&&(s.push(f),l.push(Ee($e(f.id,null),c+" > "+v)),u++)}var h=e.get("coordinateSystem"),d;if(h==="cartesian2d"||h==="polar")d=ui(t,e);else{var g=zl.get(h),y=g?g.dimensions||[]:[];be(y,"value")<0&&y.concat(["value"]);var m=xn(t,{coordDimensions:y,encodeDefine:e.getEncode()}).dimensions;d=new Le(m,e),d.initData(t)}var x=new Le(["value"],e);return x.initData(s,l),n&&n(d,x),vs({mainData:d,struct:a,structAttr:"graph",datas:{node:d,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Rh=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return i.prototype.init=function(e){t.prototype.init.apply(this,arguments);var r=this;function n(){return r._categoriesData}this.legendVisualProvider=new Tn(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},i.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},i.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),An(e,"edgeLabel",["show"])},i.prototype.getInitialData=function(e,r){var n=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&n){Ah(this);var l=Is(a,n,this,!0,s);return A(l.edges,function(u){Ch(u.node1,u.node2,this,u.dataIndex)},this),l.data}function s(u,f){u.wrapMethod("getItemModel",function(d){var g=o._categoriesModels,y=d.getShallow("category"),m=g[y];return m&&(m.parentModel=d.parentModel,d.parentModel=m),d});var c=ot.prototype.getModel;function v(d,g){var y=c.call(this,d,g);return y.resolveParentPath=h,y}f.wrapMethod("getItemModel",function(d){return d.resolveParentPath=h,d.getModel=v,d});function h(d){if(d&&(d[0]==="label"||d[1]==="label")){var g=d.slice();return d[0]==="label"?g[0]="edgeLabel":d[1]==="label"&&(g[1]="edgeLabel"),g}return d}}},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.getCategoriesData=function(){return this._categoriesData},i.prototype.formatTooltip=function(e,r,n){if(n==="edge"){var a=this.getData(),o=this.getDataParams(e,n),l=a.graph.getEdgeByIndex(e),s=a.getName(l.node1.dataIndex),u=a.getName(l.node2.dataIndex),f=[];return s!=null&&f.push(s),u!=null&&f.push(u),Re("nameValue",{name:f.join(" > "),value:o.value,noValue:o.value==null})}var c=Fu({series:this,dataIndex:e,multipleSeries:r});return c},i.prototype._updateCategoriesData=function(){var e=H(this.option.categories||[],function(n){return n.value!=null?n:O({value:0},n)}),r=new Le(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(n){return r.getItemModel(n)})},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},i.type="series.graph",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(De),kh={type:"graphRoam",event:"graphRoam",update:"none"};function zh(t){t.registerChartView(Eh),t.registerSeriesModel(Rh),t.registerProcessor(_h),t.registerVisual(bh),t.registerVisual(wh),t.registerLayout(Ih),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ph),t.registerLayout(Vh),t.registerCoordinateSystem("graphView",{dimensions:Sn.dimensions,create:Nh}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},xt),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},xt),t.registerAction(kh,function(i,e,r){e.eachComponent({mainType:"series",query:i},function(n){var a=n.coordinateSystem,o=Nl(a,i,void 0,r);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}var Bh=["itemStyle","opacity"],Oh=function(t){N(i,t);function i(e,r){var n=t.call(this)||this,a=n,o=new Cn,l=new pe;return a.setTextContent(l),n.setTextGuideLine(o),n.updateData(e,r,!0),n}return i.prototype.updateData=function(e,r,n){var a=this,o=e.hostModel,l=e.getItemModel(r),s=e.getItemLayout(r),u=l.getModel("emphasis"),f=l.get(Bh);f=f??1,n||Lt(a),a.useStyle(e.getItemVisual(r,"style")),a.style.lineJoin="round",n?(a.setShape({points:s.points}),a.style.opacity=0,Pt(a,{style:{opacity:f}},o,r)):_e(a,{style:{opacity:f},shape:{points:s.points}},o,r),Ze(a,l),this._updateLabel(e,r),we(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},i.prototype._updateLabel=function(e,r){var n=this,a=this.getTextGuideLine(),o=n.getTextContent(),l=e.hostModel,s=e.getItemModel(r),u=e.getItemLayout(r),f=u.label,c=e.getItemVisual(r,"style"),v=c.fill;Xe(o,We(s),{labelFetcher:e.hostModel,labelDataIndex:r,defaultOpacity:c.opacity,defaultText:e.getName(r)},{normal:{align:f.textAlign,verticalAlign:f.verticalAlign}}),n.setTextConfig({local:!0,inside:!!f.inside,insideStroke:v,outsideFill:v});var h=f.linePoints;a.setShape({points:h}),n.textGuideLineConfig={anchor:h?new Uu(h[0][0],h[0][1]):null},_e(o,{style:{x:f.x,y:f.y}},l,r),o.attr({rotation:f.rotation,originX:f.x,originY:f.y,z2:10}),Yu(n,Xu(s),{stroke:v})},i}(Xt),Gh=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.ignoreLabelLineUpdate=!0,e}return i.prototype.render=function(e,r,n){var a=e.getData(),o=this._data,l=this.group;a.diff(o).add(function(s){var u=new Oh(a,s);a.setItemGraphicEl(s,u),l.add(u)}).update(function(s,u){var f=o.getItemGraphicEl(u);f.updateData(a,s),l.add(f),a.setItemGraphicEl(s,f)}).remove(function(s){var u=o.getItemGraphicEl(s);$u(u,e,s)}).execute(),this._data=a},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.prototype.dispose=function(){},i.type="funnel",i}(Se),Hh=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Tn(F(this.getData,this),F(this.getRawData,this)),this._defaultLabelLine(e)},i.prototype.getInitialData=function(e,r){return yn(this,{coordDimensions:["value"],encodeDefaulter:se(Al,this)})},i.prototype._defaultLabelLine=function(e){An(e,"labelLine",["show"]);var r=e.labelLine,n=e.emphasis.labelLine;r.show=r.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},i.prototype.getDataParams=function(e){var r=this.getData(),n=t.prototype.getDataParams.call(this,e),a=r.mapDimension("value"),o=r.getSum(a);return n.percent=o?+(r.get(a,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},i.type="series.funnel",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(De);function Wh(t,i){return Fe(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function Fh(t,i){for(var e=t.mapDimension("value"),r=t.mapArray(e,function(s){return s}),n=[],a=i==="ascending",o=0,l=t.count();o<l;o++)n[o]=o;return le(i)?n.sort(i):i!=="none"&&n.sort(function(s,u){return a?r[s]-r[u]:r[u]-r[s]}),n}function $h(t){var i=t.hostModel,e=i.get("orient");t.each(function(r){var n=t.getItemModel(r),a=n.getModel("label"),o=a.get("position"),l=n.getModel("labelLine"),s=t.getItemLayout(r),u=s.points,f=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",c,v,h,d;if(f)o==="insideLeft"?(v=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,c="left"):o==="insideRight"?(v=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,c="right"):(v=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,c="center"),d=[[v,h],[v,h]];else{var g=void 0,y=void 0,m=void 0,x=void 0,S=l.get("length");o==="left"?(g=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,m=g-S,v=m-5,c="right"):o==="right"?(g=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,m=g+S,v=m+5,c="left"):o==="top"?(g=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,x=y-S,h=x-5,c="center"):o==="bottom"?(g=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,x=y+S,h=x+5,c="center"):o==="rightTop"?(g=e==="horizontal"?u[3][0]:u[1][0],y=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(x=y-S,h=x-5,c="center"):(m=g+S,v=m+5,c="top")):o==="rightBottom"?(g=u[2][0],y=u[2][1],e==="horizontal"?(x=y+S,h=x+5,c="center"):(m=g+S,v=m+5,c="bottom")):o==="leftTop"?(g=u[0][0],y=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(x=y-S,h=x-5,c="center"):(m=g-S,v=m-5,c="right")):o==="leftBottom"?(g=e==="horizontal"?u[1][0]:u[3][0],y=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(x=y+S,h=x+5,c="center"):(m=g-S,v=m-5,c="right")):(g=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,e==="horizontal"?(x=y+S,h=x+5,c="center"):(m=g+S,v=m+5,c="left")),e==="horizontal"?(m=g,v=m):(x=y,h=x),d=[[g,y],[m,x]]}s.label={linePoints:d,x:v,y:h,verticalAlign:"middle",textAlign:c,inside:f}})}function Uh(t,i){t.eachSeriesByType("funnel",function(e){var r=e.getData(),n=r.mapDimension("value"),a=e.get("sort"),o=Wh(e,i),l=e.get("orient"),s=o.width,u=o.height,f=Fh(r,a),c=o.x,v=o.y,h=l==="horizontal"?[$(e.get("minSize"),u),$(e.get("maxSize"),u)]:[$(e.get("minSize"),s),$(e.get("maxSize"),s)],d=r.getDataExtent(n),g=e.get("min"),y=e.get("max");g==null&&(g=Math.min(d[0],0)),y==null&&(y=d[1]);var m=e.get("funnelAlign"),x=e.get("gap"),S=l==="horizontal"?s:u,_=(S-x*(r.count()-1))/r.count(),b=function(P,j){if(l==="horizontal"){var R=r.get(n,P)||0,k=ke(R,[g,y],h,!0),z=void 0;switch(m){case"top":z=v;break;case"center":z=v+(u-k)/2;break;case"bottom":z=v+(u-k);break}return[[j,z],[j,z+k]]}var W=r.get(n,P)||0,Z=ke(W,[g,y],h,!0),X;switch(m){case"left":X=c;break;case"center":X=c+(s-Z)/2;break;case"right":X=c+s-Z;break}return[[X,j],[X+Z,j]]};a==="ascending"&&(_=-_,x=-x,l==="horizontal"?c+=s:v+=u,f=f.reverse());for(var w=0;w<f.length;w++){var D=f[w],T=f[w+1],C=r.getItemModel(D);if(l==="horizontal"){var I=C.get(["itemStyle","width"]);I==null?I=_:(I=$(I,s),a==="ascending"&&(I=-I));var L=b(D,c),M=b(T,c+I);c+=I+x,r.setItemLayout(D,{points:L.concat(M.slice().reverse())})}else{var V=C.get(["itemStyle","height"]);V==null?V=_:(V=$(V,u),a==="ascending"&&(V=-V));var L=b(D,v),M=b(T,v+V);v+=V+x,r.setItemLayout(D,{points:L.concat(M.slice().reverse())})}}$h(r)})}function Yh(t){t.registerChartView(Gh),t.registerSeriesModel(Hh),t.registerLayout(Uh),t.registerProcessor(In("funnel"))}var Xh=.3,Zh=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._dataGroup=new ae,e._initialized=!1,e}return i.prototype.init=function(){this.group.add(this._dataGroup)},i.prototype.render=function(e,r,n,a){this._progressiveEls=null;var o=this._dataGroup,l=e.getData(),s=this._data,u=e.coordinateSystem,f=u.dimensions,c=Ua(e);l.diff(s).add(v).update(h).remove(d).execute();function v(y){var m=$a(l,o,y,f,u);mr(m,l,y,c)}function h(y,m){var x=s.getItemGraphicEl(m),S=Ls(l,y,f,u);l.setItemGraphicEl(y,x),_e(x,{shape:{points:S}},e,y),Lt(x),mr(x,l,y,c)}function d(y){var m=s.getItemGraphicEl(y);o.remove(m)}if(!this._initialized){this._initialized=!0;var g=Kh(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(g)}this._data=l},i.prototype.incrementalPrepareRender=function(e,r,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},i.prototype.incrementalRender=function(e,r,n){for(var a=r.getData(),o=r.coordinateSystem,l=o.dimensions,s=Ua(r),u=this._progressiveEls=[],f=e.start;f<e.end;f++){var c=$a(a,this._dataGroup,f,l,o);c.incremental=!0,mr(c,a,f,s),u.push(c)}},i.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},i.type="parallel",i}(Se);function Kh(t,i,e){var r=t.model,n=t.getRect(),a=new Me({shape:{x:n.x,y:n.y,width:n.width,height:n.height}}),o=r.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Pt(a,{shape:{width:n.width,height:n.height}},i,e),a}function Ls(t,i,e,r){for(var n=[],a=0;a<e.length;a++){var o=e[a],l=t.get(t.mapDimension(o),i);qh(l,r.getAxis(o).type)||n.push(r.dataToPoint(l,o))}return n}function $a(t,i,e,r,n){var a=Ls(t,e,r,n),o=new Cn({shape:{points:a},z2:10});return i.add(o),t.setItemGraphicEl(e,o),o}function Ua(t){var i=t.get("smooth",!0);return i===!0&&(i=Xh),i=Zu(i),Ku(i)&&(i=0),{smooth:i}}function mr(t,i,e,r){t.useStyle(i.getItemVisual(e,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var n=i.getItemModel(e),a=n.getModel("emphasis");Ze(t,n,"lineStyle"),we(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function qh(t,i){return i==="category"?t==null:t==null||isNaN(t)}var Qh=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return i.prototype.getInitialData=function(e,r){return ui(null,this,{useEncodeDefaulter:F(Jh,null,this)})},i.prototype.getRawIndicesByActiveState=function(e){var r=this.coordinateSystem,n=this.getData(),a=[];return r.eachActiveState(n,function(o,l){e===o&&a.push(n.getRawIndex(l))}),a},i.type="series.parallel",i.dependencies=["parallel"],i.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},i}(De);function Jh(t){var i=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(i){var e={};return A(i.dimensions,function(r){var n=ed(r);e[r]=n}),e}}function ed(t){return+t.replace("dim","")}var td=["lineStyle","opacity"],id={seriesType:"parallel",reset:function(t,i){var e=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(n,a){e.eachActiveState(a,function(o,l){var s=r[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(l).get(td,!0);u!=null&&(s=u)}var f=a.ensureUniqueItemVisual(l,"style");f.opacity=s},n.start,n.end)}}}};function rd(t){nd(t),ad(t)}function nd(t){if(!t.parallel){var i=!1;A(t.series,function(e){e&&e.type==="parallel"&&(i=!0)}),i&&(t.parallel=[{}])}}function ad(t){var i=Ke(t.parallelAxis);A(i,function(e){if(Ve(e)){var r=e.parallelIndex||0,n=Ke(t.parallel)[r];n&&n.parallelAxisDefault&&Pe(e,n.parallelAxisDefault,!1)}})}var od=5,ld=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n){this._model=e,this._api=n,this._handlers||(this._handlers={},A(sd,function(a,o){n.getZr().on(o,this._handlers[o]=F(a,this))},this)),Bl(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},i.prototype.dispose=function(e,r){qu(this,"_throttledDispatchExpand"),A(this._handlers,function(n,a){r.getZr().off(a,n)}),this._handlers=null},i.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},i.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(O({type:"parallelAxisExpand"},e))},i.type="parallel",i}(Qe),sd={mousedown:function(t){Sr(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var i=this._mouseDownPoint;if(Sr(this,"click")&&i){var e=[t.offsetX,t.offsetY],r=Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2);if(r>od)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);n.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!Sr(this,"mousemove"))){var i=this._model,e=i.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=e.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function Sr(t,i){var e=t._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===i}var ud=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},i.prototype.mergeOption=function(e){var r=this.option;e&&Pe(r,e,!0),this._initDimensions()},i.prototype.contains=function(e,r){var n=e.get("parallelIndex");return n!=null&&r.getComponent("parallel",n)===this},i.prototype.setAxisExpand=function(e){A(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},i.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[],n=ze(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);A(n,function(a){e.push("dim"+a.get("dim")),r.push(a.componentIndex)})},i.type="parallel",i.dependencies=["parallelAxis"],i.layoutMode="box",i.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},i}(Je),fd=function(t){N(i,t);function i(e,r,n,a,o){var l=t.call(this,e,r,n)||this;return l.type=a||"value",l.axisIndex=o,l}return i.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},i}(Ln),xr=A,Ps=Math.min,Ms=Math.max,Ya=Math.floor,cd=Math.ceil,Xa=Qu,vd=Math.PI,hd=function(){function t(i,e,r){this.type="parallel",this._axesMap=at(),this._axesLayout={},this.dimensions=i.dimensions,this._model=i,this._init(i,e,r)}return t.prototype._init=function(i,e,r){var n=i.dimensions,a=i.parallelAxisIndex;xr(n,function(o,l){var s=a[l],u=e.getComponent("parallelAxis",s),f=this._axesMap.set(o,new fd(o,Ol(u),[0,0],u.get("type"),s)),c=f.type==="category";f.onBand=c&&u.get("boundaryGap"),f.inverse=u.get("inverse"),u.axis=f,f.model=u,f.coordinateSystem=u.coordinateSystem=this},this)},t.prototype.update=function(i,e){this._updateAxesFromSeries(this._model,i)},t.prototype.containPoint=function(i){var e=this._makeLayoutInfo(),r=e.axisBase,n=e.layoutBase,a=e.pixelDimIndex,o=i[1-a],l=i[a];return o>=r&&o<=r+e.axisLength&&l>=n&&l<=n+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(i,e){e.eachSeries(function(r){if(i.contains(r,e)){var n=r.getData();xr(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(n,n.mapDimension(a)),Gl(o.scale,o.model)},this)}},this)},t.prototype.resize=function(i,e){this._rect=Fe(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var i=this._model,e=this._rect,r=["x","y"],n=["width","height"],a=i.get("layout"),o=a==="horizontal"?0:1,l=e[n[o]],s=[0,l],u=this.dimensions.length,f=gi(i.get("axisExpandWidth"),s),c=gi(i.get("axisExpandCount")||0,[0,u]),v=i.get("axisExpandable")&&u>3&&u>c&&c>1&&f>0&&l>0,h=i.get("axisExpandWindow"),d;if(h)d=gi(h[1]-h[0],s),h[1]=h[0]+d;else{d=gi(f*(c-1),s);var g=i.get("axisExpandCenter")||Ya(u/2);h=[f*g-d/2],h[1]=h[0]+d}var y=(l-d)/(u-c);y<3&&(y=0);var m=[Ya(Xa(h[0]/f,1))+1,cd(Xa(h[1]/f,1))-1],x=y/f*h[0];return{layout:a,pixelDimIndex:o,layoutBase:e[r[o]],layoutLength:l,axisBase:e[r[1-o]],axisLength:e[n[1-o]],axisExpandable:v,axisExpandWidth:f,axisCollapseWidth:y,axisExpandWindow:h,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:x}},t.prototype._layoutAxes=function(){var i=this._rect,e=this._axesMap,r=this.dimensions,n=this._makeLayoutInfo(),a=n.layout;e.each(function(o){var l=[0,n.axisLength],s=o.inverse?1:0;o.setExtent(l[s],l[1-s])}),xr(r,function(o,l){var s=(n.axisExpandable?pd:dd)(l,n),u={horizontal:{x:s.position,y:n.axisLength},vertical:{x:0,y:s.position}},f={horizontal:vd/2,vertical:0},c=[u[a].x+i.x,u[a].y+i.y],v=f[a],h=bn();Hl(h,h,v),Zt(h,h,c),this._axesLayout[o]={position:c,rotation:v,transform:h,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(i){return this._axesMap.get(i)},t.prototype.dataToPoint=function(i,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(i),e)},t.prototype.eachActiveState=function(i,e,r,n){r==null&&(r=0),n==null&&(n=i.count());var a=this._axesMap,o=this.dimensions,l=[],s=[];A(o,function(y){l.push(i.mapDimension(y)),s.push(a.get(y).model)});for(var u=this.hasAxisBrushed(),f=r;f<n;f++){var c=void 0;if(!u)c="normal";else{c="active";for(var v=i.getValues(l,f),h=0,d=o.length;h<d;h++){var g=s[h].getActiveState(v[h]);if(g==="inactive"){c="inactive";break}}}e(c,f)}},t.prototype.hasAxisBrushed=function(){for(var i=this.dimensions,e=this._axesMap,r=!1,n=0,a=i.length;n<a;n++)e.get(i[n]).model.getActiveState()!=="normal"&&(r=!0);return r},t.prototype.axisCoordToPoint=function(i,e){var r=this._axesLayout[e];return Ut([i,0],r.transform)},t.prototype.getAxisLayout=function(i){return oe(this._axesLayout[i])},t.prototype.getSlidedAxisExpandWindow=function(i){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,n=e.axisExpandWindow.slice(),a=n[1]-n[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(i))return{behavior:"none",axisExpandWindow:n};var l=i[r]-e.layoutBase-e.axisExpandWindow0Pos,s,u="slide",f=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),v=c[0]!=null;if(f)v&&f&&l<a*c[0]?(u="jump",s=l-a*c[2]):v&&f&&l>a*(1-c[0])?(u="jump",s=l-a*(1-c[2])):(s=l-a*c[1])>=0&&(s=l-a*(1-c[1]))<=0&&(s=0),s*=e.axisExpandWidth/f,s?Wl(s,n,o,"all"):u="none";else{var h=n[1]-n[0],d=o[1]*l/h;n=[Ms(0,d-h/2)],n[1]=Ps(o[1],n[0]+h),n[0]=n[1]-h}return{axisExpandWindow:n,behavior:u}},t}();function gi(t,i){return Ps(Ms(t,i[0]),i[1])}function dd(t,i){var e=i.layoutLength/(i.axisCount-1);return{position:e*t,axisNameAvailableWidth:e,axisLabelShow:!0}}function pd(t,i){var e=i.layoutLength,r=i.axisExpandWidth,n=i.axisCount,a=i.axisCollapseWidth,o=i.winInnerIndices,l,s=a,u=!1,f;return t<o[0]?(l=t*a,f=a):t<=o[1]?(l=i.axisExpandWindow0Pos+t*r-i.axisExpandWindow[0],s=r,u=!0):(l=e-(n-1-t)*a,f=a),{position:l,axisNameAvailableWidth:s,axisLabelShow:u,nameTruncateMaxWidth:f}}function gd(t,i){var e=[];return t.eachComponent("parallel",function(r,n){var a=new hd(r,t,i);a.name="parallel_"+n,a.resize(r,i),r.coordinateSystem=a,a.model=r,e.push(a)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var n=r.getReferringComponents("parallel",Pn).models[0];r.coordinateSystem=n.coordinateSystem}}),e}var yd={create:gd},an=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.activeIntervals=[],e}return i.prototype.getAreaSelectStyle=function(){return Rl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},i.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=oe(e);if(r)for(var n=r.length-1;n>=0;n--)_t(r[n])},i.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(r.length===1){var n=r[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var a=0,o=r.length;a<o;a++)if(r[a][0]<=e&&e<=r[a][1])return"active";return"inactive"},i}(Je);Mt(an,Fl);var md=["axisLine","axisTickLabel","axisName"],Sd=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e,r){t.prototype.init.apply(this,arguments),(this._brushController=new $l(r.getZr())).on("brush",F(this._onBrush,this))},i.prototype.render=function(e,r,n,a){if(!xd(e,r,a)){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ae,this.group.add(this._axisGroup),!!e.get("show")){var l=bd(e,r),s=l.coordinateSystem,u=e.getAreaSelectStyle(),f=u.width,c=e.axis.dim,v=s.getAxisLayout(c),h=O({strokeContainThreshold:f},v),d=new Ul(e,h);A(md,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,u,e,l,f,n),Yl(o,this._axisGroup,e)}}},i.prototype._refreshBrushController=function(e,r,n,a,o,l){var s=n.axis.getExtent(),u=s[1]-s[0],f=Math.min(30,Math.abs(u)*.1),c=lt.create({x:s[0],y:-o/2,width:u,height:o});c.x-=f,c.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:tf(c),isTargetByCursor:ef(c,l,a),getLinearBrushOtherExtent:Ju(c,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(_d(n))},i.prototype._onBrush=function(e){var r=e.areas,n=this.axisModel,a=n.axis,o=H(r,function(l){return[a.coordToData(l.range[0],!0),a.coordToData(l.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},i.prototype.dispose=function(){this._brushController.dispose()},i.type="parallelAxis",i}(Qe);function xd(t,i,e){return e&&e.type==="axisAreaSelect"&&i.findComponents({mainType:"parallelAxis",query:e})[0]===t}function _d(t){var i=t.axis;return H(t.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(e[0],!0),i.dataToCoord(e[1],!0)]}})}function bd(t,i){return i.getComponent("parallel",t.get("parallelIndex"))}var wd={type:"axisAreaSelect",event:"axisAreaSelected"};function Dd(t){t.registerAction(wd,function(i,e){e.eachComponent({mainType:"parallelAxis",query:i},function(r){r.axis.model.setActiveIntervals(i.intervals)})}),t.registerAction("parallelAxisExpand",function(i,e){e.eachComponent({mainType:"parallel",query:i},function(r){r.setAxisExpand(i)})})}var Td={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Vs(t){t.registerComponentView(ld),t.registerComponentModel(ud),t.registerCoordinateSystem("parallel",yd),t.registerPreprocessor(rd),t.registerComponentModel(an),t.registerComponentView(Sd),Xl(t,"parallel",an,Td),Dd(t)}function Ad(t){U(Vs),t.registerChartView(Zh),t.registerSeriesModel(Qh),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,id)}var Cd=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),Id=function(t){N(i,t);function i(e){return t.call(this,e)||this}return i.prototype.getDefaultShape=function(){return new Cd},i.prototype.buildPath=function(e,r){var n=r.extent;e.moveTo(r.x1,r.y1),e.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(e.lineTo(r.x2+n,r.y2),e.bezierCurveTo(r.cpx2+n,r.cpy2,r.cpx1+n,r.cpy1,r.x1+n,r.y1)):(e.lineTo(r.x2,r.y2+n),e.bezierCurveTo(r.cpx2,r.cpy2+n,r.cpx1,r.cpy1+n,r.x1,r.y1+n)),e.closePath()},i.prototype.highlight=function(){Zl(this)},i.prototype.downplay=function(){Kl(this)},i}(ft),Ld=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._focusAdjacencyDisabled=!1,e}return i.prototype.render=function(e,r,n){var a=this,o=e.getGraph(),l=this.group,s=e.layoutInfo,u=s.width,f=s.height,c=e.getData(),v=e.getData("edge"),h=e.get("orient");this._model=e,l.removeAll(),l.x=s.x,l.y=s.y,o.eachEdge(function(d){var g=new Id,y=ce(g);y.dataIndex=d.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var m=d.getModel(),x=m.getModel("lineStyle"),S=x.get("curveness"),_=d.node1.getLayout(),b=d.node1.getModel(),w=b.get("localX"),D=b.get("localY"),T=d.node2.getLayout(),C=d.node2.getModel(),I=C.get("localX"),L=C.get("localY"),M=d.getLayout(),V,P,j,R,k,z,W,Z;g.shape.extent=Math.max(1,M.dy),g.shape.orient=h,h==="vertical"?(V=(w!=null?w*u:_.x)+M.sy,P=(D!=null?D*f:_.y)+_.dy,j=(I!=null?I*u:T.x)+M.ty,R=L!=null?L*f:T.y,k=V,z=P*(1-S)+R*S,W=j,Z=P*S+R*(1-S)):(V=(w!=null?w*u:_.x)+_.dx,P=(D!=null?D*f:_.y)+M.sy,j=I!=null?I*u:T.x,R=(L!=null?L*f:T.y)+M.ty,k=V*(1-S)+j*S,z=P,W=V*S+j*(1-S),Z=R),g.setShape({x1:V,y1:P,x2:j,y2:R,cpx1:k,cpy1:z,cpx2:W,cpy2:Z}),g.useStyle(x.getItemStyle()),Za(g.style,h,d);var X=""+m.get("value"),q=We(m,"edgeLabel");Xe(g,q,{labelFetcher:{getFormattedLabel:function(ie,Ae,et,Y,G,ee){return e.getFormattedLabel(ie,Ae,"edge",Y,si(G,q.normal&&q.normal.get("formatter"),X),ee)}},labelDataIndex:d.dataIndex,defaultText:X}),g.setTextConfig({position:"inside"});var J=m.getModel("emphasis");Ze(g,m,"lineStyle",function(ie){var Ae=ie.getItemStyle();return Za(Ae,h,d),Ae}),l.add(g),v.setItemGraphicEl(d.dataIndex,g);var Q=J.get("focus");we(g,Q==="adjacency"?d.getAdjacentDataIndices():Q==="trajectory"?d.getTrajectoryDataIndices():Q,J.get("blurScope"),J.get("disabled"))}),o.eachNode(function(d){var g=d.getLayout(),y=d.getModel(),m=y.get("localX"),x=y.get("localY"),S=y.getModel("emphasis"),_=y.get(["itemStyle","borderRadius"])||0,b=new Me({shape:{x:m!=null?m*u:g.x,y:x!=null?x*f:g.y,width:g.dx,height:g.dy,r:_},style:y.getModel("itemStyle").getItemStyle(),z2:10});Xe(b,We(y),{labelFetcher:{getFormattedLabel:function(D,T){return e.getFormattedLabel(D,T,"node")}},labelDataIndex:d.dataIndex,defaultText:d.id}),b.disableLabelAnimation=!0,b.setStyle("fill",d.getVisual("color")),b.setStyle("decal",d.getVisual("style").decal),Ze(b,y),l.add(b),c.setItemGraphicEl(d.dataIndex,b),ce(b).dataType="node";var w=S.get("focus");we(b,w==="adjacency"?d.getAdjacentDataIndices():w==="trajectory"?d.getTrajectoryDataIndices():w,S.get("blurScope"),S.get("disabled"))}),c.eachItemGraphicEl(function(d,g){var y=c.getItemModel(g);y.get("draggable")&&(d.drift=function(m,x){a._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=x,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/f})},d.ondragend=function(){a._focusAdjacencyDisabled=!1},d.draggable=!0,d.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath(Pd(l.getBoundingRect(),e,function(){l.removeClipPath()})),this._data=e.getData()},i.prototype.dispose=function(){},i.type="sankey",i}(Se);function Za(t,i,e){switch(t.fill){case"source":t.fill=e.node1.getVisual("color"),t.decal=e.node1.getVisual("style").decal;break;case"target":t.fill=e.node2.getVisual("color"),t.decal=e.node2.getVisual("style").decal;break;case"gradient":var r=e.node1.getVisual("color"),n=e.node2.getVisual("color");te(r)&&te(n)&&(t.fill=new Mn(0,0,+(i==="horizontal"),+(i==="vertical"),[{color:r,offset:0},{color:n,offset:1}]))}}function Pd(t,i,e){var r=new Me({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Pt(r,{shape:{width:t.width+20}},i,e),r}var Md=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.getInitialData=function(e,r){var n=e.edges||e.links||[],a=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var l=this.levelModels,s=0;s<o.length;s++)o[s].depth!=null&&o[s].depth>=0&&(l[o[s].depth]=new ot(o[s],this,r));var u=Is(a,n,this,!0,f);return u.data;function f(c,v){c.wrapMethod("getItemModel",function(h,d){var g=h.parentModel,y=g.getData().getItemLayout(d);if(y){var m=y.depth,x=g.levelModels[m];x&&(h.parentModel=x)}return h}),v.wrapMethod("getItemModel",function(h,d){var g=h.parentModel,y=g.getGraph().getEdgeByIndex(d),m=y.node1.getLayout();if(m){var x=m.depth,S=g.levelModels[x];S&&(h.parentModel=S)}return h})}},i.prototype.setNodePosition=function(e,r){var n=this.option.data||this.option.nodes,a=n[e];a.localX=r[0],a.localY=r[1]},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.formatTooltip=function(e,r,n){function a(h){return isNaN(h)||h==null}if(n==="edge"){var o=this.getDataParams(e,n),l=o.data,s=o.value,u=l.source+" -- "+l.target;return Re("nameValue",{name:u,value:s,noValue:a(s)})}else{var f=this.getGraph().getNodeByIndex(e),c=f.getLayout().value,v=this.getDataParams(e,n).data.name;return Re("nameValue",{name:v!=null?v+"":null,value:c,noValue:a(c)})}},i.prototype.optionUpdated=function(){},i.prototype.getDataParams=function(e,r){var n=t.prototype.getDataParams.call(this,e,r);if(n.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(e),o=a.getLayout().value;n.value=o}return n},i.type="series.sankey",i.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},i}(De);function Vd(t,i){t.eachSeriesByType("sankey",function(e){var r=e.get("nodeWidth"),n=e.get("nodeGap"),a=jd(e,i);e.layoutInfo=a;var o=a.width,l=a.height,s=e.getGraph(),u=s.nodes,f=s.edges;Ed(u);var c=ze(u,function(g){return g.getLayout().value===0}),v=c.length!==0?0:e.get("layoutIterations"),h=e.get("orient"),d=e.get("nodeAlign");Nd(u,f,r,n,o,l,v,h,d)})}function jd(t,i){return Fe(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function Nd(t,i,e,r,n,a,o,l,s){Rd(t,i,e,n,a,l,s),Od(t,i,a,n,r,o,l),Zd(t,l)}function Ed(t){A(t,function(i){var e=nt(i.outEdges,Ni),r=nt(i.inEdges,Ni),n=i.getValue()||0,a=Math.max(e,r,n);i.setLayout({value:a},!0)})}function Rd(t,i,e,r,n,a,o){for(var l=[],s=[],u=[],f=[],c=0,v=0;v<i.length;v++)l[v]=1;for(var v=0;v<t.length;v++)s[v]=t[v].inEdges.length,s[v]===0&&u.push(t[v]);for(var h=-1;u.length;){for(var d=0;d<u.length;d++){var g=u[d],y=g.hostGraph.data.getRawDataItem(g.dataIndex),m=y.depth!=null&&y.depth>=0;m&&y.depth>h&&(h=y.depth),g.setLayout({depth:m?y.depth:c},!0),a==="vertical"?g.setLayout({dy:e},!0):g.setLayout({dx:e},!0);for(var x=0;x<g.outEdges.length;x++){var S=g.outEdges[x],_=i.indexOf(S);l[_]=0;var b=S.node2,w=t.indexOf(b);--s[w]===0&&f.indexOf(b)<0&&f.push(b)}}++c,u=f,f=[]}for(var v=0;v<l.length;v++)if(l[v]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var D=h>c-1?h:c-1;o&&o!=="left"&&kd(t,o,a,D);var T=a==="vertical"?(n-e)/D:(r-e)/D;Bd(t,T,a)}function js(t){var i=t.hostGraph.data.getRawDataItem(t.dataIndex);return i.depth!=null&&i.depth>=0}function kd(t,i,e,r){if(i==="right"){for(var n=[],a=t,o=0;a.length;){for(var l=0;l<a.length;l++){var s=a[l];s.setLayout({skNodeHeight:o},!0);for(var u=0;u<s.inEdges.length;u++){var f=s.inEdges[u];n.indexOf(f.node1)<0&&n.push(f.node1)}}a=n,n=[],++o}A(t,function(c){js(c)||c.setLayout({depth:Math.max(0,r-c.getLayout().skNodeHeight)},!0)})}else i==="justify"&&zd(t,r)}function zd(t,i){A(t,function(e){!js(e)&&!e.outEdges.length&&e.setLayout({depth:i},!0)})}function Bd(t,i,e){A(t,function(r){var n=r.getLayout().depth*i;e==="vertical"?r.setLayout({y:n},!0):r.setLayout({x:n},!0)})}function Od(t,i,e,r,n,a,o){var l=Gd(t,o);Hd(l,i,e,r,n,o),_r(l,n,e,r,o);for(var s=1;a>0;a--)s*=.99,Wd(l,s,o),_r(l,n,e,r,o),Xd(l,s,o),_r(l,n,e,r,o)}function Gd(t,i){var e=[],r=i==="vertical"?"y":"x",n=Ur(t,function(a){return a.getLayout()[r]});return n.keys.sort(function(a,o){return a-o}),A(n.keys,function(a){e.push(n.buckets.get(a))}),e}function Hd(t,i,e,r,n,a){var o=1/0;A(t,function(l){var s=l.length,u=0;A(l,function(c){u+=c.getLayout().value});var f=a==="vertical"?(r-(s-1)*n)/u:(e-(s-1)*n)/u;f<o&&(o=f)}),A(t,function(l){A(l,function(s,u){var f=s.getLayout().value*o;a==="vertical"?(s.setLayout({x:u},!0),s.setLayout({dx:f},!0)):(s.setLayout({y:u},!0),s.setLayout({dy:f},!0))})}),A(i,function(l){var s=+l.getValue()*o;l.setLayout({dy:s},!0)})}function _r(t,i,e,r,n){var a=n==="vertical"?"x":"y";A(t,function(o){o.sort(function(g,y){return g.getLayout()[a]-y.getLayout()[a]});for(var l,s,u,f=0,c=o.length,v=n==="vertical"?"dx":"dy",h=0;h<c;h++)s=o[h],u=f-s.getLayout()[a],u>0&&(l=s.getLayout()[a]+u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),f=s.getLayout()[a]+s.getLayout()[v]+i;var d=n==="vertical"?r:e;if(u=f-i-d,u>0){l=s.getLayout()[a]-u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0),f=l;for(var h=c-2;h>=0;--h)s=o[h],u=s.getLayout()[a]+s.getLayout()[v]+i-f,u>0&&(l=s.getLayout()[a]-u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),f=s.getLayout()[a]}})}function Wd(t,i,e){A(t.slice().reverse(),function(r){A(r,function(n){if(n.outEdges.length){var a=nt(n.outEdges,Fd,e)/nt(n.outEdges,Ni);if(isNaN(a)){var o=n.outEdges.length;a=o?nt(n.outEdges,$d,e)/o:0}if(e==="vertical"){var l=n.getLayout().x+(a-st(n,e))*i;n.setLayout({x:l},!0)}else{var s=n.getLayout().y+(a-st(n,e))*i;n.setLayout({y:s},!0)}}})})}function Fd(t,i){return st(t.node2,i)*t.getValue()}function $d(t,i){return st(t.node2,i)}function Ud(t,i){return st(t.node1,i)*t.getValue()}function Yd(t,i){return st(t.node1,i)}function st(t,i){return i==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Ni(t){return t.getValue()}function nt(t,i,e){for(var r=0,n=t.length,a=-1;++a<n;){var o=+i(t[a],e);isNaN(o)||(r+=o)}return r}function Xd(t,i,e){A(t,function(r){A(r,function(n){if(n.inEdges.length){var a=nt(n.inEdges,Ud,e)/nt(n.inEdges,Ni);if(isNaN(a)){var o=n.inEdges.length;a=o?nt(n.inEdges,Yd,e)/o:0}if(e==="vertical"){var l=n.getLayout().x+(a-st(n,e))*i;n.setLayout({x:l},!0)}else{var s=n.getLayout().y+(a-st(n,e))*i;n.setLayout({y:s},!0)}}})})}function Zd(t,i){var e=i==="vertical"?"x":"y";A(t,function(r){r.outEdges.sort(function(n,a){return n.node2.getLayout()[e]-a.node2.getLayout()[e]}),r.inEdges.sort(function(n,a){return n.node1.getLayout()[e]-a.node1.getLayout()[e]})}),A(t,function(r){var n=0,a=0;A(r.outEdges,function(o){o.setLayout({sy:n},!0),n+=o.getLayout().dy}),A(r.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function Kd(t){t.eachSeriesByType("sankey",function(i){var e=i.getGraph(),r=e.nodes,n=e.edges;if(r.length){var a=1/0,o=-1/0;A(r,function(l){var s=l.getLayout().value;s<a&&(a=s),s>o&&(o=s)}),A(r,function(l){var s=new fe({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:i.get("color")}),u=s.mapValueToVisual(l.getLayout().value),f=l.getModel().get(["itemStyle","color"]);f!=null?(l.setVisual("color",f),l.setVisual("style",{fill:f})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}n.length&&A(n,function(l){var s=l.getModel().get("lineStyle");l.setVisual("style",s)})})}function qd(t){t.registerChartView(Ld),t.registerSeriesModel(Md),t.registerLayout(Vd),t.registerVisual(Kd),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"sankey",query:i},function(r){r.setNodePosition(i.dataIndex,[i.localX,i.localY])})})}var Ns=function(){function t(){}return t.prototype._hasEncodeRule=function(i){var e=this.getEncode();return e&&e.get(i)!=null},t.prototype.getInitialData=function(i,e){var r,n=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=n.get("type"),l=a.get("type"),s;o==="category"?(i.layout="horizontal",r=n.getOrdinalMeta(),s=!this._hasEncodeRule("x")):l==="category"?(i.layout="vertical",r=a.getOrdinalMeta(),s=!this._hasEncodeRule("y")):i.layout=i.layout||"horizontal";var u=["x","y"],f=i.layout==="horizontal"?0:1,c=this._baseAxisDim=u[f],v=u[1-f],h=[n,a],d=h[f].get("type"),g=h[1-f].get("type"),y=i.data;if(y&&s){var m=[];A(y,function(_,b){var w;B(_)?(w=_.slice(),_.unshift(b)):B(_.value)?(w=O({},_),w.value=w.value.slice(),_.value.unshift(b)):w=_,m.push(w)}),i.data=m}var x=this.defaultValueDimensions,S=[{name:c,type:Yr(d),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:v,type:Yr(g),dimsDef:x.slice()}];return yn(this,{coordDimensions:S,dimensionsCount:x.length+1,encodeDefaulter:se(rf,S,this)})},t.prototype.getBaseAxis=function(){var i=this._baseAxisDim;return this.ecModel.getComponent(i+"Axis",this.get(i+"AxisIndex")).axis},t}(),Es=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return i.type="series.boxplot",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},i}(De);Mt(Es,Ns,!0);var Qd=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n){var a=e.getData(),o=this.group,l=this._data;this._data||o.removeAll();var s=e.get("layout")==="horizontal"?1:0;a.diff(l).add(function(u){if(a.hasValue(u)){var f=a.getItemLayout(u),c=Ka(f,a,u,s,!0);a.setItemGraphicEl(u,c),o.add(c)}}).update(function(u,f){var c=l.getItemGraphicEl(f);if(!a.hasValue(u)){o.remove(c);return}var v=a.getItemLayout(u);c?(Lt(c),Rs(v,c,a,u)):c=Ka(v,a,u,s),o.add(c),a.setItemGraphicEl(u,c)}).remove(function(u){var f=l.getItemGraphicEl(u);f&&o.remove(f)}).execute(),this._data=a},i.prototype.remove=function(e){var r=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(a){a&&r.remove(a)})},i.type="boxplot",i}(Se),Jd=function(){function t(){}return t}(),ep=function(t){N(i,t);function i(e){var r=t.call(this,e)||this;return r.type="boxplotBoxPath",r}return i.prototype.getDefaultShape=function(){return new Jd},i.prototype.buildPath=function(e,r){var n=r.points,a=0;for(e.moveTo(n[a][0],n[a][1]),a++;a<4;a++)e.lineTo(n[a][0],n[a][1]);for(e.closePath();a<n.length;a++)e.moveTo(n[a][0],n[a][1]),a++,e.lineTo(n[a][0],n[a][1])},i}(ft);function Ka(t,i,e,r,n){var a=t.ends,o=new ep({shape:{points:n?tp(a,r,t):a}});return Rs(t,o,i,e,n),o}function Rs(t,i,e,r,n){var a=e.hostModel,o=Vn[n?"initProps":"updateProps"];o(i,{shape:{points:t.ends}},a,r),i.useStyle(e.getItemVisual(r,"style")),i.style.strokeNoScale=!0,i.z2=100;var l=e.getItemModel(r),s=l.getModel("emphasis");Ze(i,l),we(i,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function tp(t,i,e){return H(t,function(r){return r=r.slice(),r[i]=e.initBaseline,r})}var Yt=A;function ip(t){var i=rp(t);Yt(i,function(e){var r=e.seriesModels;r.length&&(np(e),Yt(r,function(n,a){ap(n,e.boxOffsetList[a],e.boxWidthList[a])}))})}function rp(t){var i=[],e=[];return t.eachSeriesByType("boxplot",function(r){var n=r.getBaseAxis(),a=be(e,n);a<0&&(a=e.length,e[a]=n,i[a]={axis:n,seriesModels:[]}),i[a].seriesModels.push(r)}),i}function np(t){var i=t.axis,e=t.seriesModels,r=e.length,n=t.boxWidthList=[],a=t.boxOffsetList=[],o=[],l;if(i.type==="category")l=i.getBandWidth();else{var s=0;Yt(e,function(d){s=Math.max(s,d.getData().count())});var u=i.getExtent();l=Math.abs(u[1]-u[0])/s}Yt(e,function(d){var g=d.get("boxWidth");B(g)||(g=[g,g]),o.push([$(g[0],l)||0,$(g[1],l)||0])});var f=l*.8-2,c=f/r*.3,v=(f-c*(r-1))/r,h=v/2-f/2;Yt(e,function(d,g){a.push(h),h+=c+v,n.push(Math.min(Math.max(v,o[g][0]),o[g][1]))})}function ap(t,i,e){var r=t.coordinateSystem,n=t.getData(),a=e/2,o=t.get("layout")==="horizontal"?0:1,l=1-o,s=["x","y"],u=n.mapDimension(s[o]),f=n.mapDimensionsAll(s[l]);if(u==null||f.length<5)return;for(var c=0;c<n.count();c++){var v=n.get(u,c),h=S(v,f[2],c),d=S(v,f[0],c),g=S(v,f[1],c),y=S(v,f[3],c),m=S(v,f[4],c),x=[];_(x,g,!1),_(x,y,!0),x.push(d,g,m,y),b(x,d),b(x,m),b(x,h),n.setItemLayout(c,{initBaseline:h[l],ends:x})}function S(w,D,T){var C=n.get(D,T),I=[];I[o]=w,I[l]=C;var L;return isNaN(w)||isNaN(C)?L=[NaN,NaN]:(L=r.dataToPoint(I),L[o]+=i),L}function _(w,D,T){var C=D.slice(),I=D.slice();C[o]+=a,I[o]-=a,T?w.push(C,I):w.push(I,C)}function b(w,D){var T=D.slice(),C=D.slice();T[o]-=a,C[o]+=a,w.push(T,C)}}function op(t,i){i=i||{};for(var e=[],r=[],n=i.boundIQR,a=n==="none"||n===0,o=0;o<t.length;o++){var l=_t(t[o].slice()),s=tr(l,.25),u=tr(l,.5),f=tr(l,.75),c=l[0],v=l[l.length-1],h=(n??1.5)*(f-s),d=a?c:Math.max(c,s-h),g=a?v:Math.min(v,f+h),y=i.itemNameFormatter,m=le(y)?y({value:o}):te(y)?y.replace("{value}",o+""):o+"";e.push([m,d,s,u,f,g]);for(var x=0;x<l.length;x++){var S=l[x];if(S<d||S>g){var _=[m,S];r.push(_)}}}return{boxData:e,outliers:r}}var lp={type:"echarts:boxplot",transform:function(i){var e=i.upstream;if(e.sourceFormat!==nf){var r="";ql(r)}var n=op(e.getRawData(),i.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function sp(t){t.registerSeriesModel(Es),t.registerChartView(Qd),t.registerLayout(ip),t.registerTransform(lp)}var up=["itemStyle","borderColor"],fp=["itemStyle","borderColor0"],cp=["itemStyle","borderColorDoji"],vp=["itemStyle","color"],hp=["itemStyle","color0"];function Fn(t,i){return i.get(t>0?vp:hp)}function $n(t,i){return i.get(t===0?cp:t>0?up:fp)}var dp={seriesType:"candlestick",plan:Ql(),performRawSeries:!0,reset:function(t,i){if(!i.isSeriesFiltered(t)){var e=t.pipelineContext.large;return!e&&{progress:function(r,n){for(var a;(a=r.next())!=null;){var o=n.getItemModel(a),l=n.getItemLayout(a).sign,s=o.getItemStyle();s.fill=Fn(l,o),s.stroke=$n(l,o)||s.fill;var u=n.ensureUniqueItemVisual(a,"style");O(u,s)}}}}}},pp=["color","borderColor"],gp=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},i.prototype.incrementalPrepareRender=function(e,r,n){this._clear(),this._updateDrawMode(e)},i.prototype.incrementalRender=function(e,r,n,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,r):this._incrementalRenderNormal(e,r)},i.prototype.eachRendered=function(e){jn(this._progressiveEls||this.group,e)},i.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},i.prototype._renderNormal=function(e){var r=e.getData(),n=this._data,a=this.group,o=r.getLayout("isSimpleBox"),l=e.get("clip",!0),s=e.coordinateSystem,u=s.getArea&&s.getArea();this._data||a.removeAll(),r.diff(n).add(function(f){if(r.hasValue(f)){var c=r.getItemLayout(f);if(l&&qa(u,c))return;var v=br(c,f,!0);Pt(v,{shape:{points:c.ends}},e,f),wr(v,r,f,o),a.add(v),r.setItemGraphicEl(f,v)}}).update(function(f,c){var v=n.getItemGraphicEl(c);if(!r.hasValue(f)){a.remove(v);return}var h=r.getItemLayout(f);if(l&&qa(u,h)){a.remove(v);return}v?(_e(v,{shape:{points:h.ends}},e,f),Lt(v)):v=br(h),wr(v,r,f,o),a.add(v),r.setItemGraphicEl(f,v)}).remove(function(f){var c=n.getItemGraphicEl(f);c&&a.remove(c)}).execute(),this._data=r},i.prototype._renderLarge=function(e){this._clear(),Qa(e,this.group);var r=e.get("clip",!0)?Nn(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},i.prototype._incrementalRenderNormal=function(e,r){for(var n=r.getData(),a=n.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var l=n.getItemLayout(o),s=br(l);wr(s,n,o,a),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},i.prototype._incrementalRenderLarge=function(e,r){Qa(r,this.group,this._progressiveEls,!0)},i.prototype.remove=function(e){this._clear()},i.prototype._clear=function(){this.group.removeAll(),this._data=null},i.type="candlestick",i}(Se),yp=function(){function t(){}return t}(),mp=function(t){N(i,t);function i(e){var r=t.call(this,e)||this;return r.type="normalCandlestickBox",r}return i.prototype.getDefaultShape=function(){return new yp},i.prototype.buildPath=function(e,r){var n=r.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},i}(ft);function br(t,i,e){var r=t.ends;return new mp({shape:{points:e?Sp(r,t):r},z2:100})}function qa(t,i){for(var e=!0,r=0;r<i.ends.length;r++)if(t.contain(i.ends[r][0],i.ends[r][1])){e=!1;break}return e}function wr(t,i,e,r){var n=i.getItemModel(e);t.useStyle(i.getItemVisual(e,"style")),t.style.strokeNoScale=!0,t.__simpleBox=r,Ze(t,n);var a=i.getItemLayout(e).sign;A(t.states,function(l,s){var u=n.getModel(s),f=Fn(a,u),c=$n(a,u)||f,v=l.style||(l.style={});f&&(v.fill=f),c&&(v.stroke=c)});var o=n.getModel("emphasis");we(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function Sp(t,i){return H(t,function(e){return e=e.slice(),e[1]=i.initBaseline,e})}var xp=function(){function t(){}return t}(),Dr=function(t){N(i,t);function i(e){var r=t.call(this,e)||this;return r.type="largeCandlestickBox",r}return i.prototype.getDefaultShape=function(){return new xp},i.prototype.buildPath=function(e,r){for(var n=r.points,a=0;a<n.length;)if(this.__sign===n[a++]){var o=n[a++];e.moveTo(o,n[a++]),e.lineTo(o,n[a++])}else a+=3},i}(ft);function Qa(t,i,e,r){var n=t.getData(),a=n.getLayout("largePoints"),o=new Dr({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});i.add(o);var l=new Dr({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});i.add(l);var s=new Dr({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});i.add(s),Tr(1,o,t),Tr(-1,l,t),Tr(0,s,t),r&&(o.incremental=!0,l.incremental=!0),e&&e.push(o,l)}function Tr(t,i,e,r){var n=$n(t,e)||Fn(t,e),a=e.getModel("itemStyle").getItemStyle(pp);i.useStyle(a),i.style.fill=null,i.style.stroke=n}var ks=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return i.prototype.getShadowDim=function(){return"open"},i.prototype.brushSelector=function(e,r,n){var a=r.getItemLayout(e);return a&&n.rect(a.brushRect)},i.type="series.candlestick",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},i}(De);Mt(ks,Ns,!0);function _p(t){!t||!B(t.series)||A(t.series,function(i){Ve(i)&&i.type==="k"&&(i.type="candlestick")})}var bp={seriesType:"candlestick",plan:Ql(),reset:function(t){var i=t.coordinateSystem,e=t.getData(),r=wp(t,e),n=0,a=1,o=["x","y"],l=e.getDimensionIndex(e.mapDimension(o[n])),s=H(e.mapDimensionsAll(o[a]),e.getDimensionIndex,e),u=s[0],f=s[1],c=s[2],v=s[3];if(e.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),l<0||s.length<4)return;return{progress:t.pipelineContext.large?d:h};function h(g,y){for(var m,x=y.getStore();(m=g.next())!=null;){var S=x.get(l,m),_=x.get(u,m),b=x.get(f,m),w=x.get(c,m),D=x.get(v,m),T=Math.min(_,b),C=Math.max(_,b),I=k(T,S),L=k(C,S),M=k(w,S),V=k(D,S),P=[];z(P,L,0),z(P,I,1),P.push(Z(V),Z(L),Z(M),Z(I));var j=y.getItemModel(m),R=!!j.get(["itemStyle","borderColorDoji"]);y.setItemLayout(m,{sign:Ja(x,m,_,b,f,R),initBaseline:_>b?L[a]:I[a],ends:P,brushRect:W(w,D,S)})}function k(X,q){var J=[];return J[n]=q,J[a]=X,isNaN(q)||isNaN(X)?[NaN,NaN]:i.dataToPoint(J)}function z(X,q,J){var Q=q.slice(),ie=q.slice();Q[n]=ir(Q[n]+r/2,1,!1),ie[n]=ir(ie[n]-r/2,1,!0),J?X.push(Q,ie):X.push(ie,Q)}function W(X,q,J){var Q=k(X,J),ie=k(q,J);return Q[n]-=r/2,ie[n]-=r/2,{x:Q[0],y:Q[1],width:r,height:ie[1]-Q[1]}}function Z(X){return X[n]=ir(X[n],1),X}}function d(g,y){for(var m=af(g.count*4),x=0,S,_=[],b=[],w,D=y.getStore(),T=!!t.get(["itemStyle","borderColorDoji"]);(w=g.next())!=null;){var C=D.get(l,w),I=D.get(u,w),L=D.get(f,w),M=D.get(c,w),V=D.get(v,w);if(isNaN(C)||isNaN(M)||isNaN(V)){m[x++]=NaN,x+=3;continue}m[x++]=Ja(D,w,I,L,f,T),_[n]=C,_[a]=M,S=i.dataToPoint(_,null,b),m[x++]=S?S[0]:NaN,m[x++]=S?S[1]:NaN,_[a]=V,S=i.dataToPoint(_,null,b),m[x++]=S?S[1]:NaN}y.setLayout("largePoints",m)}}};function Ja(t,i,e,r,n,a){var o;return e>r?o=-1:e<r?o=1:o=a?0:i>0?t.get(n,i-1)<=r?1:-1:1,o}function wp(t,i){var e=t.getBaseAxis(),r,n=e.type==="category"?e.getBandWidth():(r=e.getExtent(),Math.abs(r[1]-r[0])/i.count()),a=$(ye(t.get("barMaxWidth"),n),n),o=$(ye(t.get("barMinWidth"),1),n),l=t.get("barWidth");return l!=null?$(l,n):Math.max(Math.min(n/2,a),o)}function Dp(t){t.registerChartView(gp),t.registerSeriesModel(ks),t.registerPreprocessor(_p),t.registerVisual(dp),t.registerLayout(bp)}function eo(t,i){var e=i.rippleEffectColor||i.color;t.eachChild(function(r){r.attr({z:i.z,zlevel:i.zlevel,style:{stroke:i.brushType==="stroke"?e:null,fill:i.brushType==="fill"?e:null}})})}var Tp=function(t){N(i,t);function i(e,r){var n=t.call(this)||this,a=new Vl(e,r),o=new ae;return n.add(a),n.add(o),n.updateData(e,r),n}return i.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},i.prototype.startEffectAnimation=function(e){for(var r=e.symbolType,n=e.color,a=e.rippleNumber,o=this.childAt(1),l=0;l<a;l++){var s=St(r,-1,-1,2,2,n);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-l/a*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(s)}eo(o,e)},i.prototype.updateEffectAnimation=function(e){for(var r=this._effectCfg,n=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var l=a[o];if(r[l]!==e[l]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}eo(n,e)},i.prototype.highlight=function(){Zl(this)},i.prototype.downplay=function(){Kl(this)},i.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},i.prototype.updateData=function(e,r){var n=this,a=e.hostModel;this.childAt(0).updateData(e,r);var o=this.childAt(1),l=e.getItemModel(r),s=e.getItemVisual(r,"symbol"),u=Jl(e.getItemVisual(r,"symbolSize")),f=e.getItemVisual(r,"style"),c=f&&f.fill,v=l.getModel("emphasis");o.setScale(u),o.traverse(function(y){y.setStyle("fill",c)});var h=En(e.getItemVisual(r,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var d=e.getItemVisual(r,"symbolRotate");o.rotation=(d||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=l.get(["rippleEffect","scale"]),g.brushType=l.get(["rippleEffect","brushType"]),g.period=l.get(["rippleEffect","period"])*1e3,g.effectOffset=r/e.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=s,g.color=c,g.rippleEffectColor=l.get(["rippleEffect","color"]),g.rippleNumber=l.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?g.showEffectOn!=="render"&&n.startEffectAnimation(g):y==="normal"&&g.showEffectOn!=="render"&&n.stopEffectAnimation()}),this._effectCfg=g,we(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},i.prototype.fadeOut=function(e){e&&e()},i}(ae),Ap=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(){this._symbolDraw=new Dn(Tp)},i.prototype.render=function(e,r,n){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},i.prototype._getClipShape=function(e){var r=e.coordinateSystem,n=r&&r.getArea&&r.getArea();return e.get("clip",!0)?n:null},i.prototype.updateTransform=function(e,r,n){var a=e.getData();this.group.dirty();var o=es("").reset(e,r,n);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},i.prototype._updateGroupTransform=function(e){var r=e.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=of(r.getRoamTransform()),this.group.decomposeTransform())},i.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0)},i.type="effectScatter",i}(Se),Cp=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return i.prototype.getInitialData=function(e,r){return ui(null,this,{useEncodeDefaulter:!0})},i.prototype.brushSelector=function(e,r,n){return n.point(r.getItemLayout(e))},i.type="series.effectScatter",i.dependencies=["grid","polar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},i}(De);function Ip(t){t.registerChartView(Ap),t.registerSeriesModel(Cp),t.registerLayout(es("effectScatter"))}var Lp=256,Pp=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var i=da.createCanvas();this.canvas=i}return t.prototype.update=function(i,e,r,n,a,o){var l=this._getBrush(),s=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),f=this.pointSize+this.blurSize,c=this.canvas,v=c.getContext("2d"),h=i.length;c.width=e,c.height=r;for(var d=0;d<h;++d){var g=i[d],y=g[0],m=g[1],x=g[2],S=n(x);v.globalAlpha=S,v.drawImage(l,y-f,m-f)}if(!c.width||!c.height)return c;for(var _=v.getImageData(0,0,c.width,c.height),b=_.data,w=0,D=b.length,T=this.minOpacity,C=this.maxOpacity,I=C-T;w<D;){var S=b[w+3]/256,L=Math.floor(S*(Lp-1))*4;if(S>0){var M=o(S)?s:u;S>0&&(S=S*I+T),b[w++]=M[L],b[w++]=M[L+1],b[w++]=M[L+2],b[w++]=M[L+3]*S*256}else w+=4}return v.putImageData(_,0,0),c},t.prototype._getBrush=function(){var i=this._brushCanvas||(this._brushCanvas=da.createCanvas()),e=this.pointSize+this.blurSize,r=e*2;i.width=r,i.height=r;var n=i.getContext("2d");return n.clearRect(0,0,r,r),n.shadowOffsetX=r,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,Math.PI*2,!0),n.closePath(),n.fill(),i},t.prototype._getGradient=function(i,e){for(var r=this._gradientPixels,n=r[e]||(r[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,l=0;l<256;l++)i[e](l/255,!0,a),n[o++]=a[0],n[o++]=a[1],n[o++]=a[2],n[o++]=a[3];return n},t}();function Mp(t,i,e){var r=t[1]-t[0];i=H(i,function(o){return{interval:[(o.interval[0]-t[0])/r,(o.interval[1]-t[0])/r]}});var n=i.length,a=0;return function(o){var l;for(l=a;l<n;l++){var s=i[l].interval;if(s[0]<=o&&o<=s[1]){a=l;break}}if(l===n)for(l=a-1;l>=0;l--){var s=i[l].interval;if(s[0]<=o&&o<=s[1]){a=l;break}}return l>=0&&l<n&&e[l]}}function Vp(t,i){var e=t[1]-t[0];return i=[(i[0]-t[0])/e,(i[1]-t[0])/e],function(r){return r>=i[0]&&r<=i[1]}}function to(t){var i=t.dimensions;return i[0]==="lng"&&i[1]==="lat"}var jp=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n){var a;r.eachComponent("visualMap",function(l){l.eachTargetSeries(function(s){s===e&&(a=l)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):to(o)&&this._renderOnGeo(o,e,a,n)},i.prototype.incrementalPrepareRender=function(e,r,n){this.group.removeAll()},i.prototype.incrementalRender=function(e,r,n,a){var o=r.coordinateSystem;o&&(to(o)?this.render(r,n,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,e.start,e.end,!0)))},i.prototype.eachRendered=function(e){jn(this._progressiveEls||this.group,e)},i.prototype._renderOnCartesianAndCalendar=function(e,r,n,a,o){var l=e.coordinateSystem,s=$i(l,"cartesian2d"),u,f,c,v;if(s){var h=l.getAxis("x"),d=l.getAxis("y");u=h.getBandWidth()+.5,f=d.getBandWidth()+.5,c=h.scale.getExtent(),v=d.scale.getExtent()}for(var g=this.group,y=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),x=e.getModel(["blur","itemStyle"]).getItemStyle(),S=e.getModel(["select","itemStyle"]).getItemStyle(),_=e.get(["itemStyle","borderRadius"]),b=We(e),w=e.getModel("emphasis"),D=w.get("focus"),T=w.get("blurScope"),C=w.get("disabled"),I=s?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],L=n;L<a;L++){var M=void 0,V=y.getItemVisual(L,"style");if(s){var P=y.get(I[0],L),j=y.get(I[1],L);if(isNaN(y.get(I[2],L))||isNaN(P)||isNaN(j)||P<c[0]||P>c[1]||j<v[0]||j>v[1])continue;var R=l.dataToPoint([P,j]);M=new Me({shape:{x:R[0]-u/2,y:R[1]-f/2,width:u,height:f},style:V})}else{if(isNaN(y.get(I[1],L)))continue;M=new Me({z2:1,shape:l.dataToRect([y.get(I[0],L)]).contentShape,style:V})}if(y.hasItemOption){var k=y.getItemModel(L),z=k.getModel("emphasis");m=z.getModel("itemStyle").getItemStyle(),x=k.getModel(["blur","itemStyle"]).getItemStyle(),S=k.getModel(["select","itemStyle"]).getItemStyle(),_=k.get(["itemStyle","borderRadius"]),D=z.get("focus"),T=z.get("blurScope"),C=z.get("disabled"),b=We(k)}M.shape.r=_;var W=e.getRawValue(L),Z="-";W&&W[2]!=null&&(Z=W[2]+""),Xe(M,b,{labelFetcher:e,labelDataIndex:L,defaultOpacity:V.opacity,defaultText:Z}),M.ensureState("emphasis").style=m,M.ensureState("blur").style=x,M.ensureState("select").style=S,we(M,D,T,C),M.incremental=o,o&&(M.states.emphasis.hoverLayer=!0),g.add(M),y.setItemGraphicEl(L,M),this._progressiveEls&&this._progressiveEls.push(M)}},i.prototype._renderOnGeo=function(e,r,n,a){var o=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,s=r.getData(),u=this._hmLayer||this._hmLayer||new Pp;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var f=e.getViewRect().clone(),c=e.getRoamTransform();f.applyTransform(c);var v=Math.max(f.x,0),h=Math.max(f.y,0),d=Math.min(f.width+f.x,a.getWidth()),g=Math.min(f.height+f.y,a.getHeight()),y=d-v,m=g-h,x=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],S=s.mapArray(x,function(D,T,C){var I=e.dataToPoint([D,T]);return I[0]-=v,I[1]-=h,I.push(C),I}),_=n.getExtent(),b=n.type==="visualMap.continuous"?Vp(_,n.option.range):Mp(_,n.getPieceList(),n.option.selected);u.update(S,y,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:l.color.getColorMapper()},b);var w=new bt({style:{width:y,height:m,x:v,y:h,image:u.canvas},silent:!0});this.group.add(w)},i.type="heatmap",i}(Se),Np=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.getInitialData=function(e,r){return ui(null,this,{generateCoord:"value"})},i.prototype.preventIncremental=function(){var e=zl.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},i.type="series.heatmap",i.dependencies=["grid","geo","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},i}(De);function Ep(t){t.registerChartView(jp),t.registerSeriesModel(Np)}var Rp=["itemStyle","borderWidth"],io=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Ar=new Dl,kp=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n){var a=this.group,o=e.getData(),l=this._data,s=e.coordinateSystem,u=s.getBaseAxis(),f=u.isHorizontal(),c=s.master.getRect(),v={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:f,valueDim:io[+f],categoryDim:io[1-+f]};o.diff(l).add(function(d){if(o.hasValue(d)){var g=no(o,d),y=ro(o,d,g,v),m=ao(o,v,y);o.setItemGraphicEl(d,m),a.add(m),lo(m,v,y)}}).update(function(d,g){var y=l.getItemGraphicEl(g);if(!o.hasValue(d)){a.remove(y);return}var m=no(o,d),x=ro(o,d,m,v),S=Ws(o,x);y&&S!==y.__pictorialShapeStr&&(a.remove(y),o.setItemGraphicEl(d,null),y=null),y?Fp(y,v,x):y=ao(o,v,x,!0),o.setItemGraphicEl(d,y),y.__pictorialSymbolMeta=x,a.add(y),lo(y,v,x)}).remove(function(d){var g=l.getItemGraphicEl(d);g&&oo(l,d,g.__pictorialSymbolMeta.animationModel,g)}).execute();var h=e.get("clip",!0)?Nn(e.coordinateSystem,!1,e):null;return h?a.setClipPath(h):a.removeClipPath(),this._data=o,this.group},i.prototype.remove=function(e,r){var n=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){oo(a,ce(o).dataIndex,e,o)}):n.removeAll()},i.type="pictorialBar",i}(Se);function ro(t,i,e,r){var n=t.getItemLayout(i),a=e.get("symbolRepeat"),o=e.get("symbolClip"),l=e.get("symbolPosition")||"start",s=e.get("symbolRotate"),u=(s||0)*Math.PI/180||0,f=e.get("symbolPatternSize")||2,c=e.isAnimationEnabled(),v={dataIndex:i,layout:n,itemModel:e,symbolType:t.getItemVisual(i,"symbol")||"circle",style:t.getItemVisual(i,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:c?e:null,hoverScale:c&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};zp(e,a,n,r,v),Bp(t,i,n,a,o,v.boundingLength,v.pxSign,f,r,v),Op(e,v.symbolScale,u,r,v);var h=v.symbolSize,d=En(e.get("symbolOffset"),h);return Gp(e,h,n,a,o,d,l,v.valueLineWidth,v.boundingLength,v.repeatCutLength,r,v),v}function zp(t,i,e,r,n){var a=r.valueDim,o=t.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),s=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(e[a.wh]<=0),f;if(B(o)){var c=[Cr(l,o[0])-s,Cr(l,o[1])-s];c[1]<c[0]&&c.reverse(),f=c[u]}else o!=null?f=Cr(l,o)-s:i?f=r.coordSysExtent[a.index][u]-s:f=e[a.wh];n.boundingLength=f,i&&(n.repeatCutLength=e[a.wh]);var v=a.xy==="x",h=l.inverse;n.pxSign=v&&!h||!v&&h?f>=0?1:-1:f>0?1:-1}function Cr(t,i){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(i)))}function Bp(t,i,e,r,n,a,o,l,s,u){var f=s.valueDim,c=s.categoryDim,v=Math.abs(e[c.wh]),h=t.getItemVisual(i,"symbolSize"),d;B(h)?d=h.slice():h==null?d=["100%","100%"]:d=[h,h],d[c.index]=$(d[c.index],v),d[f.index]=$(d[f.index],r?v:Math.abs(a)),u.symbolSize=d;var g=u.symbolScale=[d[0]/l,d[1]/l];g[f.index]*=(s.isHorizontal?-1:1)*o}function Op(t,i,e,r,n){var a=t.get(Rp)||0;a&&(Ar.attr({scaleX:i[0],scaleY:i[1],rotation:e}),Ar.updateTransform(),a/=Ar.getLineScale(),a*=i[r.valueDim.index]),n.valueLineWidth=a||0}function Gp(t,i,e,r,n,a,o,l,s,u,f,c){var v=f.categoryDim,h=f.valueDim,d=c.pxSign,g=Math.max(i[h.index]+l,0),y=g;if(r){var m=Math.abs(s),x=Ee(t.get("symbolMargin"),"15%")+"",S=!1;x.lastIndexOf("!")===x.length-1&&(S=!0,x=x.slice(0,x.length-1));var _=$(x,i[h.index]),b=Math.max(g+_*2,0),w=S?0:_*2,D=lf(r),T=D?r:so((m+w)/b),C=m-T*g;_=C/2/(S?T:Math.max(T-1,1)),b=g+_*2,w=S?0:_*2,!D&&r!=="fixed"&&(T=u?so((Math.abs(u)+w)/b):0),y=T*b-w,c.repeatTimes=T,c.symbolMargin=_}var I=d*(y/2),L=c.pathPosition=[];L[v.index]=e[v.wh]/2,L[h.index]=o==="start"?I:o==="end"?s-I:s/2,a&&(L[0]+=a[0],L[1]+=a[1]);var M=c.bundlePosition=[];M[v.index]=e[v.xy],M[h.index]=e[h.xy];var V=c.barRectShape=O({},e);V[h.wh]=d*Math.max(Math.abs(e[h.wh]),Math.abs(L[h.index]+I)),V[v.wh]=e[v.wh];var P=c.clipShape={};P[v.xy]=-e[v.xy],P[v.wh]=f.ecSize[v.wh],P[h.xy]=0,P[h.wh]=e[h.wh]}function zs(t){var i=t.symbolPatternSize,e=St(t.symbolType,-i/2,-i/2,i,i);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function Bs(t,i,e,r){var n=t.__pictorialBundle,a=e.symbolSize,o=e.valueLineWidth,l=e.pathPosition,s=i.valueDim,u=e.repeatTimes||0,f=0,c=a[i.valueDim.index]+o+e.symbolMargin*2;for(Un(t,function(g){g.__pictorialAnimationIndex=f,g.__pictorialRepeatTimes=u,f<u?Ct(g,null,d(f),e,r):Ct(g,null,{scaleX:0,scaleY:0},e,r,function(){n.remove(g)}),f++});f<u;f++){var v=zs(e);v.__pictorialAnimationIndex=f,v.__pictorialRepeatTimes=u,n.add(v);var h=d(f);Ct(v,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},e,r)}function d(g){var y=l.slice(),m=e.pxSign,x=g;return(e.symbolRepeatDirection==="start"?m>0:m<0)&&(x=u-1-g),y[s.index]=c*(x-u/2+.5)+l[s.index],{x:y[0],y:y[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function Os(t,i,e,r){var n=t.__pictorialBundle,a=t.__pictorialMainPath;a?Ct(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(a=t.__pictorialMainPath=zs(e),n.add(a),Ct(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function Gs(t,i,e){var r=O({},i.barRectShape),n=t.__pictorialBarRect;n?Ct(n,null,{shape:r},i,e):(n=t.__pictorialBarRect=new Me({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.disableMorphing=!0,t.add(n))}function Hs(t,i,e,r){if(e.symbolClip){var n=t.__pictorialClipPath,a=O({},e.clipShape),o=i.valueDim,l=e.animationModel,s=e.dataIndex;if(n)_e(n,{shape:a},l,s);else{a[o.wh]=0,n=new Me({shape:a}),t.__pictorialBundle.setClipPath(n),t.__pictorialClipPath=n;var u={};u[o.wh]=e.clipShape[o.wh],Vn[r?"updateProps":"initProps"](n,{shape:u},l,s)}}}function no(t,i){var e=t.getItemModel(i);return e.getAnimationDelayParams=Hp,e.isAnimationEnabled=Wp,e}function Hp(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function Wp(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ao(t,i,e,r){var n=new ae,a=new ae;return n.add(a),n.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?Bs(n,i,e):Os(n,i,e),Gs(n,e,r),Hs(n,i,e,r),n.__pictorialShapeStr=Ws(t,e),n.__pictorialSymbolMeta=e,n}function Fp(t,i,e){var r=e.animationModel,n=e.dataIndex,a=t.__pictorialBundle;_e(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},r,n),e.symbolRepeat?Bs(t,i,e,!0):Os(t,i,e,!0),Gs(t,e,!0),Hs(t,i,e,!0)}function oo(t,i,e,r){var n=r.__pictorialBarRect;n&&n.removeTextContent();var a=[];Un(r,function(o){a.push(o)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),A(a,function(o){Ci(o,{scaleX:0,scaleY:0},e,i,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(i,null)}function Ws(t,i){return[t.getItemVisual(i.dataIndex,"symbol")||"none",!!i.symbolRepeat,!!i.symbolClip].join(":")}function Un(t,i,e){A(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&i.call(e,r)})}function Ct(t,i,e,r,n,a){i&&t.attr(i),r.symbolClip&&!n?e&&t.attr(e):e&&Vn[n?"updateProps":"initProps"](t,e,r.animationModel,r.dataIndex,a)}function lo(t,i,e){var r=e.dataIndex,n=e.itemModel,a=n.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),l=n.getModel(["blur","itemStyle"]).getItemStyle(),s=n.getModel(["select","itemStyle"]).getItemStyle(),u=n.getShallow("cursor"),f=a.get("focus"),c=a.get("blurScope"),v=a.get("scale");Un(t,function(g){if(g instanceof bt){var y=g.style;g.useStyle(O({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},e.style))}else g.useStyle(e.style);var m=g.ensureState("emphasis");m.style=o,v&&(m.scaleX=g.scaleX*1.1,m.scaleY=g.scaleY*1.1),g.ensureState("blur").style=l,g.ensureState("select").style=s,u&&(g.cursor=u),g.z2=e.z2});var h=i.valueDim.posDesc[+(e.boundingLength>0)],d=t.__pictorialBarRect;d.ignoreClip=!0,Xe(d,We(n),{labelFetcher:i.seriesModel,labelDataIndex:r,defaultText:Xr(i.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:h}),we(t,f,c,a.get("disabled"))}function so(t){var i=Math.round(t);return Math.abs(t-i)<1e-4?i:Math.ceil(t)}var $p=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return i.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},i.type="series.pictorialBar",i.dependencies=["grid"],i.defaultOption=Ui(pa.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),i}(pa);function Up(t){t.registerChartView(kp),t.registerSeriesModel($p),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,se(sf,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,uf("pictorialBar"))}var Yp=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._layers=[],e}return i.prototype.render=function(e,r,n){var a=e.getData(),o=this,l=this.group,s=e.getLayerSeries(),u=a.getLayout("layoutInfo"),f=u.rect,c=u.boundaryGap;l.x=0,l.y=f.y+c[0];function v(y){return y.name}var h=new Wi(this._layersSeries||[],s,v,v),d=[];h.add(F(g,this,"add")).update(F(g,this,"update")).remove(F(g,this,"remove")).execute();function g(y,m,x){var S=o._layers;if(y==="remove"){l.remove(S[m]);return}for(var _=[],b=[],w,D=s[m].indices,T=0;T<D.length;T++){var C=a.getItemLayout(D[T]),I=C.x,L=C.y0,M=C.y;_.push(I,L),b.push(I,L+M),w=a.getItemVisual(D[T],"style")}var V,P=a.getItemLayout(D[0]),j=e.getModel("label"),R=j.get("margin"),k=e.getModel("emphasis");if(y==="add"){var z=d[m]=new ae;V=new ff({shape:{points:_,stackedOnPoints:b,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),z.add(V),l.add(z),e.isAnimationEnabled()&&V.setClipPath(Xp(V.getBoundingRect(),e,function(){V.removeClipPath()}))}else{var z=S[x];V=z.childAt(0),l.add(z),d[m]=z,_e(V,{shape:{points:_,stackedOnPoints:b}},e),Lt(V)}Xe(V,We(e),{labelDataIndex:D[T-1],defaultText:a.getName(D[T-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),V.setTextConfig({position:null,local:!0});var W=V.getTextContent();W&&(W.x=P.x-R,W.y=P.y0+P.y/2),V.useStyle(w),a.setItemGraphicEl(m,V),Ze(V,e),we(V,k.get("focus"),k.get("blurScope"),k.get("disabled"))}this._layersSeries=s,this._layers=d},i.type="themeRiver",i}(Se);function Xp(t,i,e){var r=new Me({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Pt(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},i,e),r}var Ir=2,Zp=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Tn(F(this.getData,this),F(this.getRawData,this))},i.prototype.fixData=function(e){var r=e.length,n={},a=Ur(e,function(v){return n.hasOwnProperty(v[0]+"")||(n[v[0]+""]=-1),v[2]}),o=[];a.buckets.each(function(v,h){o.push({name:h,dataList:v})});for(var l=o.length,s=0;s<l;++s){for(var u=o[s].name,f=0;f<o[s].dataList.length;++f){var c=o[s].dataList[f][0]+"";n[c]=s}for(var c in n)n.hasOwnProperty(c)&&n[c]!==s&&(n[c]=s,e[r]=[c,0,u],r++)}return e},i.prototype.getInitialData=function(e,r){for(var n=this.getReferringComponents("singleAxis",Pn).models[0],a=n.get("type"),o=ze(e.data,function(d){return d[2]!==void 0}),l=this.fixData(o||[]),s=[],u=this.nameMap=at(),f=0,c=0;c<l.length;++c)s.push(l[c][Ir]),u.get(l[c][Ir])||(u.set(l[c][Ir],f),f++);var v=xn(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Yr(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Le(v,this);return h.initData(l),h},i.prototype.getLayerSeries=function(){for(var e=this.getData(),r=e.count(),n=[],a=0;a<r;++a)n[a]=a;var o=e.mapDimension("single"),l=Ur(n,function(u){return e.get("name",u)}),s=[];return l.buckets.each(function(u,f){u.sort(function(c,v){return e.get(o,c)-e.get(o,v)}),s.push({name:f,indices:u})}),s},i.prototype.getAxisTooltipData=function(e,r,n){B(e)||(e=e?[e]:[]);for(var a=this.getData(),o=this.getLayerSeries(),l=[],s=o.length,u,f=0;f<s;++f){for(var c=Number.MAX_VALUE,v=-1,h=o[f].indices.length,d=0;d<h;++d){var g=a.get(e[0],o[f].indices[d]),y=Math.abs(g-r);y<=c&&(u=g,c=y,v=o[f].indices[d])}l.push(v)}return{dataIndices:l,nestestValue:u}},i.prototype.formatTooltip=function(e,r,n){var a=this.getData(),o=a.getName(e),l=a.get(a.mapDimension("value"),e);return Re("nameValue",{name:o,value:l})},i.type="series.themeRiver",i.dependencies=["singleAxis"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},i}(De);function Kp(t,i){t.eachSeriesByType("themeRiver",function(e){var r=e.getData(),n=e.coordinateSystem,a={},o=n.getRect();a.rect=o;var l=e.get("boundaryGap"),s=n.getAxis();if(a.boundaryGap=l,s.orient==="horizontal"){l[0]=$(l[0],o.height),l[1]=$(l[1],o.height);var u=o.height-l[0]-l[1];uo(r,e,u)}else{l[0]=$(l[0],o.width),l[1]=$(l[1],o.width);var f=o.width-l[0]-l[1];uo(r,e,f)}r.setLayout("layoutInfo",a)})}function uo(t,i,e){if(t.count())for(var r=i.coordinateSystem,n=i.getLayerSeries(),a=t.mapDimension("single"),o=t.mapDimension("value"),l=H(n,function(y){return H(y.indices,function(m){var x=r.dataToPoint(t.get(a,m));return x[1]=t.get(o,m),x})}),s=qp(l),u=s.y0,f=e/s.max,c=n.length,v=n[0].indices.length,h,d=0;d<v;++d){h=u[d]*f,t.setItemLayout(n[0].indices[d],{layerIndex:0,x:l[0][d][0],y0:h,y:l[0][d][1]*f});for(var g=1;g<c;++g)h+=l[g-1][d][1]*f,t.setItemLayout(n[g].indices[d],{layerIndex:g,x:l[g][d][0],y0:h,y:l[g][d][1]*f})}}function qp(t){for(var i=t.length,e=t[0].length,r=[],n=[],a=0,o=0;o<e;++o){for(var l=0,s=0;s<i;++s)l+=t[s][o][1];l>a&&(a=l),r.push(l)}for(var u=0;u<e;++u)n[u]=(a-r[u])/2;a=0;for(var f=0;f<e;++f){var c=r[f]+n[f];c>a&&(a=c)}return{y0:n,max:a}}function Qp(t){t.registerChartView(Yp),t.registerSeriesModel(Zp),t.registerLayout(Kp),t.registerProcessor(In("themeRiver"))}var Jp=2,eg=4,fo=function(t){N(i,t);function i(e,r,n,a){var o=t.call(this)||this;o.z2=Jp,o.textConfig={inside:!0},ce(o).seriesIndex=r.seriesIndex;var l=new pe({z2:eg,silent:e.getModel().get(["label","silent"])});return o.setTextContent(l),o.updateData(!0,e,r,n,a),o}return i.prototype.updateData=function(e,r,n,a,o){this.node=r,r.piece=this,n=n||this._seriesModel,a=a||this._ecModel;var l=this;ce(l).dataIndex=r.dataIndex;var s=r.getModel(),u=s.getModel("emphasis"),f=r.getLayout(),c=O({},f);c.label=null;var v=r.getVisual("style");v.lineJoin="bevel";var h=r.getVisual("decal");h&&(v.decal=ts(h,o));var d=ga(s.getModel("itemStyle"),c,!0);O(c,d),A(cf,function(x){var S=l.ensureState(x),_=s.getModel([x,"itemStyle"]);S.style=_.getItemStyle();var b=ga(_,c);b&&(S.shape=b)}),e?(l.setShape(c),l.shape.r=f.r0,Pt(l,{shape:{r:f.r}},n,r.dataIndex)):(_e(l,{shape:c},n),Lt(l)),l.useStyle(v),this._updateLabel(n);var g=s.getShallow("cursor");g&&l.attr("cursor",g),this._seriesModel=n||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),m=y==="relative"?jl(r.getAncestorsIndices(),r.getDescendantIndices()):y==="ancestor"?r.getAncestorsIndices():y==="descendant"?r.getDescendantIndices():y;we(this,m,u.get("blurScope"),u.get("disabled"))},i.prototype._updateLabel=function(e){var r=this,n=this.node.getModel(),a=n.getModel("label"),o=this.node.getLayout(),l=o.endAngle-o.startAngle,s=(o.startAngle+o.endAngle)/2,u=Math.cos(s),f=Math.sin(s),c=this,v=c.getTextContent(),h=this.node.dataIndex,d=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(d!=null&&Math.abs(l)<d);v.ignore=!g,A(hf,function(m){var x=m==="normal"?n.getModel("label"):n.getModel([m,"label"]),S=m==="normal",_=S?v:v.ensureState(m),b=e.getFormattedLabel(h,m);S&&(b=b||r.node.name),_.style=me(x,{},null,m!=="normal",!0),b&&(_.style.text=b);var w=x.get("show");w!=null&&!S&&(_.ignore=!w);var D=y(x,"position"),T=S?c:c.states[m],C=T.style.fill;T.textConfig={outsideFill:x.get("color")==="inherit"?C:null,inside:D!=="outside"};var I,L=y(x,"distance")||0,M=y(x,"align"),V=y(x,"rotate"),P=Math.PI*.5,j=Math.PI*1.5,R=fi(V==="tangential"?Math.PI/2-s:s),k=R>P&&!vf(R-P)&&R<j;D==="outside"?(I=o.r+L,M=k?"right":"left"):!M||M==="center"?(l===2*Math.PI&&o.r0===0?I=0:I=(o.r+o.r0)/2,M="center"):M==="left"?(I=o.r0+L,M=k?"right":"left"):M==="right"&&(I=o.r-L,M=k?"left":"right"),_.style.align=M,_.style.verticalAlign=y(x,"verticalAlign")||"middle",_.x=I*u+o.cx,_.y=I*f+o.cy;var z=0;V==="radial"?z=fi(-s)+(k?Math.PI:0):V==="tangential"?z=fi(Math.PI/2-s)+(k?Math.PI:0):li(V)&&(z=V*Math.PI/180),_.rotation=fi(z)});function y(m,x){var S=m.get(x);return S??a.get(x)}v.dirtyStyle()},i}(df),on="sunburstRootToNode",co="sunburstHighlight",tg="sunburstUnhighlight";function ig(t){t.registerAction({type:on,update:"updateView"},function(i,e){e.eachComponent({mainType:"series",subType:"sunburst",query:i},r);function r(n,a){var o=Qt(i,[on],n);if(o){var l=n.getViewRoot();l&&(i.direction=Bn(l,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}}}),t.registerAction({type:co,update:"none"},function(i,e,r){i=O({},i),e.eachComponent({mainType:"series",subType:"sunburst",query:i},n);function n(a){var o=Qt(i,[co],a);o&&(i.dataIndex=o.node.dataIndex)}r.dispatchAction(O(i,{type:"highlight"}))}),t.registerAction({type:tg,update:"updateView"},function(i,e,r){i=O({},i),r.dispatchAction(O(i,{type:"downplay"}))})}var rg=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n,a){var o=this;this.seriesModel=e,this.api=n,this.ecModel=r;var l=e.getData(),s=l.tree.root,u=e.getViewRoot(),f=this.group,c=e.get("renderLabelForZeroData"),v=[];u.eachNode(function(x){v.push(x)});var h=this._oldChildren||[];d(v,h),m(s,u),this._initEvents(),this._oldChildren=v;function d(x,S){if(x.length===0&&S.length===0)return;new Wi(S,x,_,_).add(b).update(b).remove(se(b,null)).execute();function _(w){return w.getId()}function b(w,D){var T=w==null?null:x[w],C=D==null?null:S[D];g(T,C)}}function g(x,S){if(!c&&x&&!x.getValue()&&(x=null),x!==s&&S!==s){if(S&&S.piece)x?(S.piece.updateData(!1,x,e,r,n),l.setItemGraphicEl(x.dataIndex,S.piece)):y(S);else if(x){var _=new fo(x,e,r,n);f.add(_),l.setItemGraphicEl(x.dataIndex,_)}}}function y(x){x&&x.piece&&(f.remove(x.piece),x.piece=null)}function m(x,S){S.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,x,e,r,n):(o.virtualPiece=new fo(x,e,r,n),f.add(o.virtualPiece)),S.piece.off("click"),o.virtualPiece.on("click",function(_){o._rootToNode(S.parentNode)})):o.virtualPiece&&(f.remove(o.virtualPiece),o.virtualPiece=null)}},i.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(r){var n=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(o){if(!n&&o.piece&&o.piece===r.target){var l=o.getModel().get("nodeClick");if(l==="rootToNode")e._rootToNode(o);else if(l==="link"){var s=o.getModel(),u=s.get("link");if(u){var f=s.get("target",!0)||"_blank";El(u,f)}}n=!0}})})},i.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:on,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},i.prototype.containPoint=function(e,r){var n=r.getData(),a=n.getItemLayout(0);if(a){var o=e[0]-a.cx,l=e[1]-a.cy,s=Math.sqrt(o*o+l*l);return s<=a.r&&s>=a.r0}},i.type="sunburst",i}(Se),ng=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.ignoreStyleOnData=!0,e}return i.prototype.getInitialData=function(e,r){var n={name:e.name,children:e.data};Fs(n);var a=this._levelModels=H(e.levels||[],function(s){return new ot(s,this,r)},this),o=zn.createTree(n,this,l);function l(s){s.wrapMethod("getItemModel",function(u,f){var c=o.getNodeByDataIndex(f),v=a[c.depth];return v&&(u.parentModel=v),u})}return o.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=Zi(n,this),r},i.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},i.prototype.enableAriaDecal=function(){ps(this)},i.type="series.sunburst",i.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},i}(De);function Fs(t){var i=0;A(t.children,function(r){Fs(r);var n=r.value;B(n)&&(n=n[0]),i+=n});var e=t.value;B(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=i),e<0&&(e=0),B(t.value)?t.value[0]=e:t.value=e}var vo=Math.PI/180;function ag(t,i,e){i.eachSeriesByType(t,function(r){var n=r.get("center"),a=r.get("radius");B(a)||(a=[0,a]),B(n)||(n=[n,n]);var o=e.getWidth(),l=e.getHeight(),s=Math.min(o,l),u=$(n[0],o),f=$(n[1],l),c=$(a[0],s/2),v=$(a[1],s/2),h=-r.get("startAngle")*vo,d=r.get("minAngle")*vo,g=r.getData().tree.root,y=r.getViewRoot(),m=y.depth,x=r.get("sort");x!=null&&$s(y,x);var S=0;A(y.children,function(R){!isNaN(R.getValue())&&S++});var _=y.getValue(),b=Math.PI/(_||S)*2,w=y.depth>0,D=y.height-(w?-1:1),T=(v-c)/(D||1),C=r.get("clockwise"),I=r.get("stillShowZeroSum"),L=C?1:-1,M=function(R,k){if(R){var z=k;if(R!==g){var W=R.getValue(),Z=_===0&&I?b:W*b;Z<d&&(Z=d),z=k+L*Z;var X=R.depth-m-(w?-1:1),q=c+T*X,J=c+T*(X+1),Q=r.getLevelModel(R);if(Q){var ie=Q.get("r0",!0),Ae=Q.get("r",!0),et=Q.get("radius",!0);et!=null&&(ie=et[0],Ae=et[1]),ie!=null&&(q=$(ie,s/2)),Ae!=null&&(J=$(Ae,s/2))}R.setLayout({angle:Z,startAngle:k,endAngle:z,clockwise:C,cx:u,cy:f,r0:q,r:J})}if(R.children&&R.children.length){var Y=0;A(R.children,function(G){Y+=M(G,k+Y)})}return z-k}};if(w){var V=c,P=c+T,j=Math.PI*2;g.setLayout({angle:j,startAngle:h,endAngle:h+j,clockwise:C,cx:u,cy:f,r0:V,r:P})}M(y,h)})}function $s(t,i){var e=t.children||[];t.children=og(e,i),e.length&&A(t.children,function(r){$s(r,i)})}function og(t,i){if(le(i)){var e=H(t,function(n,a){var o=n.getValue();return{params:{depth:n.depth,height:n.height,dataIndex:n.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(n,a){return i(n.params,a.params)}),H(e,function(n){return t[n.index]})}else{var r=i==="asc";return t.sort(function(n,a){var o=(n.getValue()-a.getValue())*(r?1:-1);return o===0?(n.dataIndex-a.dataIndex)*(r?-1:1):o})}}function lg(t){var i={};function e(r,n,a){for(var o=r;o&&o.depth>1;)o=o.parentNode;var l=n.getColorFromPalette(o.name||o.dataIndex+"",i);return r.depth>1&&te(l)&&(l=pf(l,(r.depth-1)/(a-1)*.5)),l}t.eachSeriesByType("sunburst",function(r){var n=r.getData(),a=n.tree;a.eachNode(function(o){var l=o.getModel(),s=l.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e(o,r,a.root.height));var u=n.ensureUniqueItemVisual(o.dataIndex,"style");O(u,s)})})}function sg(t){t.registerChartView(rg),t.registerSeriesModel(ng),t.registerLayout(se(ag,"sunburst")),t.registerProcessor(se(In,"sunburst")),t.registerVisual(lg),ig(t)}var ho={color:"fill",borderColor:"stroke"},ug={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Ue=je(),fg=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},i.prototype.getInitialData=function(e,r){return ui(null,this)},i.prototype.getDataParams=function(e,r,n){var a=t.prototype.getDataParams.call(this,e,r);return n&&(a.info=Ue(n).info),a},i.type="series.custom",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},i}(De);function cg(t,i){return i=i||[0,0],H(["x","y"],function(e,r){var n=this.getAxis(e),a=i[r],o=t[r]/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(a-o)-n.dataToCoord(a+o))},this)}function vg(t){var i=t.master.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(e){return t.dataToPoint(e)},size:F(cg,t)}}}function hg(t,i){return i=i||[0,0],H([0,1],function(e){var r=i[e],n=t[e]/2,a=[],o=[];return a[e]=r-n,o[e]=r+n,a[1-e]=o[1-e]=i[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function dg(t){var i=t.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:F(hg,t)}}}function pg(t,i){var e=this.getAxis(),r=i instanceof Array?i[0]:i,n=(t instanceof Array?t[0]:t)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(r-n)-e.dataToCoord(r+n))}function gg(t){var i=t.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(e){return t.dataToPoint(e)},size:F(pg,t)}}}function yg(t,i){return i=i||[0,0],H(["Radius","Angle"],function(e,r){var n="get"+e+"Axis",a=this[n](),o=i[r],l=t[r]/2,s=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-l)-a.dataToCoord(o+l));return e==="Angle"&&(s=s*Math.PI/180),s},this)}function mg(t){var i=t.getRadiusAxis(),e=t.getAngleAxis(),r=i.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(n){var a=i.dataToRadius(n[0]),o=e.dataToAngle(n[1]),l=t.coordToPoint([a,o]);return l.push(a,o*Math.PI/180),l},size:F(yg,t)}}}function Sg(t){var i=t.getRect(),e=t.getRangeInfo();return{coordSys:{type:"calendar",x:i.x,y:i.y,width:i.width,height:i.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(r,n){return t.dataToPoint(r,n)}}}}function Us(t,i,e,r){return t&&(t.legacy||t.legacy!==!1&&!e&&!r&&i!=="tspan"&&(i==="text"||E(t,"text")))}function Ys(t,i,e){var r=t,n,a,o;if(i==="text")o=r;else{o={},E(r,"text")&&(o.text=r.text),E(r,"rich")&&(o.rich=r.rich),E(r,"textFill")&&(o.fill=r.textFill),E(r,"textStroke")&&(o.stroke=r.textStroke),E(r,"fontFamily")&&(o.fontFamily=r.fontFamily),E(r,"fontSize")&&(o.fontSize=r.fontSize),E(r,"fontStyle")&&(o.fontStyle=r.fontStyle),E(r,"fontWeight")&&(o.fontWeight=r.fontWeight),a={type:"text",style:o,silent:!0},n={};var l=E(r,"textPosition");e?n.position=l?r.textPosition:"inside":l&&(n.position=r.textPosition),E(r,"textPosition")&&(n.position=r.textPosition),E(r,"textOffset")&&(n.offset=r.textOffset),E(r,"textRotation")&&(n.rotation=r.textRotation),E(r,"textDistance")&&(n.distance=r.textDistance)}return po(o,t),A(o.rich,function(s){po(s,s)}),{textConfig:n,textContent:a}}function po(t,i){i&&(i.font=i.textFont||i.font,E(i,"textStrokeWidth")&&(t.lineWidth=i.textStrokeWidth),E(i,"textAlign")&&(t.align=i.textAlign),E(i,"textVerticalAlign")&&(t.verticalAlign=i.textVerticalAlign),E(i,"textLineHeight")&&(t.lineHeight=i.textLineHeight),E(i,"textWidth")&&(t.width=i.textWidth),E(i,"textHeight")&&(t.height=i.textHeight),E(i,"textBackgroundColor")&&(t.backgroundColor=i.textBackgroundColor),E(i,"textPadding")&&(t.padding=i.textPadding),E(i,"textBorderColor")&&(t.borderColor=i.textBorderColor),E(i,"textBorderWidth")&&(t.borderWidth=i.textBorderWidth),E(i,"textBorderRadius")&&(t.borderRadius=i.textBorderRadius),E(i,"textBoxShadowColor")&&(t.shadowColor=i.textBoxShadowColor),E(i,"textBoxShadowBlur")&&(t.shadowBlur=i.textBoxShadowBlur),E(i,"textBoxShadowOffsetX")&&(t.shadowOffsetX=i.textBoxShadowOffsetX),E(i,"textBoxShadowOffsetY")&&(t.shadowOffsetY=i.textBoxShadowOffsetY))}function go(t,i,e){var r=t;r.textPosition=r.textPosition||e.position||"inside",e.offset!=null&&(r.textOffset=e.offset),e.rotation!=null&&(r.textRotation=e.rotation),e.distance!=null&&(r.textDistance=e.distance);var n=r.textPosition.indexOf("inside")>=0,a=t.fill||"#000";yo(r,i);var o=r.textFill==null;return n?o&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=t.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=i.text,r.rich=i.rich,A(i.rich,function(l){yo(l,l)}),r}function yo(t,i){i&&(E(i,"fill")&&(t.textFill=i.fill),E(i,"stroke")&&(t.textStroke=i.fill),E(i,"lineWidth")&&(t.textStrokeWidth=i.lineWidth),E(i,"font")&&(t.font=i.font),E(i,"fontStyle")&&(t.fontStyle=i.fontStyle),E(i,"fontWeight")&&(t.fontWeight=i.fontWeight),E(i,"fontSize")&&(t.fontSize=i.fontSize),E(i,"fontFamily")&&(t.fontFamily=i.fontFamily),E(i,"align")&&(t.textAlign=i.align),E(i,"verticalAlign")&&(t.textVerticalAlign=i.verticalAlign),E(i,"lineHeight")&&(t.textLineHeight=i.lineHeight),E(i,"width")&&(t.textWidth=i.width),E(i,"height")&&(t.textHeight=i.height),E(i,"backgroundColor")&&(t.textBackgroundColor=i.backgroundColor),E(i,"padding")&&(t.textPadding=i.padding),E(i,"borderColor")&&(t.textBorderColor=i.borderColor),E(i,"borderWidth")&&(t.textBorderWidth=i.borderWidth),E(i,"borderRadius")&&(t.textBorderRadius=i.borderRadius),E(i,"shadowColor")&&(t.textBoxShadowColor=i.shadowColor),E(i,"shadowBlur")&&(t.textBoxShadowBlur=i.shadowBlur),E(i,"shadowOffsetX")&&(t.textBoxShadowOffsetX=i.shadowOffsetX),E(i,"shadowOffsetY")&&(t.textBoxShadowOffsetY=i.shadowOffsetY),E(i,"textShadowColor")&&(t.textShadowColor=i.textShadowColor),E(i,"textShadowBlur")&&(t.textShadowBlur=i.textShadowBlur),E(i,"textShadowOffsetX")&&(t.textShadowOffsetX=i.textShadowOffsetX),E(i,"textShadowOffsetY")&&(t.textShadowOffsetY=i.textShadowOffsetY))}var Xs={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},mo=de(Xs);mf(Kt,function(t,i){return t[i]=1,t},{});Kt.join(", ");var Ei=["","style","shape","extra"],It=je();function Yn(t,i,e,r,n){var a=t+"Animation",o=is(t,r,n)||{},l=It(i).userDuring;return o.duration>0&&(o.during=l?F(Dg,{el:i,userDuring:l}):null,o.setToFinal=!0,o.scope=t),O(o,e[a]),o}function wi(t,i,e,r){r=r||{};var n=r.dataIndex,a=r.isInit,o=r.clearStyle,l=e.isAnimationEnabled(),s=It(t),u=i.style;s.userDuring=i.during;var f={},c={};if(Ag(t,i,c),xo("shape",i,c),xo("extra",i,c),!a&&l&&(Tg(t,i,f),So("shape",t,i,f),So("extra",t,i,f),Cg(t,i,u,f)),c.style=u,xg(t,c,o),bg(t,i),l)if(a){var v={};A(Ei,function(d){var g=d?i[d]:i;g&&g.enterFrom&&(d&&(v[d]=v[d]||{}),O(d?v[d]:v,g.enterFrom))});var h=Yn("enter",t,i,e,n);h.duration>0&&t.animateFrom(v,h)}else _g(t,i,n||0,e,f);Zs(t,i),u?t.dirty():t.markRedraw()}function Zs(t,i){for(var e=It(t).leaveToProps,r=0;r<Ei.length;r++){var n=Ei[r],a=n?i[n]:i;a&&a.leaveTo&&(e||(e=It(t).leaveToProps={}),n&&(e[n]=e[n]||{}),O(n?e[n]:e,a.leaveTo))}}function qi(t,i,e,r){if(t){var n=t.parent,a=It(t).leaveToProps;if(a){var o=Yn("update",t,i,e,0);o.done=function(){n.remove(t)},t.animateTo(a,o)}else n.remove(t)}}function mt(t){return t==="all"}function xg(t,i,e){var r=i.style;if(!t.isGroup&&r){if(e){t.useStyle({});for(var n=t.animators,a=0;a<n.length;a++){var o=n[a];o.targetName==="style"&&o.changeTarget(t.style)}}t.setStyle(r)}i&&(i.style=null,i&&t.attr(i),i.style=r)}function _g(t,i,e,r,n){if(n){var a=Yn("update",t,i,r,e);a.duration>0&&t.animateFrom(n,a)}}function bg(t,i){E(i,"silent")&&(t.silent=i.silent),E(i,"ignore")&&(t.ignore=i.ignore),t instanceof Fi&&E(i,"invisible")&&(t.invisible=i.invisible),t instanceof ft&&E(i,"autoBatch")&&(t.autoBatch=i.autoBatch)}var Be={},wg={setTransform:function(t,i){return Be.el[t]=i,this},getTransform:function(t){return Be.el[t]},setShape:function(t,i){var e=Be.el,r=e.shape||(e.shape={});return r[t]=i,e.dirtyShape&&e.dirtyShape(),this},getShape:function(t){var i=Be.el.shape;if(i)return i[t]},setStyle:function(t,i){var e=Be.el,r=e.style;return r&&(r[t]=i,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(t){var i=Be.el.style;if(i)return i[t]},setExtra:function(t,i){var e=Be.el.extra||(Be.el.extra={});return e[t]=i,this},getExtra:function(t){var i=Be.el.extra;if(i)return i[t]}};function Dg(){var t=this,i=t.el;if(i){var e=It(i).userDuring,r=t.userDuring;if(e!==r){t.el=t.userDuring=null;return}Be.el=i,r(wg)}}function So(t,i,e,r){var n=e[t];if(n){var a=i[t],o;if(a){var l=e.transition,s=n.transition;if(s)if(!o&&(o=r[t]={}),mt(s))O(o,a);else for(var u=Ke(s),f=0;f<u.length;f++){var c=u[f],v=a[c];o[c]=v}else if(mt(l)||be(l,t)>=0){!o&&(o=r[t]={});for(var h=de(a),f=0;f<h.length;f++){var c=h[f],v=a[c];Ig(n[c],v)&&(o[c]=v)}}}}}function xo(t,i,e){var r=i[t];if(r)for(var n=e[t]={},a=de(r),o=0;o<a.length;o++){var l=a[o];n[l]=gf(r[l])}}function Tg(t,i,e){for(var r=i.transition,n=mt(r)?Kt:Ke(r||[]),a=0;a<n.length;a++){var o=n[a];if(!(o==="style"||o==="shape"||o==="extra")){var l=t[o];e[o]=l}}}function Ag(t,i,e){for(var r=0;r<mo.length;r++){var n=mo[r],a=Xs[n],o=i[n];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(var r=0;r<Kt.length;r++){var l=Kt[r];i[l]!=null&&(e[l]=i[l])}}function Cg(t,i,e,r){if(e){var n=t.style,a;if(n){var o=e.transition,l=i.transition;if(o&&!mt(o)){var s=Ke(o);!a&&(a=r.style={});for(var u=0;u<s.length;u++){var f=s[u],c=n[f];a[f]=c}}else if(t.getAnimationStyleProps&&(mt(l)||mt(o)||be(l,"style")>=0)){var v=t.getAnimationStyleProps(),h=v?v.style:null;if(h){!a&&(a=r.style={});for(var d=de(e),u=0;u<d.length;u++){var f=d[u];if(h[f]){var c=n[f];a[f]=c}}}}}}}function Ig(t,i){return yf(t)?t!==i:t!=null&&isFinite(t)}var Ks=je(),Lg=["percent","easing","shape","style","extra"];function qs(t){t.stopAnimation("keyframe"),t.attr(Ks(t))}function Ri(t,i,e){if(!(!e.isAnimationEnabled()||!i)){if(B(i)){A(i,function(l){Ri(t,l,e)});return}var r=i.keyframes,n=i.duration;if(e&&n==null){var a=is("enter",e,0);n=a&&a.duration}if(!(!r||!n)){var o=Ks(t);A(Ei,function(l){if(!(l&&!t[l])){var s;r.sort(function(u,f){return u.percent-f.percent}),A(r,function(u){var f=t.animators,c=l?u[l]:u;if(c){var v=de(c);if(l||(v=ze(v,function(g){return be(Lg,g)<0})),!!v.length){s||(s=t.animate(l,i.loop,!0),s.scope="keyframe");for(var h=0;h<f.length;h++)f[h]!==s&&f[h].targetName===s.targetName&&f[h].stopTracks(v);l&&(o[l]=o[l]||{});var d=l?o[l]:o;A(v,function(g){d[g]=((l?t[l]:t)||{})[g]}),s.whenWithKeys(n*u.percent,c,v,u.easing)}}}),s&&s.delay(i.delay||0).duration(n).start(i.easing)}})}}}var Ye="emphasis",it="normal",Xn="blur",Zn="select",ut=[it,Ye,Xn,Zn],Lr={normal:["itemStyle"],emphasis:[Ye,"itemStyle"],blur:[Xn,"itemStyle"],select:[Zn,"itemStyle"]},Pr={normal:["label"],emphasis:[Ye,"label"],blur:[Xn,"label"],select:[Zn,"label"]},Pg=["x","y"],Mg="e\0\0",Ce={normal:{},emphasis:{},blur:{},select:{}},Vg={cartesian2d:vg,geo:dg,single:gg,polar:mg,calendar:Sg};function ln(t){return t instanceof ft}function sn(t){return t instanceof Fi}function jg(t,i){i.copyTransform(t),sn(i)&&sn(t)&&(i.setStyle(t.style),i.z=t.z,i.z2=t.z2,i.zlevel=t.zlevel,i.invisible=t.invisible,i.ignore=t.ignore,ln(i)&&ln(t)&&i.setShape(t.shape))}var Ng=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n,a){this._progressiveEls=null;var o=this._data,l=e.getData(),s=this.group,u=_o(e,l,r,n);o||s.removeAll(),l.diff(o).add(function(c){Mr(n,null,c,u(c,a),e,s,l)}).remove(function(c){var v=o.getItemGraphicEl(c);v&&qi(v,Ue(v).option,e)}).update(function(c,v){var h=o.getItemGraphicEl(v);Mr(n,h,c,u(c,a),e,s,l)}).execute();var f=e.get("clip",!0)?Nn(e.coordinateSystem,!1,e):null;f?s.setClipPath(f):s.removeClipPath(),this._data=l},i.prototype.incrementalPrepareRender=function(e,r,n){this.group.removeAll(),this._data=null},i.prototype.incrementalRender=function(e,r,n,a,o){var l=r.getData(),s=_o(r,l,n,a),u=this._progressiveEls=[];function f(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var v=Mr(null,null,c,s(c,o),r,this.group,l);v&&(v.traverse(f),u.push(v))}},i.prototype.eachRendered=function(e){jn(this._progressiveEls||this.group,e)},i.prototype.filterForExposedEvent=function(e,r,n,a){var o=r.element;if(o==null||n.name===o)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1},i.type="custom",i}(Se);function Kn(t){var i=t.type,e;if(i==="path"){var r=t.shape,n=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=eu(r);e=_f(a,null,n,r.layout||"center"),Ue(e).customPathData=a}else if(i==="image")e=new bt({}),Ue(e).customImagePath=t.style.image;else if(i==="text")e=new pe({});else if(i==="group")e=new ae;else{if(i==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=rs(i);if(!o){var l="";ql(l)}e=new o}return Ue(e).customGraphicType=i,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function qn(t,i,e,r,n,a,o){qs(i);var l=n&&n.normal.cfg;l&&i.setTextConfig(l),r&&r.transition==null&&(r.transition=Pg);var s=r&&r.style;if(s){if(i.type==="text"){var u=s;E(u,"textFill")&&(u.fill=u.textFill),E(u,"textStroke")&&(u.stroke=u.textStroke)}var f=void 0,c=ln(i)?s.decal:null;t&&c&&(c.dirty=!0,f=ts(c,t)),s.__decalPattern=f}if(sn(i)&&s){var f=s.__decalPattern;f&&(s.decal=f)}wi(i,r,a,{dataIndex:e,isInit:o,clearStyle:!0}),Ri(i,r.keyframeAnimation,a)}function Qs(t,i,e,r,n){var a=i.isGroup?null:i,o=n&&n[t].cfg;if(a){var l=a.ensureState(t);if(r===!1){var s=a.getState(t);s&&(s.style=null)}else l.style=r||null;o&&(l.textConfig=o),Ii(a)}}function Eg(t,i,e){if(!t.isGroup){var r=t,n=e.currentZ,a=e.currentZLevel;r.z=n,r.zlevel=a;var o=i.z2;o!=null&&(r.z2=o||0);for(var l=0;l<ut.length;l++)Rg(r,i,ut[l])}}function Rg(t,i,e){var r=e===it,n=r?i:ki(i,e),a=n?n.z2:null,o;a!=null&&(o=r?t:t.ensureState(e),o.z2=a||0)}function _o(t,i,e,r){var n=t.get("renderItem"),a=t.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):Vg[a.type](a));for(var l=He({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:_,style:w,ordinalRawValue:b,styleEmphasis:D,visual:I,barLayout:L,currentSeriesIndices:M,font:V},o.api||{}),s={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:i.count(),encode:kg(t.getData())},u,f,c={},v={},h={},d={},g=0;g<ut.length;g++){var y=ut[g];h[y]=t.getModel(Lr[y]),d[y]=t.getModel(Pr[y])}function m(P){return P===u?f||(f=i.getItemModel(P)):i.getItemModel(P)}function x(P,j){return i.hasItemOption?P===u?c[j]||(c[j]=m(P).getModel(Lr[j])):m(P).getModel(Lr[j]):h[j]}function S(P,j){return i.hasItemOption?P===u?v[j]||(v[j]=m(P).getModel(Pr[j])):m(P).getModel(Pr[j]):d[j]}return function(P,j){return u=P,f=null,c={},v={},n&&n(He({dataIndexInside:P,dataIndex:i.getRawIndex(P),actionType:j?j.type:null},s),l)};function _(P,j){return j==null&&(j=u),i.getStore().get(i.getDimensionIndex(P||0),j)}function b(P,j){j==null&&(j=u),P=P||0;var R=i.getDimensionInfo(P);if(!R){var k=i.getDimensionIndex(P);return k>=0?i.getStore().get(k,j):void 0}var z=i.get(R.name,j),W=R&&R.ordinalMeta;return W?W.categories[z]:z}function w(P,j){j==null&&(j=u);var R=i.getItemVisual(j,"style"),k=R&&R.fill,z=R&&R.opacity,W=x(j,it).getItemStyle();k!=null&&(W.fill=k),z!=null&&(W.opacity=z);var Z={inheritColor:te(k)?k:"#000"},X=S(j,it),q=me(X,null,Z,!1,!0);q.text=X.getShallow("show")?ye(t.getFormattedLabel(j,it),Xr(i,j)):null;var J=ya(X,Z,!1);return C(P,W),W=go(W,q,J),P&&T(W,P),W.legacy=!0,W}function D(P,j){j==null&&(j=u);var R=x(j,Ye).getItemStyle(),k=S(j,Ye),z=me(k,null,null,!0,!0);z.text=k.getShallow("show")?si(t.getFormattedLabel(j,Ye),t.getFormattedLabel(j,it),Xr(i,j)):null;var W=ya(k,null,!0);return C(P,R),R=go(R,z,W),P&&T(R,P),R.legacy=!0,R}function T(P,j){for(var R in j)E(j,R)&&(P[R]=j[R])}function C(P,j){P&&(P.textFill&&(j.textFill=P.textFill),P.textPosition&&(j.textPosition=P.textPosition))}function I(P,j){if(j==null&&(j=u),E(ho,P)){var R=i.getItemVisual(j,"style");return R?R[ho[P]]:null}if(E(ug,P))return i.getItemVisual(j,P)}function L(P){if(a.type==="cartesian2d"){var j=a.getBaseAxis();return Sf(He({axis:j},P))}}function M(){return e.getCurrentSeriesIndices()}function V(P){return xf(P,e)}}function kg(t){var i={};return A(t.dimensions,function(e){var r=t.getDimensionInfo(e);if(!r.isExtraCoord){var n=r.coordDim,a=i[n]=i[n]||[];a[r.coordDimIndex]=t.getDimensionIndex(e)}}),i}function Mr(t,i,e,r,n,a,o){if(!r){a.remove(i);return}var l=Qn(t,i,e,r,n,a);return l&&o.setItemGraphicEl(e,l),l&&we(l,r.focus,r.blurScope,r.emphasisDisabled),l}function Qn(t,i,e,r,n,a){var o=-1,l=i;i&&Js(i,r,n)&&(o=be(a.childrenRef(),i),i=null);var s=!i,u=i;u?u.clearStates():(u=Kn(r),l&&jg(l,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Ce.normal.cfg=Ce.normal.conOpt=Ce.emphasis.cfg=Ce.emphasis.conOpt=Ce.blur.cfg=Ce.blur.conOpt=Ce.select.cfg=Ce.select.conOpt=null,Ce.isLegacy=!1,Bg(u,e,r,n,s,Ce),zg(u,e,r,n,s),qn(t,u,e,r,Ce,n,s),E(r,"info")&&(Ue(u).info=r.info);for(var f=0;f<ut.length;f++){var c=ut[f];if(c!==it){var v=ki(r,c),h=Jn(r,v,c);Qs(c,u,v,h,Ce)}}return Eg(u,r,n),r.type==="group"&&Og(t,u,e,r,n),o>=0?a.replaceAt(u,o):a.add(u),u}function Js(t,i,e){var r=Ue(t),n=i.type,a=i.shape,o=i.style;return e.isUniversalTransitionEnabled()||n!=null&&n!==r.customGraphicType||n==="path"&&Fg(a)&&eu(a)!==r.customPathData||n==="image"&&E(o,"image")&&o.image!==r.customImagePath}function zg(t,i,e,r,n){var a=e.clipPath;if(a===!1)t&&t.getClipPath()&&t.removeClipPath();else if(a){var o=t.getClipPath();o&&Js(o,a,r)&&(o=null),o||(o=Kn(a),t.setClipPath(o)),qn(null,o,i,a,null,r,n)}}function Bg(t,i,e,r,n,a){if(!t.isGroup){bo(e,null,a),bo(e,Ye,a);var o=a.normal.conOpt,l=a.emphasis.conOpt,s=a.blur.conOpt,u=a.select.conOpt;if(o!=null||l!=null||u!=null||s!=null){var f=t.getTextContent();if(o===!1)f&&t.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},f?f.clearStates():(f=Kn(o),t.setTextContent(f)),qn(null,f,i,o,null,r,n);for(var c=o&&o.style,v=0;v<ut.length;v++){var h=ut[v];if(h!==it){var d=a[h].conOpt;Qs(h,f,d,Jn(o,d,h),null)}}c?f.dirty():f.markRedraw()}}}}function bo(t,i,e){var r=i?ki(t,i):t,n=i?Jn(t,r,Ye):t.style,a=t.type,o=r?r.textConfig:null,l=t.textContent,s=l?i?ki(l,i):l:null;if(n&&(e.isLegacy||Us(n,a,!!o,!!s))){e.isLegacy=!0;var u=Ys(n,a,!i);!o&&u.textConfig&&(o=u.textConfig),!s&&u.textContent&&(s=u.textContent)}if(!i&&s){var f=s;!f.type&&(f.type="text")}var c=i?e[i]:e.normal;c.cfg=o,c.conOpt=s}function ki(t,i){return i?t?t[i]:null:t}function Jn(t,i,e){var r=i&&i.style;return r==null&&e===Ye&&t&&(r=t.styleEmphasis),r}function Og(t,i,e,r,n){var a=r.children,o=a?a.length:0,l=r.$mergeChildren,s=l==="byName"||r.diffChildrenByName,u=l===!1;if(!(!o&&!s&&!u)){if(s){Hg({api:t,oldChildren:i.children()||[],newChildren:a||[],dataIndex:e,seriesModel:n,group:i});return}u&&i.removeAll();for(var f=0;f<o;f++){var c=a[f],v=i.childAt(f);c?(c.ignore==null&&(c.ignore=!1),Qn(t,v,e,c,n,i)):v.ignore=!0}for(var h=i.childCount()-1;h>=f;h--){var d=i.childAt(h);Gg(i,d,n)}}}function Gg(t,i,e){i&&qi(i,Ue(t).option,e)}function Hg(t){new Wi(t.oldChildren,t.newChildren,wo,wo,t).add(Do).update(Do).remove(Wg).execute()}function wo(t,i){var e=t&&t.name;return e??Mg+i}function Do(t,i){var e=this.context,r=t!=null?e.newChildren[t]:null,n=i!=null?e.oldChildren[i]:null;Qn(e.api,n,e.dataIndex,r,e.seriesModel,e.group)}function Wg(t){var i=this.context,e=i.oldChildren[t];e&&qi(e,Ue(e).option,i.seriesModel)}function eu(t){return t&&(t.pathData||t.d)}function Fg(t){return t&&(E(t,"pathData")||E(t,"d"))}function $g(t){t.registerChartView(Ng),t.registerSeriesModel(fg)}function un(t,i){i=i||{};var e=t.coordinateSystem,r=t.axis,n={},a=r.position,o=r.orient,l=e.getRect(),s=[l.x,l.x+l.width,l.y,l.y+l.height],u={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};n.position=[o==="vertical"?u.vertical[a]:s[0],o==="horizontal"?u.horizontal[a]:s[3]];var f={horizontal:0,vertical:1};n.rotation=Math.PI/2*f[o];var c={top:-1,bottom:1,right:1,left:-1};n.labelDirection=n.tickDirection=n.nameDirection=c[a],t.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),Ee(i.labelInside,t.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var v=i.rotate;return v==null&&(v=t.get(["axisLabel","rotate"])),n.labelRotation=a==="top"?-v:v,n.z2=1,n}var Ug=["axisLine","axisTickLabel","axisName"],Yg=["splitArea","splitLine"],Xg=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.axisPointerClass="SingleAxisPointer",e}return i.prototype.render=function(e,r,n,a){var o=this.group;o.removeAll();var l=this._axisGroup;this._axisGroup=new ae;var s=un(e),u=new Ul(e,s);A(Ug,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),A(Yg,function(f){e.get([f,"show"])&&Zg[f](this,this.group,this._axisGroup,e)},this),Yl(l,this._axisGroup,e),t.prototype.render.call(this,e,r,n,a)},i.prototype.remove=function(){bf(this)},i.type="singleAxis",i}(ns),Zg={splitLine:function(t,i,e,r){var n=r.axis;if(!n.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),l=o.get("color");l=l instanceof Array?l:[l];for(var s=o.get("width"),u=r.coordinateSystem.getRect(),f=n.isHorizontal(),c=[],v=0,h=n.getTicksCoords({tickModel:a}),d=[],g=[],y=0;y<h.length;++y){var m=n.toGlobalCoord(h[y].coord);f?(d[0]=m,d[1]=u.y,g[0]=m,g[1]=u.y+u.height):(d[0]=u.x,d[1]=m,g[0]=u.x+u.width,g[1]=m);var x=new Zr({shape:{x1:d[0],y1:d[1],x2:g[0],y2:g[1]},silent:!0});Df(x.shape,s);var S=v++%l.length;c[S]=c[S]||[],c[S].push(x)}for(var _=o.getLineStyle(["color"]),y=0;y<c.length;++y)i.add(Tf(c[y],{style:He({stroke:l[y%l.length]},_),silent:!0}))}},splitArea:function(t,i,e,r){wf(t,e,r,r)}},Di=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.getCoordSysModel=function(){return this},i.type="singleAxis",i.layoutMode="box",i.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},i}(Je);Mt(Di,Fl.prototype);var Kg=function(t){N(i,t);function i(e,r,n,a,o){var l=t.call(this,e,r,n)||this;return l.type=a||"value",l.position=o||"bottom",l}return i.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},i.prototype.pointToData=function(e,r){return this.coordinateSystem.pointToData(e)[0]},i}(Ln),tu=["single"],qg=function(){function t(i,e,r){this.type="single",this.dimension="single",this.dimensions=tu,this.axisPointerEnabled=!0,this.model=i,this._init(i,e,r)}return t.prototype._init=function(i,e,r){var n=this.dimension,a=new Kg(n,Ol(i),[0,0],i.get("type"),i.get("position")),o=a.type==="category";a.onBand=o&&i.get("boundaryGap"),a.inverse=i.get("inverse"),a.orient=i.get("orient"),i.axis=a,a.model=i,a.coordinateSystem=this,this._axis=a},t.prototype.update=function(i,e){i.eachSeries(function(r){if(r.coordinateSystem===this){var n=r.getData();A(n.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(n,a)},this),Gl(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(i,e){this._rect=Fe({left:i.get("left"),top:i.get("top"),right:i.get("right"),bottom:i.get("bottom"),width:i.get("width"),height:i.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var i=this._rect,e=this._axis,r=e.isHorizontal(),n=r?[0,i.width]:[0,i.height],a=e.inverse?1:0;e.setExtent(n[a],n[1-a]),this._updateAxisTransform(e,r?i.x:i.y)},t.prototype._updateAxisTransform=function(i,e){var r=i.getExtent(),n=r[0]+r[1],a=i.isHorizontal();i.toGlobalCoord=a?function(o){return o+e}:function(o){return n-o+e},i.toLocalCoord=a?function(o){return o-e}:function(o){return n-o+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(i){var e=this.getRect(),r=this.getAxis(),n=r.orient;return n==="horizontal"?r.contain(r.toLocalCoord(i[0]))&&i[1]>=e.y&&i[1]<=e.y+e.height:r.contain(r.toLocalCoord(i[1]))&&i[0]>=e.y&&i[0]<=e.y+e.height},t.prototype.pointToData=function(i){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(i[e.orient==="horizontal"?0:1]))]},t.prototype.dataToPoint=function(i){var e=this.getAxis(),r=this.getRect(),n=[],a=e.orient==="horizontal"?0:1;return i instanceof Array&&(i=i[0]),n[a]=e.toGlobalCoord(e.dataToCoord(+i)),n[1-a]=a===0?r.y+r.height/2:r.x+r.width/2,n},t.prototype.convertToPixel=function(i,e,r){var n=To(e);return n===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(i,e,r){var n=To(e);return n===this?this.pointToData(r):null},t}();function To(t){var i=t.seriesModel,e=t.singleAxisModel;return e&&e.coordinateSystem||i&&i.coordinateSystem}function Qg(t,i){var e=[];return t.eachComponent("singleAxis",function(r,n){var a=new qg(r,t,i);a.name="single_"+n,a.resize(r,i),r.coordinateSystem=a,e.push(a)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var n=r.getReferringComponents("singleAxis",Pn).models[0];r.coordinateSystem=n&&n.coordinateSystem}}),e}var Jg={create:Qg,dimensions:tu},Ao=["x","y"],e0=["width","height"],t0=function(t){N(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.prototype.makeElOption=function(e,r,n,a,o){var l=n.axis,s=l.coordinateSystem,u=Vr(s,1-zi(l)),f=s.dataToPoint(r)[0],c=a.get("type");if(c&&c!=="none"){var v=Af(a),h=i0[c](l,f,u);h.style=v,e.graphicKey=h.type,e.pointer=h}var d=un(n);Cf(r,e,d,n,a,o)},i.prototype.getHandleTransform=function(e,r,n){var a=un(r,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var o=If(r.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(e,r,n,a){var o=n.axis,l=o.coordinateSystem,s=zi(o),u=Vr(l,s),f=[e.x,e.y];f[s]+=r[s],f[s]=Math.min(u[1],f[s]),f[s]=Math.max(u[0],f[s]);var c=Vr(l,1-s),v=(c[1]+c[0])/2,h=[v,v];return h[s]=f[s],{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},i}(Lf),i0={line:function(t,i,e){var r=Mf([i,e[0]],[i,e[1]],zi(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,i,e){var r=t.getBandWidth(),n=e[1]-e[0];return{type:"Rect",shape:Pf([i-r/2,e[0]],[r,n],zi(t))}}};function zi(t){return t.isHorizontal()?0:1}function Vr(t,i){var e=t.getRect();return[e[Ao[i]],e[Ao[i]]+e[e0[i]]]}var r0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.type="single",i}(Qe);function n0(t){U(as),ns.registerAxisPointerClass("SingleAxisPointer",t0),t.registerComponentView(r0),t.registerComponentView(Xg),t.registerComponentModel(Di),Xl(t,"single",Di,Di.defaultOption),t.registerCoordinateSystem("single",Jg)}var a0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e,r,n){var a=Vf(e);t.prototype.init.apply(this,arguments),Co(e,a)},i.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),Co(this.option,e)},i.prototype.getCellSize=function(){return this.option.cellSize},i.type="calendar",i.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},i}(Je);function Co(t,i){var e=t.cellSize,r;B(e)?r=e:r=t.cellSize=[e,e],r.length===1&&(r[1]=r[0]);var n=H([0,1],function(a){return jf(i,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});os(t,i,{type:"box",ignoreSize:n})}var o0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,n){var a=this.group;a.removeAll();var o=e.coordinateSystem,l=o.getRangeInfo(),s=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(e,l,a),this._renderLines(e,l,s,a),this._renderYearText(e,l,s,a),this._renderMonthText(e,u,s,a),this._renderWeekText(e,u,l,s,a)},i.prototype._renderDayRect=function(e,r,n){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),l=a.getCellWidth(),s=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var f=a.dataToRect([u],!1).tl,c=new Me({shape:{x:f[0],y:f[1],width:l,height:s},cursor:"default",style:o});n.add(c)}},i.prototype._renderLines=function(e,r,n,a){var o=this,l=e.coordinateSystem,s=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),f=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=r.start,v=0;c.time<=r.end.time;v++){d(c.formatedDate),v===0&&(c=l.getDateInfo(r.start.y+"-"+r.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=l.getDateInfo(h)}d(l.getNextNDay(r.end.time,1).formatedDate);function d(g){o._firstDayOfMonth.push(l.getDateInfo(g)),o._firstDayPoints.push(l.dataToRect([g],!1).tl);var y=o._getLinePointsOfOneWeek(e,g,n);o._tlpoints.push(y[0]),o._blpoints.push(y[y.length-1]),u&&o._drawSplitline(y,s,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,f,n),s,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,f,n),s,a)},i.prototype._getEdgesPoints=function(e,r,n){var a=[e[0].slice(),e[e.length-1].slice()],o=n==="horizontal"?0:1;return a[0][o]=a[0][o]-r/2,a[1][o]=a[1][o]+r/2,a},i.prototype._drawSplitline=function(e,r,n){var a=new Cn({z2:20,shape:{points:e},style:r});n.add(a)},i.prototype._getLinePointsOfOneWeek=function(e,r,n){for(var a=e.coordinateSystem,o=a.getDateInfo(r),l=[],s=0;s<7;s++){var u=a.getNextNDay(o.time,s),f=a.dataToRect([u.time],!1);l[2*u.day]=f.tl,l[2*u.day+1]=f[n==="horizontal"?"bl":"tr"]}return l},i.prototype._formatterLabel=function(e,r){return te(e)&&e?Nf(e,r):le(e)?e(r):r.nameMap},i.prototype._yearTextPositionControl=function(e,r,n,a,o){var l=r[0],s=r[1],u=["center","bottom"];a==="bottom"?(s+=o,u=["center","top"]):a==="left"?l-=o:a==="right"?(l+=o,u=["center","top"]):s-=o;var f=0;return(a==="left"||a==="right")&&(f=Math.PI/2),{rotation:f,x:l,y:s,style:{align:u[0],verticalAlign:u[1]}}},i.prototype._renderYearText=function(e,r,n,a){var o=e.getModel("yearLabel");if(o.get("show")){var l=o.get("margin"),s=o.get("position");s||(s=n!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],f=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,v=n==="horizontal"?0:1,h={top:[f,u[v][1]],bottom:[f,u[1-v][1]],left:[u[1-v][0],c],right:[u[v][0],c]},d=r.start.y;+r.end.y>+r.start.y&&(d=d+"-"+r.end.y);var g=o.get("formatter"),y={start:r.start.y,end:r.end.y,nameMap:d},m=this._formatterLabel(g,y),x=new pe({z2:30,style:me(o,{text:m}),silent:o.get("silent")});x.attr(this._yearTextPositionControl(x,h[s],n,s,l)),a.add(x)}},i.prototype._monthTextPositionControl=function(e,r,n,a,o){var l="left",s="top",u=e[0],f=e[1];return n==="horizontal"?(f=f+o,r&&(l="center"),a==="start"&&(s="bottom")):(u=u+o,r&&(s="middle"),a==="start"&&(l="right")),{x:u,y:f,align:l,verticalAlign:s}},i.prototype._renderMonthText=function(e,r,n,a){var o=e.getModel("monthLabel");if(o.get("show")){var l=o.get("nameMap"),s=o.get("margin"),u=o.get("position"),f=o.get("align"),c=[this._tlpoints,this._blpoints];(!l||te(l))&&(l&&(r=ma(l)||r),l=r.get(["time","monthAbbr"])||[]);var v=u==="start"?0:1,h=n==="horizontal"?0:1;s=u==="start"?-s:s;for(var d=f==="center",g=o.get("silent"),y=0;y<c[v].length-1;y++){var m=c[v][y].slice(),x=this._firstDayOfMonth[y];if(d){var S=this._firstDayPoints[y];m[h]=(S[h]+c[0][y+1][h])/2}var _=o.get("formatter"),b=l[+x.m-1],w={yyyy:x.y,yy:(x.y+"").slice(2),MM:x.m,M:+x.m,nameMap:b},D=this._formatterLabel(_,w),T=new pe({z2:30,style:O(me(o,{text:D}),this._monthTextPositionControl(m,d,n,u,s)),silent:g});a.add(T)}}},i.prototype._weekTextPositionControl=function(e,r,n,a,o){var l="center",s="middle",u=e[0],f=e[1],c=n==="start";return r==="horizontal"?(u=u+a+(c?1:-1)*o[0]/2,l=c?"right":"left"):(f=f+a+(c?1:-1)*o[1]/2,s=c?"bottom":"top"),{x:u,y:f,align:l,verticalAlign:s}},i.prototype._renderWeekText=function(e,r,n,a,o){var l=e.getModel("dayLabel");if(l.get("show")){var s=e.coordinateSystem,u=l.get("position"),f=l.get("nameMap"),c=l.get("margin"),v=s.getFirstDayOfWeek();if(!f||te(f)){f&&(r=ma(f)||r);var h=r.get(["time","dayOfWeekShort"]);f=h||H(r.get(["time","dayOfWeekAbbr"]),function(w){return w[0]})}var d=s.getNextNDay(n.end.time,7-n.lweek).time,g=[s.getCellWidth(),s.getCellHeight()];c=$(c,Math.min(g[1],g[0])),u==="start"&&(d=s.getNextNDay(n.start.time,-(7+n.fweek)).time,c=-c);for(var y=l.get("silent"),m=0;m<7;m++){var x=s.getNextNDay(d,m),S=s.dataToRect([x.time],!1).center,_=m;_=Math.abs((m+v)%7);var b=new pe({z2:30,style:O(me(l,{text:f[_]}),this._weekTextPositionControl(S,a,u,c,g)),silent:y});o.add(b)}}},i.type="calendar",i}(Qe),jr=864e5,l0=function(){function t(i,e,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=i}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(i){i=Ef(i);var e=i.getFullYear(),r=i.getMonth()+1,n=r<10?"0"+r:""+r,a=i.getDate(),o=a<10?"0"+a:""+a,l=i.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:e+"",m:n,d:o,day:l,time:i.getTime(),formatedDate:e+"-"+n+"-"+o,date:i}},t.prototype.getNextNDay=function(i,e){return e=e||0,e===0?this.getDateInfo(i):(i=new Date(this.getDateInfo(i).time),i.setDate(i.getDate()+e),this.getDateInfo(i))},t.prototype.update=function(i,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,n=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),l=this._orient==="horizontal"?[r,7]:[7,r];A([0,1],function(c){f(a,c)&&(o[n[c]]=a[c]*l[c])});var s={width:e.getWidth(),height:e.getHeight()},u=this._rect=Fe(o,s);A([0,1],function(c){f(a,c)||(a[c]=u[n[c]]/l[c])});function f(c,v){return c[v]!=null&&c[v]!=="auto"}this._sw=a[0],this._sh=a[1]},t.prototype.dataToPoint=function(i,e){B(i)&&(i=i[0]),e==null&&(e=!0);var r=this.getDateInfo(i),n=this._rangeInfo,a=r.formatedDate;if(e&&!(r.time>=n.start.time&&r.time<n.end.time+jr))return[NaN,NaN];var o=r.day,l=this._getRangeInfo([n.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(i){var e=this.pointToDate(i);return e&&e.time},t.prototype.dataToRect=function(i,e){var r=this.dataToPoint(i,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},t.prototype.pointToDate=function(i){var e=Math.floor((i[0]-this._rect.x)/this._sw)+1,r=Math.floor((i[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,e-1,n):this._getDateByWeeksAndDay(e,r-1,n)},t.prototype.convertToPixel=function(i,e,r){var n=Io(e);return n===this?n.dataToPoint(r):null},t.prototype.convertFromPixel=function(i,e,r){var n=Io(e);return n===this?n.pointToData(r):null},t.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var i=this._model.get("range"),e;if(B(i)&&i.length===1&&(i=i[0]),B(i))e=i;else{var r=i.toString();if(/^\d{4}$/.test(r)&&(e=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var n=this.getDateInfo(r),a=n.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(e=[r,r])}if(!e)return i;var l=this._getRangeInfo(e);return l.start.time>l.end.time&&e.reverse(),e},t.prototype._getRangeInfo=function(i){var e=[this.getDateInfo(i[0]),this.getDateInfo(i[1])],r;e[0].time>e[1].time&&(r=!0,e.reverse());var n=Math.floor(e[1].time/jr)-Math.floor(e[0].time/jr)+1,a=new Date(e[0].time),o=a.getDate(),l=e[1].date.getDate();a.setDate(o+n-1);var s=a.getDate();if(s!==l)for(var u=a.getTime()-e[1].time>0?1:-1;(s=a.getDate())!==l&&(a.getTime()-e[1].time)*u>0;)n-=u,a.setDate(s-u);var f=Math.floor((n+e[0].day+6)/7),c=r?-f+1:f-1;return r&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:f,nthWeek:c,fweek:e[0].day,lweek:e[1].day}},t.prototype._getDateByWeeksAndDay=function(i,e,r){var n=this._getRangeInfo(r);if(i>n.weeks||i===0&&e<n.fweek||i===n.weeks&&e>n.lweek)return null;var a=(i-1)*7-n.fweek+e,o=new Date(n.start.time);return o.setDate(+n.start.d+a),this.getDateInfo(o)},t.create=function(i,e){var r=[];return i.eachComponent("calendar",function(n){var a=new t(n);r.push(a),n.coordinateSystem=a}),i.eachSeries(function(n){n.get("coordinateSystem")==="calendar"&&(n.coordinateSystem=r[n.get("calendarIndex")||0])}),r},t.dimensions=["time","value"],t}();function Io(t){var i=t.calendarModel,e=t.seriesModel,r=i?i.coordinateSystem:e?e.coordinateSystem:null;return r}function s0(t){t.registerComponentModel(a0),t.registerComponentView(o0),t.registerCoordinateSystem("calendar",l0)}function u0(t,i){var e=t.existing;if(i.id=t.keyInfo.id,!i.type&&e&&(i.type=e.type),i.parentId==null){var r=i.parentOption;r?i.parentId=r.id:e&&(i.parentId=e.parentId)}i.parentOption=null}function Lo(t,i){var e;return A(i,function(r){t[r]!=null&&t[r]!=="auto"&&(e=!0)}),e}function f0(t,i,e){var r=O({},e),n=t[i],a=e.$action||"merge";a==="merge"?n?(Pe(n,r,!0),os(n,r,{ignoreSize:!0}),kf(e,n),yi(e,n),yi(e,n,"shape"),yi(e,n,"style"),yi(e,n,"extra"),e.clipPath=n.clipPath):t[i]=r:a==="replace"?t[i]=r:a==="remove"&&n&&(t[i]=null)}var iu=["transition","enterFrom","leaveTo"],c0=iu.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function yi(t,i,e){if(e&&(!t[e]&&i[e]&&(t[e]={}),t=t[e],i=i[e]),!(!t||!i))for(var r=e?iu:c0,n=0;n<r.length;n++){var a=r[n];t[a]==null&&i[a]!=null&&(t[a]=i[a])}}function v0(t,i){if(t&&(t.hv=i.hv=[Lo(i,["left","right"]),Lo(i,["top","bottom"])],t.type==="group")){var e=t,r=i;e.width==null&&(e.width=r.width=0),e.height==null&&(e.height=r.height=0)}}var h0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.preventAutoZ=!0,e}return i.prototype.mergeOption=function(e,r){var n=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,r),this.option.elements=n},i.prototype.optionUpdated=function(e,r){var n=this.option,a=(r?n:e).elements,o=n.elements=r?[]:n.elements,l=[];this._flatten(a,l,null);var s=Rf(o,l,"normalMerge"),u=this._elOptionsToUpdate=[];A(s,function(f,c){var v=f.newOption;v&&(u.push(v),u0(f,v),f0(o,c,v),v0(o[c],v))},this),n.elements=ze(o,function(f){return f&&delete f.$action,f!=null})},i.prototype._flatten=function(e,r,n){A(e,function(a){if(a){n&&(a.parentOption=n),r.push(a);var o=a.children;o&&o.length&&this._flatten(o,r,a),delete a.children}},this)},i.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},i.type="graphic",i.defaultOption={elements:[]},i}(Je),Po={path:null,compoundPath:null,group:ae,image:bt,text:pe},Ie=je(),d0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(){this._elMap=at()},i.prototype.render=function(e,r,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},i.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(r){var n=this._elMap,a=this.group,o=e.get("z"),l=e.get("zlevel");A(r,function(s){var u=$e(s.id,null),f=u!=null?n.get(u):null,c=$e(s.parentId,null),v=c!=null?n.get(c):a,h=s.type,d=s.style;h==="text"&&d&&s.hv&&s.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var g=s.textContent,y=s.textConfig;if(d&&Us(d,h,!!y,!!g)){var m=Ys(d,h,!0);!y&&m.textConfig&&(y=s.textConfig=m.textConfig),!g&&m.textContent&&(g=m.textContent)}var x=p0(s),S=s.$action||"merge",_=S==="merge",b=S==="replace";if(_){var w=!f,D=f;w?D=Mo(u,v,s.type,n):(D&&(Ie(D).isNew=!1),qs(D)),D&&(wi(D,x,e,{isInit:w}),Vo(D,s,o,l))}else if(b){Ti(f,s,n,e);var T=Mo(u,v,s.type,n);T&&(wi(T,x,e,{isInit:!0}),Vo(T,s,o,l))}else S==="remove"&&(Zs(f,s),Ti(f,s,n,e));var C=n.get(u);if(C&&g)if(_){var I=C.getTextContent();I?I.attr(g):C.setTextContent(new pe(g))}else b&&C.setTextContent(new pe(g));if(C){var L=s.clipPath;if(L){var M=L.type,V=void 0,w=!1;if(_){var P=C.getClipPath();w=!P||Ie(P).type!==M,V=w?fn(M):P}else b&&(w=!0,V=fn(M));C.setClipPath(V),wi(V,L,e,{isInit:w}),Ri(V,L.keyframeAnimation,e)}var j=Ie(C);C.setTextConfig(y),j.option=s,g0(C,e,s),zf({el:C,componentModel:e,itemName:C.name,itemTooltipOption:s.tooltip}),Ri(C,s.keyframeAnimation,e)}})}},i.prototype._relocate=function(e,r){for(var n=e.option.elements,a=this.group,o=this._elMap,l=r.getWidth(),s=r.getHeight(),u=["x","y"],f=0;f<n.length;f++){var c=n[f],v=$e(c.id,null),h=v!=null?o.get(v):null;if(!(!h||!h.isGroup)){var d=h.parent,g=d===a,y=Ie(h),m=Ie(d);y.width=$(y.option.width,g?l:m.width)||0,y.height=$(y.option.height,g?s:m.height)||0}}for(var f=n.length-1;f>=0;f--){var c=n[f],v=$e(c.id,null),h=v!=null?o.get(v):null;if(h){var d=h.parent,m=Ie(d),x=d===a?{width:l,height:s}:{width:m.width,height:m.height},S={},_=_n(h,c,x,null,{hv:c.hv,boundingMode:c.bounding},S);if(!Ie(h).isNew&&_){for(var b=c.transition,w={},D=0;D<u.length;D++){var T=u[D],C=S[T];b&&(mt(b)||be(b,T)>=0)?w[T]=C:h[T]=C}_e(h,w,e,0)}else h.attr(S)}}},i.prototype._clear=function(){var e=this,r=this._elMap;r.each(function(n){Ti(n,Ie(n).option,r,e._lastGraphicModel)}),this._elMap=at()},i.prototype.dispose=function(){this._clear()},i.type="graphic",i}(Qe);function fn(t){var i=E(Po,t)?Po[t]:rs(t),e=new i({});return Ie(e).type=t,e}function Mo(t,i,e,r){var n=fn(e);return i.add(n),r.set(t,n),Ie(n).id=t,Ie(n).isNew=!0,n}function Ti(t,i,e,r){var n=t&&t.parent;n&&(t.type==="group"&&t.traverse(function(a){Ti(a,i,e,r)}),qi(t,i,r),e.removeKey(Ie(t).id))}function Vo(t,i,e,r){t.isGroup||A([["cursor",Fi.prototype.cursor],["zlevel",r||0],["z",e||0],["z2",0]],function(n){var a=n[0];E(i,a)?t[a]=ye(i[a],n[1]):t[a]==null&&(t[a]=n[1])}),A(de(i),function(n){if(n.indexOf("on")===0){var a=i[n];t[n]=le(a)?a:null}}),E(i,"draggable")&&(t.draggable=i.draggable),i.name!=null&&(t.name=i.name),i.id!=null&&(t.id=i.id)}function p0(t){return t=O({},t),A(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Bf),function(i){delete t[i]}),t}function g0(t,i,e){var r=ce(t).eventData;!t.silent&&!t.ignore&&!r&&(r=ce(t).eventData={componentType:"graphic",componentIndex:i.componentIndex,name:t.name}),r&&(r.info=e.info)}function y0(t){t.registerComponentModel(h0),t.registerComponentView(d0),t.registerPreprocessor(function(i){var e=i.graphic;B(e)?!e[0]||!e[0].elements?i.graphic=[{elements:e}]:i.graphic=[i.graphic[0]]:e&&!e.elements&&(i.graphic=[{elements:[e]}])})}var m0=["rect","polygon","keep","clear"];function S0(t,i){var e=Ke(t?t.brush:[]);if(e.length){var r=[];A(e,function(s){var u=s.hasOwnProperty("toolbox")?s.toolbox:[];u instanceof Array&&(r=r.concat(u))});var n=t&&t.toolbox;B(n)&&(n=n[0]),n||(n={feature:{}},t.toolbox=[n]);var a=n.feature||(n.feature={}),o=a.brush||(a.brush={}),l=o.type||(o.type=[]);l.push.apply(l,r),x0(l),i&&!l.length&&l.push.apply(l,m0)}}function x0(t){var i={};A(t,function(e){i[e]=1}),t.length=0,A(i,function(e,r){t.push(r)})}var jo=A;function No(t){if(t){for(var i in t)if(t.hasOwnProperty(i))return!0}}function cn(t,i,e){var r={};return jo(i,function(a){var o=r[a]=n();jo(t[a],function(l,s){if(fe.isValidType(s)){var u={type:s,visual:l};e&&e(u,a),o[s]=new fe(u),s==="opacity"&&(u=oe(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new fe(u))}})}),r;function n(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function ru(t,i,e){var r;A(e,function(n){i.hasOwnProperty(n)&&No(i[n])&&(r=!0)}),r&&A(e,function(n){i.hasOwnProperty(n)&&No(i[n])?t[n]=oe(i[n]):delete t[n]})}function _0(t,i,e,r,n,a){var o={};A(t,function(c){var v=fe.prepareVisualTypes(i[c]);o[c]=v});var l;function s(c){return ls(e,l,c)}function u(c,v){ss(e,l,c,v)}e.each(f);function f(c,v){l=c;var h=e.getRawDataItem(l);if(!(h&&h.visualMap===!1))for(var d=r.call(n,c),g=i[d],y=o[d],m=0,x=y.length;m<x;m++){var S=y[m];g[S]&&g[S].applyVisual(c,s,u)}}}function b0(t,i,e,r){var n={};return A(t,function(a){var o=fe.prepareVisualTypes(i[a]);n[a]=o}),{progress:function(o,l){var s;r!=null&&(s=l.getDimensionIndex(r));function u(b){return ls(l,c,b)}function f(b,w){ss(l,c,b,w)}for(var c,v=l.getStore();(c=o.next())!=null;){var h=l.getRawDataItem(c);if(!(h&&h.visualMap===!1))for(var d=r!=null?v.get(s,c):c,g=e(d),y=i[g],m=n[g],x=0,S=m.length;x<S;x++){var _=m[x];y[_]&&y[_].applyVisual(d,u,f)}}}}}function w0(t){var i=t.brushType,e={point:function(r){return Eo[i].point(r,e,t)},rect:function(r){return Eo[i].rect(r,e,t)}};return e}var Eo={lineX:Ro(0),lineY:Ro(1),rect:{point:function(t,i,e){return t&&e.boundingRect.contain(t[0],t[1])},rect:function(t,i,e){return t&&e.boundingRect.intersect(t)}},polygon:{point:function(t,i,e){return t&&e.boundingRect.contain(t[0],t[1])&&jt(e.range,t[0],t[1])},rect:function(t,i,e){var r=e.range;if(!t||r.length<=1)return!1;var n=t.x,a=t.y,o=t.width,l=t.height,s=r[0];if(jt(r,n,a)||jt(r,n+o,a)||jt(r,n,a+l)||jt(r,n+o,a+l)||lt.create(t).contain(s[0],s[1])||ci(n,a,n+o,a,r)||ci(n,a,n,a+l,r)||ci(n+o,a,n+o,a+l,r)||ci(n,a+l,n+o,a+l,r))return!0}}};function Ro(t){var i=["x","y"],e=["width","height"];return{point:function(r,n,a){if(r){var o=a.range,l=r[t];return kt(l,o)}},rect:function(r,n,a){if(r){var o=a.range,l=[r[i[t]],r[i[t]]+r[e[t]]];return l[1]<l[0]&&l.reverse(),kt(l[0],o)||kt(l[1],o)||kt(o[0],l)||kt(o[1],l)}}}}function kt(t,i){return i[0]<=t&&t<=i[1]}var ko=["inBrush","outOfBrush"],Nr="__ecBrushSelect",vn="__ecInBrushSelectEvent";function nu(t){t.eachComponent({mainType:"brush"},function(i){var e=i.brushTargetManager=new Of(i.option,t);e.setInputRanges(i.areas,t)})}function D0(t,i,e){var r=[],n,a;t.eachComponent({mainType:"brush"},function(o){e&&e.type==="takeGlobalCursor"&&o.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),nu(t),t.eachComponent({mainType:"brush"},function(o,l){var s={brushId:o.id,brushIndex:l,brushName:o.name,areas:oe(o.areas),selected:[]};r.push(s);var u=o.option,f=u.brushLink,c=[],v=[],h=[],d=!1;l||(n=u.throttleType,a=u.throttleDelay);var g=H(o.areas,function(b){var w=I0[b.brushType],D=He({boundingRect:w?w(b):void 0},b);return D.selectors=w0(D),D}),y=cn(o.option,ko,function(b){b.mappingMethod="fixed"});B(f)&&A(f,function(b){c[b]=1});function m(b){return f==="all"||!!c[b]}function x(b){return!!b.length}t.eachSeries(function(b,w){var D=h[w]=[];b.subType==="parallel"?S(b,w):_(b,w,D)});function S(b,w){var D=b.coordinateSystem;d=d||D.hasAxisBrushed(),m(w)&&D.eachActiveState(b.getData(),function(T,C){T==="active"&&(v[C]=1)})}function _(b,w,D){if(!(!b.brushSelector||C0(o,w))&&(A(g,function(C){o.brushTargetManager.controlSeries(C,b,t)&&D.push(C),d=d||x(D)}),m(w)&&x(D))){var T=b.getData();T.each(function(C){zo(b,D,T,C)&&(v[C]=1)})}}t.eachSeries(function(b,w){var D={seriesId:b.id,seriesIndex:w,seriesName:b.name,dataIndex:[]};s.selected.push(D);var T=h[w],C=b.getData(),I=m(w)?function(L){return v[L]?(D.dataIndex.push(C.getRawIndex(L)),"inBrush"):"outOfBrush"}:function(L){return zo(b,T,C,L)?(D.dataIndex.push(C.getRawIndex(L)),"inBrush"):"outOfBrush"};(m(w)?d:x(T))&&_0(ko,y,C,I)})}),T0(i,n,a,r,e)}function T0(t,i,e,r,n){if(n){var a=t.getZr();if(!a[vn]){a[Nr]||(a[Nr]=A0);var o=Bl(a,Nr,e,i);o(t,r)}}}function A0(t,i){if(!t.isDisposed()){var e=t.getZr();e[vn]=!0,t.dispatchAction({type:"brushSelect",batch:i}),e[vn]=!1}}function zo(t,i,e,r){for(var n=0,a=i.length;n<a;n++){var o=i[n];if(t.brushSelector(r,e,o.selectors,o))return!0}}function C0(t,i){var e=t.option.seriesIndex;return e!=null&&e!=="all"&&(B(e)?be(e,i)<0:i!==e)}var I0={rect:function(t){return Bo(t.range)},polygon:function(t){for(var i,e=t.range,r=0,n=e.length;r<n;r++){i=i||[[1/0,-1/0],[1/0,-1/0]];var a=e[r];a[0]<i[0][0]&&(i[0][0]=a[0]),a[0]>i[0][1]&&(i[0][1]=a[0]),a[1]<i[1][0]&&(i[1][0]=a[1]),a[1]>i[1][1]&&(i[1][1]=a[1])}return i&&Bo(i)}};function Bo(t){return new lt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var L0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e,r){this.ecModel=e,this.api=r,this.model,(this._brushController=new $l(r.getZr())).on("brush",F(this._onBrush,this)).mount()},i.prototype.render=function(e,r,n,a){this.model=e,this._updateController(e,r,n,a)},i.prototype.updateTransform=function(e,r,n,a){nu(r),this._updateController(e,r,n,a)},i.prototype.updateVisual=function(e,r,n,a){this.updateTransform(e,r,n,a)},i.prototype.updateView=function(e,r,n,a){this._updateController(e,r,n,a)},i.prototype._updateController=function(e,r,n,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},i.prototype.dispose=function(){this._brushController.dispose()},i.prototype._onBrush=function(e){var r=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:oe(n),$from:r}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:oe(n),$from:r})},i.type="brush",i}(Qe),P0="#ddd",M0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.areas=[],e.brushOption={},e}return i.prototype.optionUpdated=function(e,r){var n=this.option;!r&&ru(n,e,["inBrush","outOfBrush"]);var a=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:P0},a.hasOwnProperty("liftZ")||(a.liftZ=5)},i.prototype.setAreas=function(e){e&&(this.areas=H(e,function(r){return Oo(this.option,r)},this))},i.prototype.setBrushOption=function(e){this.brushOption=Oo(this.option,e),this.brushType=this.brushOption.brushType},i.type="brush",i.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],i.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},i}(Je);function Oo(t,i){return Pe({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new ot(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},i,!0)}var V0=["rect","polygon","lineX","lineY","keep","clear"],j0=function(t){N(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.prototype.render=function(e,r,n){var a,o,l;r.eachComponent({mainType:"brush"},function(s){a=s.brushType,o=s.brushOption.brushMode||"single",l=l||!!s.areas.length}),this._brushType=a,this._brushMode=o,A(e.get("type",!0),function(s){e.setIconStatus(s,(s==="keep"?o==="multiple":s==="clear"?l:s===a)?"emphasis":"normal")})},i.prototype.updateView=function(e,r,n){this.render(e,r,n)},i.prototype.getIcons=function(){var e=this.model,r=e.get("icon",!0),n={};return A(e.get("type",!0),function(a){r[a]&&(n[a]=r[a])}),n},i.prototype.onclick=function(e,r,n){var a=this._brushType,o=this._brushMode;n==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:n==="keep"?a:a===n?!1:n,brushMode:n==="keep"?o==="multiple"?"single":"multiple":o}})},i.getDefaultOption=function(e){var r={show:!0,type:V0.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return r},i}(Gf);function N0(t){t.registerComponentView(L0),t.registerComponentModel(M0),t.registerPreprocessor(S0),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,D0),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(i,e){e.eachComponent({mainType:"brush",query:i},function(r){r.setAreas(i.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},xt),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},xt),Hf("brush",j0)}var Go=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.layoutMode="box",e}return i.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n),this._initData()},i.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},i.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},i.prototype.getCurrentIndex=function(){return this.option.currentIndex},i.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},i.prototype.setPlayState=function(e){this.option.autoPlay=!!e},i.prototype.getPlayState=function(){return!!this.option.autoPlay},i.prototype._initData=function(){var e=this.option,r=e.data||[],n=e.axisType,a=this._names=[],o;n==="category"?(o=[],A(r,function(u,f){var c=$e(Wf(u),""),v;Ve(u)?(v=oe(u),v.value=f):v=f,o.push(v),a.push(c)})):o=r;var l={category:"ordinal",time:"time",value:"number"}[n]||"number",s=this._data=new Le([{name:"value",type:l}],this);s.initData(o,a)},i.prototype.getData=function(){return this._data},i.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},i.type="timeline",i.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},i}(Je),au=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.type="timeline.slider",i.defaultOption=Ui(Go.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),i}(Go);Mt(au,Rn.prototype);var E0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.type="timeline",i}(Qe),R0=function(t){N(i,t);function i(e,r,n,a){var o=t.call(this,e,r,n)||this;return o.type=a||"value",o}return i.prototype.getLabelModel=function(){return this.model.getModel("label")},i.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},i}(Ln),Er=Math.PI,Ho=je(),k0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(e,r){this.api=r},i.prototype.render=function(e,r,n){if(this.model=e,this.api=n,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,n),o=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),s=this._axis=this._createAxis(a,e);e.formatTooltip=function(u){var f=s.scale.getLabel({value:u});return Re("nameValue",{noName:!0,value:f})},A(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,s,e)},this),this._renderAxisLabel(a,l,s,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},i.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},i.prototype.dispose=function(){this._clearTimer()},i.prototype._layout=function(e,r){var n=e.get(["label","position"]),a=e.get("orient"),o=B0(e,r),l;n==null||n==="auto"?l=a==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":te(n)?l={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][n]:l=n;var s={horizontal:"center",vertical:l>=0||l==="+"?"left":"right"},u={horizontal:l>=0||l==="+"?"top":"bottom",vertical:"middle"},f={horizontal:0,vertical:Er/2},c=a==="vertical"?o.height:o.width,v=e.getModel("controlStyle"),h=v.get("show",!0),d=h?v.get("itemSize"):0,g=h?v.get("itemGap"):0,y=d+g,m=e.get(["label","rotate"])||0;m=m*Er/180;var x,S,_,b=v.get("position",!0),w=h&&v.get("showPlayBtn",!0),D=h&&v.get("showPrevBtn",!0),T=h&&v.get("showNextBtn",!0),C=0,I=c;b==="left"||b==="bottom"?(w&&(x=[0,0],C+=y),D&&(S=[C,0],C+=y),T&&(_=[I-d,0],I-=y)):(w&&(x=[I-d,0],I-=y),D&&(S=[0,0],C+=y),T&&(_=[I-d,0],I-=y));var L=[C,I];return e.get("inverse")&&L.reverse(),{viewRect:o,mainLength:c,orient:a,rotation:f[a],labelRotation:m,labelPosOpt:l,labelAlign:e.get(["label","align"])||s[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||u[a],playPosition:x,prevBtnPosition:S,nextBtnPosition:_,axisExtent:L,controlSize:d,controlGap:g}},i.prototype._position=function(e,r){var n=this._mainGroup,a=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var l=bn(),s=o.x,u=o.y+o.height;Zt(l,l,[-s,-u]),Hl(l,l,-Er/2),Zt(l,l,[s,u]),o=o.clone(),o.applyTransform(l)}var f=x(o),c=x(n.getBoundingRect()),v=x(a.getBoundingRect()),h=[n.x,n.y],d=[a.x,a.y];d[0]=h[0]=f[0][0];var g=e.labelPosOpt;if(g==null||te(g)){var y=g==="+"?0:1;S(h,c,f,1,y),S(d,v,f,1,1-y)}else{var y=g>=0?0:1;S(h,c,f,1,y),d[1]=h[1]+g}n.setPosition(h),a.setPosition(d),n.rotation=a.rotation=e.rotation,m(n),m(a);function m(_){_.originX=f[0][0]-_.x,_.originY=f[1][0]-_.y}function x(_){return[[_.x,_.x+_.width],[_.y,_.y+_.height]]}function S(_,b,w,D,T){_[D]+=w[D][T]-b[D][T]}},i.prototype._createAxis=function(e,r){var n=r.getData(),a=r.get("axisType"),o=z0(r,a);o.getTicks=function(){return n.mapArray(["value"],function(u){return{value:u}})};var l=n.getDataExtent("value");o.setExtent(l[0],l[1]),o.calcNiceTicks();var s=new R0("value",o,e.axisExtent,a);return s.model=r,s},i.prototype._createGroup=function(e){var r=this[e]=new ae;return this.group.add(r),r},i.prototype._renderAxisLine=function(e,r,n,a){var o=n.getExtent();if(a.get(["lineStyle","show"])){var l=new Zr({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:O({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(l);var s=this._progressLine=new Zr({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:He({lineCap:"round",lineWidth:l.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(s)}},i.prototype._renderAxisTick=function(e,r,n,a){var o=this,l=a.getData(),s=n.scale.getTicks();this._tickSymbols=[],A(s,function(u){var f=n.dataToCoord(u.value),c=l.getItemModel(u.value),v=c.getModel("itemStyle"),h=c.getModel(["emphasis","itemStyle"]),d=c.getModel(["progress","itemStyle"]),g={x:f,y:0,onclick:F(o._changeTimeline,o,u.value)},y=Wo(c,v,r,g);y.ensureState("emphasis").style=h.getItemStyle(),y.ensureState("progress").style=d.getItemStyle(),rr(y);var m=ce(y);c.get("tooltip")?(m.dataIndex=u.value,m.dataModel=a):m.dataIndex=m.dataModel=null,o._tickSymbols.push(y)})},i.prototype._renderAxisLabel=function(e,r,n,a){var o=this,l=n.getLabelModel();if(l.get("show")){var s=a.getData(),u=n.getViewLabels();this._tickLabels=[],A(u,function(f){var c=f.tickValue,v=s.getItemModel(c),h=v.getModel("label"),d=v.getModel(["emphasis","label"]),g=v.getModel(["progress","label"]),y=n.dataToCoord(f.tickValue),m=new pe({x:y,y:0,rotation:e.labelRotation-e.rotation,onclick:F(o._changeTimeline,o,c),silent:!1,style:me(h,{text:f.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});m.ensureState("emphasis").style=me(d),m.ensureState("progress").style=me(g),r.add(m),rr(m),Ho(m).dataIndex=c,o._tickLabels.push(m)})}},i.prototype._renderControl=function(e,r,n,a){var o=e.controlSize,l=e.rotation,s=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),f=a.getPlayState(),c=a.get("inverse",!0);v(e.nextBtnPosition,"next",F(this._changeTimeline,this,c?"-":"+")),v(e.prevBtnPosition,"prev",F(this._changeTimeline,this,c?"+":"-")),v(e.playPosition,f?"stop":"play",F(this._handlePlayClick,this,!f),!0);function v(h,d,g,y){if(h){var m=Kr(ye(a.get(["controlStyle",d+"BtnSize"]),o),o),x=[0,-m/2,m,m],S=O0(a,d+"Icon",x,{x:h[0],y:h[1],originX:o/2,originY:0,rotation:y?-l:0,rectHover:!0,style:s,onclick:g});S.ensureState("emphasis").style=u,r.add(S),rr(S)}}},i.prototype._renderCurrentPointer=function(e,r,n,a){var o=a.getData(),l=a.getCurrentIndex(),s=o.getItemModel(l).getModel("checkpointStyle"),u=this,f={onCreate:function(c){c.draggable=!0,c.drift=F(u._handlePointerDrag,u),c.ondragend=F(u._handlePointerDragend,u),Fo(c,u._progressLine,l,n,a,!0)},onUpdate:function(c){Fo(c,u._progressLine,l,n,a)}};this._currentPointer=Wo(s,s,this._mainGroup,{},this._currentPointer,f)},i.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},i.prototype._handlePointerDrag=function(e,r,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},i.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},i.prototype._pointerChangeTimeline=function(e,r){var n=this._toAxisCoord(e)[0],a=this._axis,o=_t(a.getExtent().slice());n>o[1]&&(n=o[1]),n<o[0]&&(n=o[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var l=this._progressLine;l&&(l.shape.x2=n,l.dirty());var s=this._findNearestTick(n),u=this.model;(r||s!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(s)},i.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},i.prototype._toAxisCoord=function(e){var r=this._mainGroup.getLocalTransform();return Ut(e,r,!0)},i.prototype._findNearestTick=function(e){var r=this.model.getData(),n=1/0,a,o=this._axis;return r.each(["value"],function(l,s){var u=o.dataToCoord(l),f=Math.abs(u-e);f<n&&(n=f,a=s)}),a},i.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},i.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();e==="+"?e=r+1:e==="-"&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},i.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,n=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<e);if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",Ho(n[a]).dataIndex<=e)},i.type="timeline.slider",i}(E0);function z0(t,i){if(i=i||t.get("type"),i)switch(i){case"category":return new Uf({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new $f({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Ff}}function B0(t,i){return Fe(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},t.get("padding"))}function O0(t,i,e,r){var n=r.style,a=Yf(t.get(["controlStyle",i]),r||{},new lt(e[0],e[1],e[2],e[3]));return n&&a.setStyle(n),a}function Wo(t,i,e,r,n,a){var o=i.get("color");if(n)n.setColor(o),e.add(n),a&&a.onUpdate(n);else{var l=t.get("symbol");n=St(l,-1,-1,2,2,o),n.setStyle("strokeNoScale",!0),e.add(n),a&&a.onCreate(n)}var s=i.getItemStyle(["color"]);n.setStyle(s),r=Pe({rectHover:!0,z2:100},r,!0);var u=Jl(t.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var f=En(t.get("symbolOffset"),u);f&&(r.x=(r.x||0)+f[0],r.y=(r.y||0)+f[1]);var c=t.get("symbolRotate");return r.rotation=(c||0)*Math.PI/180||0,n.attr(r),n.updateTransform(),n}function Fo(t,i,e,r,n,a){if(!t.dragging){var o=n.getModel("checkpointStyle"),l=r.dataToCoord(n.getData().get("value",e));if(a||!o.get("animation",!0))t.attr({x:l,y:0}),i&&i.attr({shape:{x2:l}});else{var s={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:l,y:0},s),i&&i.animateTo({shape:{x2:l}},s)}}}function G0(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(i,e,r){var n=e.getComponent("timeline");return n&&i.currentIndex!=null&&(n.setCurrentIndex(i.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.getPlayState()&&(n.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:i.from}))),e.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),He({currentIndex:n.option.currentIndex},i)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(i,e){var r=e.getComponent("timeline");r&&i.playState!=null&&r.setPlayState(i.playState)})}function H0(t){var i=t&&t.timeline;B(i)||(i=i?[i]:[]),A(i,function(e){e&&W0(e)})}function W0(t){var i=t.type,e={number:"value",time:"time"};if(e[i]&&(t.axisType=e[i],delete t.type),$o(t),gt(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});gt(r,"position")||(r.position=t.controlPosition),r.position==="none"&&!gt(r,"show")&&(r.show=!1,delete r.position),delete t.controlPosition}A(t.data||[],function(n){Ve(n)&&!B(n)&&(!gt(n,"value")&&gt(n,"name")&&(n.value=n.name),$o(n))})}function $o(t){var i=t.itemStyle||(t.itemStyle={}),e=i.emphasis||(i.emphasis={}),r=t.label||t.label||{},n=r.normal||(r.normal={}),a={normal:1,emphasis:1};A(r,function(o,l){!a[l]&&!gt(n,l)&&(n[l]=o)}),e.label&&!gt(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function gt(t,i){return t.hasOwnProperty(i)}function F0(t){t.registerComponentModel(au),t.registerComponentView(k0),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),G0(t),t.registerPreprocessor(H0)}function ea(t,i){if(!t)return!1;for(var e=B(t)?t:[t],r=0;r<e.length;r++)if(e[r]&&e[r][i])return!0;return!1}function mi(t){An(t,"label",["show"])}var Si=je(),qe=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.createdBySelf=!1,e}return i.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},i.prototype.isAnimationEnabled=function(){if(Xf.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},i.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},i.prototype._mergeOption=function(e,r,n,a){var o=this.mainType;n||r.eachSeries(function(l){var s=l.get(this.mainType,!0),u=Si(l)[o];if(!s||!s.data){Si(l)[o]=null;return}u?u._mergeOption(s,r,!0):(a&&mi(s),A(s.data,function(f){f instanceof Array?(mi(f[0]),mi(f[1])):mi(f)}),u=this.createMarkerModelFromSeries(s,this,r),O(u,{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),u.__hostSeries=l),Si(l)[o]=u},this)},i.prototype.formatTooltip=function(e,r,n){var a=this.getData(),o=this.getRawValue(e),l=a.getName(e);return Re("section",{header:this.name,blocks:[Re("nameValue",{name:l,value:o,noName:!l,noValue:o==null})]})},i.prototype.getData=function(){return this._data},i.prototype.setData=function(e){this._data=e},i.prototype.getDataParams=function(e,r){var n=Rn.prototype.getDataParams.call(this,e,r),a=this.__hostSeries;return a&&(n.seriesId=a.id,n.seriesName=a.name,n.seriesType=a.subType),n},i.getMarkerModelFromSeries=function(e,r){return Si(e)[r]},i.type="marker",i.dependencies=["series","grid","polar","geo"],i}(Je);Mt(qe,Rn.prototype);var $0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.createMarkerModelFromSeries=function(e,r,n){return new i(e,r,n)},i.type="markPoint",i.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},i}(qe);function hn(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function U0(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function xi(t,i,e,r,n,a){var o=[],l=Zf(i,r),s=l?i.getCalculationInfo("stackResultDimension"):r,u=ta(i,s,t),f=i.indicesOfNearest(s,u)[0];o[n]=i.get(e,f),o[a]=i.get(s,f);var c=i.get(r,f),v=Kf(i.get(r,f));return v=Math.min(v,20),v>=0&&(o[a]=+o[a].toFixed(v)),[o,c]}var Rr={min:se(xi,"min"),max:se(xi,"max"),average:se(xi,"average"),median:se(xi,"median")};function ii(t,i){if(i){var e=t.getData(),r=t.coordinateSystem,n=r&&r.dimensions;if(!U0(i)&&!B(i.coord)&&B(n)){var a=ou(i,e,r,t);if(i=oe(i),i.type&&Rr[i.type]&&a.baseAxis&&a.valueAxis){var o=be(n,a.baseAxis.dim),l=be(n,a.valueAxis.dim),s=Rr[i.type](e,a.baseDataDim,a.valueDataDim,o,l);i.coord=s[0],i.value=s[1]}else i.coord=[i.xAxis!=null?i.xAxis:i.radiusAxis,i.yAxis!=null?i.yAxis:i.angleAxis]}if(i.coord==null||!B(n))i.coord=[];else for(var u=i.coord,f=0;f<2;f++)Rr[u[f]]&&(u[f]=ta(e,e.mapDimension(n[f]),u[f]));return i}}function ou(t,i,e,r){var n={};return t.valueIndex!=null||t.valueDim!=null?(n.valueDataDim=t.valueIndex!=null?i.getDimension(t.valueIndex):t.valueDim,n.valueAxis=e.getAxis(Y0(r,n.valueDataDim)),n.baseAxis=e.getOtherAxis(n.valueAxis),n.baseDataDim=i.mapDimension(n.baseAxis.dim)):(n.baseAxis=r.getBaseAxis(),n.valueAxis=e.getOtherAxis(n.baseAxis),n.baseDataDim=i.mapDimension(n.baseAxis.dim),n.valueDataDim=i.mapDimension(n.valueAxis.dim)),n}function Y0(t,i){var e=t.getData().getDimensionInfo(i);return e&&e.coordDim}function ri(t,i){return t&&t.containData&&i.coord&&!hn(i)?t.containData(i.coord):!0}function X0(t,i,e){return t&&t.containZone&&i.coord&&e.coord&&!hn(i)&&!hn(e)?t.containZone(i.coord,e.coord):!0}function lu(t,i){return t?function(e,r,n,a){var o=a<2?e.coord&&e.coord[a]:e.value;return Pi(o,i[a])}:function(e,r,n,a){return Pi(e.value,i[a])}}function ta(t,i,e){if(e==="average"){var r=0,n=0;return t.each(i,function(a,o){isNaN(a)||(r+=a,n++)}),r/n}else return e==="median"?t.getMedian(i):t.getDataExtent(i)[e==="max"?1:0]}var kr=je(),ia=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.init=function(){this.markerGroupMap=at()},i.prototype.render=function(e,r,n){var a=this,o=this.markerGroupMap;o.each(function(l){kr(l).keep=!1}),r.eachSeries(function(l){var s=qe.getMarkerModelFromSeries(l,a.type);s&&a.renderSeries(l,s,r,n)}),o.each(function(l){!kr(l).keep&&a.group.remove(l.group)})},i.prototype.markKeep=function(e){kr(e).keep=!0},i.prototype.toggleBlurSeries=function(e,r){var n=this;A(e,function(a){var o=qe.getMarkerModelFromSeries(a,n.type);if(o){var l=o.getData();l.eachItemGraphicEl(function(s){s&&(r?qf(s):Qf(s))})}})},i.type="marker",i}(Qe);function Uo(t,i,e){var r=i.coordinateSystem;t.each(function(n){var a=t.getItemModel(n),o,l=$(a.get("x"),e.getWidth()),s=$(a.get("y"),e.getHeight());if(!isNaN(l)&&!isNaN(s))o=[l,s];else if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(t.dimensions,n));else if(r){var u=t.get(r.dimensions[0],n),f=t.get(r.dimensions[1],n);o=r.dataToPoint([u,f])}isNaN(l)||(o[0]=l),isNaN(s)||(o[1]=s),t.setItemLayout(n,o)})}var Z0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.updateTransform=function(e,r,n){r.eachSeries(function(a){var o=qe.getMarkerModelFromSeries(a,"markPoint");o&&(Uo(o.getData(),a,n),this.markerGroupMap.get(a.id).updateLayout())},this)},i.prototype.renderSeries=function(e,r,n,a){var o=e.coordinateSystem,l=e.id,s=e.getData(),u=this.markerGroupMap,f=u.get(l)||u.set(l,new Dn),c=K0(o,e,r);r.setData(c),Uo(r.getData(),e,a),c.each(function(v){var h=c.getItemModel(v),d=h.getShallow("symbol"),g=h.getShallow("symbolSize"),y=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),x=h.getShallow("symbolKeepAspect");if(le(d)||le(g)||le(y)||le(m)){var S=r.getRawValue(v),_=r.getDataParams(v);le(d)&&(d=d(S,_)),le(g)&&(g=g(S,_)),le(y)&&(y=y(S,_)),le(m)&&(m=m(S,_))}var b=h.getModel("itemStyle").getItemStyle(),w=Yi(s,"color");b.fill||(b.fill=w),c.setItemVisual(v,{symbol:d,symbolSize:g,symbolRotate:y,symbolOffset:m,symbolKeepAspect:x,style:b})}),f.updateData(c),this.group.add(f.group),c.eachItemGraphicEl(function(v){v.traverse(function(h){ce(h).dataModel=r})}),this.markKeep(f),f.group.silent=r.get("silent")||e.get("silent")},i.type="markPoint",i}(ia);function K0(t,i,e){var r;t?r=H(t&&t.dimensions,function(l){var s=i.getData().getDimensionInfo(i.getData().mapDimension(l))||{};return O(O({},s),{name:l,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var n=new Le(r,e),a=H(e.get("data"),se(ii,i));t&&(a=ze(a,se(ri,t)));var o=lu(!!t,r);return n.initData(a,null,o),n}function q0(t){t.registerComponentModel($0),t.registerComponentView(Z0),t.registerPreprocessor(function(i){ea(i.series,"markPoint")&&(i.markPoint=i.markPoint||{})})}var Q0=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.createMarkerModelFromSeries=function(e,r,n){return new i(e,r,n)},i.type="markLine",i.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},i}(qe),_i=je(),J0=function(t,i,e,r){var n=t.getData(),a;if(B(r))a=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var l=void 0,s=void 0;if(r.yAxis!=null||r.xAxis!=null)l=i.getAxis(r.yAxis!=null?"y":"x"),s=Ee(r.yAxis,r.xAxis);else{var u=ou(r,n,i,t);l=u.valueAxis;var f=Jf(n,u.valueDataDim);s=ta(n,f,o)}var c=l.dim==="x"?0:1,v=1-c,h=oe(r),d={coord:[]};h.type=null,h.coord=[],h.coord[v]=-1/0,d.coord[v]=1/0;var g=e.get("precision");g>=0&&li(s)&&(s=+s.toFixed(Math.min(g,20))),h.coord[c]=d.coord[c]=s,a=[h,d,{type:o,valueIndex:r.valueIndex,value:s}]}else a=[]}var y=[ii(t,a[0]),ii(t,a[1]),O({},a[2])];return y[2].type=y[2].type||null,Pe(y[2],y[0]),Pe(y[2],y[1]),y};function Bi(t){return!isNaN(t)&&!isFinite(t)}function Yo(t,i,e,r){var n=1-t,a=r.dimensions[t];return Bi(i[n])&&Bi(e[n])&&i[t]===e[t]&&r.getAxis(a).containData(i[t])}function ey(t,i){if(t.type==="cartesian2d"){var e=i[0].coord,r=i[1].coord;if(e&&r&&(Yo(1,e,r,t)||Yo(0,e,r,t)))return!0}return ri(t,i[0])&&ri(t,i[1])}function zr(t,i,e,r,n){var a=r.coordinateSystem,o=t.getItemModel(i),l,s=$(o.get("x"),n.getWidth()),u=$(o.get("y"),n.getHeight());if(!isNaN(s)&&!isNaN(u))l=[s,u];else{if(r.getMarkerPosition)l=r.getMarkerPosition(t.getValues(t.dimensions,i));else{var f=a.dimensions,c=t.get(f[0],i),v=t.get(f[1],i);l=a.dataToPoint([c,v])}if($i(a,"cartesian2d")){var h=a.getAxis("x"),d=a.getAxis("y"),f=a.dimensions;Bi(t.get(f[0],i))?l[0]=h.toGlobalCoord(h.getExtent()[e?0:1]):Bi(t.get(f[1],i))&&(l[1]=d.toGlobalCoord(d.getExtent()[e?0:1]))}isNaN(s)||(l[0]=s),isNaN(u)||(l[1]=u)}t.setItemLayout(i,l)}var ty=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.updateTransform=function(e,r,n){r.eachSeries(function(a){var o=qe.getMarkerModelFromSeries(a,"markLine");if(o){var l=o.getData(),s=_i(o).from,u=_i(o).to;s.each(function(f){zr(s,f,!0,a,n),zr(u,f,!1,a,n)}),l.each(function(f){l.setItemLayout(f,[s.getItemLayout(f),u.getItemLayout(f)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},i.prototype.renderSeries=function(e,r,n,a){var o=e.coordinateSystem,l=e.id,s=e.getData(),u=this.markerGroupMap,f=u.get(l)||u.set(l,new kl);this.group.add(f.group);var c=iy(o,e,r),v=c.from,h=c.to,d=c.line;_i(r).from=v,_i(r).to=h,r.setData(d);var g=r.get("symbol"),y=r.get("symbolSize"),m=r.get("symbolRotate"),x=r.get("symbolOffset");B(g)||(g=[g,g]),B(y)||(y=[y,y]),B(m)||(m=[m,m]),B(x)||(x=[x,x]),c.from.each(function(_){S(v,_,!0),S(h,_,!1)}),d.each(function(_){var b=d.getItemModel(_).getModel("lineStyle").getLineStyle();d.setItemLayout(_,[v.getItemLayout(_),h.getItemLayout(_)]),b.stroke==null&&(b.stroke=v.getItemVisual(_,"style").fill),d.setItemVisual(_,{fromSymbolKeepAspect:v.getItemVisual(_,"symbolKeepAspect"),fromSymbolOffset:v.getItemVisual(_,"symbolOffset"),fromSymbolRotate:v.getItemVisual(_,"symbolRotate"),fromSymbolSize:v.getItemVisual(_,"symbolSize"),fromSymbol:v.getItemVisual(_,"symbol"),toSymbolKeepAspect:h.getItemVisual(_,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(_,"symbolOffset"),toSymbolRotate:h.getItemVisual(_,"symbolRotate"),toSymbolSize:h.getItemVisual(_,"symbolSize"),toSymbol:h.getItemVisual(_,"symbol"),style:b})}),f.updateData(d),c.line.eachItemGraphicEl(function(_){ce(_).dataModel=r,_.traverse(function(b){ce(b).dataModel=r})});function S(_,b,w){var D=_.getItemModel(b);zr(_,b,w,e,a);var T=D.getModel("itemStyle").getItemStyle();T.fill==null&&(T.fill=Yi(s,"color")),_.setItemVisual(b,{symbolKeepAspect:D.get("symbolKeepAspect"),symbolOffset:ye(D.get("symbolOffset",!0),x[w?0:1]),symbolRotate:ye(D.get("symbolRotate",!0),m[w?0:1]),symbolSize:ye(D.get("symbolSize"),y[w?0:1]),symbol:ye(D.get("symbol",!0),g[w?0:1]),style:T})}this.markKeep(f),f.group.silent=r.get("silent")||e.get("silent")},i.type="markLine",i}(ia);function iy(t,i,e){var r;t?r=H(t&&t.dimensions,function(u){var f=i.getData().getDimensionInfo(i.getData().mapDimension(u))||{};return O(O({},f),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var n=new Le(r,e),a=new Le(r,e),o=new Le([],e),l=H(e.get("data"),se(J0,i,t,e));t&&(l=ze(l,se(ey,t)));var s=lu(!!t,r);return n.initData(H(l,function(u){return u[0]}),null,s),a.initData(H(l,function(u){return u[1]}),null,s),o.initData(H(l,function(u){return u[2]})),o.hasItemOption=!0,{from:n,to:a,line:o}}function ry(t){t.registerComponentModel(Q0),t.registerComponentView(ty),t.registerPreprocessor(function(i){ea(i.series,"markLine")&&(i.markLine=i.markLine||{})})}var ny=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.createMarkerModelFromSeries=function(e,r,n){return new i(e,r,n)},i.type="markArea",i.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},i}(qe),bi=je(),ay=function(t,i,e,r){var n=r[0],a=r[1];if(!(!n||!a)){var o=ii(t,n),l=ii(t,a),s=o.coord,u=l.coord;s[0]=Ee(s[0],-1/0),s[1]=Ee(s[1],-1/0),u[0]=Ee(u[0],1/0),u[1]=Ee(u[1],1/0);var f=ec([{},o,l]);return f.coord=[o.coord,l.coord],f.x0=o.x,f.y0=o.y,f.x1=l.x,f.y1=l.y,f}};function Oi(t){return!isNaN(t)&&!isFinite(t)}function Xo(t,i,e,r){var n=1-t;return Oi(i[n])&&Oi(e[n])}function oy(t,i){var e=i.coord[0],r=i.coord[1],n={coord:e,x:i.x0,y:i.y0},a={coord:r,x:i.x1,y:i.y1};return $i(t,"cartesian2d")?e&&r&&(Xo(1,e,r)||Xo(0,e,r))?!0:X0(t,n,a):ri(t,n)||ri(t,a)}function Zo(t,i,e,r,n){var a=r.coordinateSystem,o=t.getItemModel(i),l,s=$(o.get(e[0]),n.getWidth()),u=$(o.get(e[1]),n.getHeight());if(!isNaN(s)&&!isNaN(u))l=[s,u];else{if(r.getMarkerPosition){var f=t.getValues(["x0","y0"],i),c=t.getValues(["x1","y1"],i),v=a.clampData(f),h=a.clampData(c),d=[];e[0]==="x0"?d[0]=v[0]>h[0]?c[0]:f[0]:d[0]=v[0]>h[0]?f[0]:c[0],e[1]==="y0"?d[1]=v[1]>h[1]?c[1]:f[1]:d[1]=v[1]>h[1]?f[1]:c[1],l=r.getMarkerPosition(d,e,!0)}else{var g=t.get(e[0],i),y=t.get(e[1],i),m=[g,y];a.clampData&&a.clampData(m,m),l=a.dataToPoint(m,!0)}if($i(a,"cartesian2d")){var x=a.getAxis("x"),S=a.getAxis("y"),g=t.get(e[0],i),y=t.get(e[1],i);Oi(g)?l[0]=x.toGlobalCoord(x.getExtent()[e[0]==="x0"?0:1]):Oi(y)&&(l[1]=S.toGlobalCoord(S.getExtent()[e[1]==="y0"?0:1]))}isNaN(s)||(l[0]=s),isNaN(u)||(l[1]=u)}return l}var Ko=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],ly=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.updateTransform=function(e,r,n){r.eachSeries(function(a){var o=qe.getMarkerModelFromSeries(a,"markArea");if(o){var l=o.getData();l.each(function(s){var u=H(Ko,function(c){return Zo(l,s,c,a,n)});l.setItemLayout(s,u);var f=l.getItemGraphicEl(s);f.setShape("points",u)})}},this)},i.prototype.renderSeries=function(e,r,n,a){var o=e.coordinateSystem,l=e.id,s=e.getData(),u=this.markerGroupMap,f=u.get(l)||u.set(l,{group:new ae});this.group.add(f.group),this.markKeep(f);var c=sy(o,e,r);r.setData(c),c.each(function(v){var h=H(Ko,function(T){return Zo(c,v,T,e,a)}),d=o.getAxis("x").scale,g=o.getAxis("y").scale,y=d.getExtent(),m=g.getExtent(),x=[d.parse(c.get("x0",v)),d.parse(c.get("x1",v))],S=[g.parse(c.get("y0",v)),g.parse(c.get("y1",v))];_t(x),_t(S);var _=!(y[0]>x[1]||y[1]<x[0]||m[0]>S[1]||m[1]<S[0]),b=!_;c.setItemLayout(v,{points:h,allClipped:b});var w=c.getItemModel(v).getModel("itemStyle").getItemStyle(),D=Yi(s,"color");w.fill||(w.fill=D,te(w.fill)&&(w.fill=Li(w.fill,.4))),w.stroke||(w.stroke=D),c.setItemVisual(v,"style",w)}),c.diff(bi(f).data).add(function(v){var h=c.getItemLayout(v);if(!h.allClipped){var d=new Xt({shape:{points:h.points}});c.setItemGraphicEl(v,d),f.group.add(d)}}).update(function(v,h){var d=bi(f).data.getItemGraphicEl(h),g=c.getItemLayout(v);g.allClipped?d&&f.group.remove(d):(d?_e(d,{shape:{points:g.points}},r,v):d=new Xt({shape:{points:g.points}}),c.setItemGraphicEl(v,d),f.group.add(d))}).remove(function(v){var h=bi(f).data.getItemGraphicEl(v);f.group.remove(h)}).execute(),c.eachItemGraphicEl(function(v,h){var d=c.getItemModel(h),g=c.getItemVisual(h,"style");v.useStyle(c.getItemVisual(h,"style")),Xe(v,We(d),{labelFetcher:r,labelDataIndex:h,defaultText:c.getName(h)||"",inheritColor:te(g.fill)?Li(g.fill,1):"#000"}),Ze(v,d),we(v,null,null,d.get(["emphasis","disabled"])),ce(v).dataModel=r}),bi(f).data=c,f.group.silent=r.get("silent")||e.get("silent")},i.type="markArea",i}(ia);function sy(t,i,e){var r,n,a=["x0","y0","x1","y1"];if(t){var o=H(t&&t.dimensions,function(u){var f=i.getData(),c=f.getDimensionInfo(f.mapDimension(u))||{};return O(O({},c),{name:u,ordinalMeta:null})});n=H(a,function(u,f){return{name:u,type:o[f%2].type}}),r=new Le(n,e)}else n=[{name:"value",type:"float"}],r=new Le(n,e);var l=H(e.get("data"),se(ay,i,t,e));t&&(l=ze(l,se(oy,t)));var s=t?function(u,f,c,v){var h=u.coord[Math.floor(v/2)][v%2];return Pi(h,n[v])}:function(u,f,c,v){return Pi(u.value,n[v])};return r.initData(l,null,s),r.hasItemOption=!0,r}function uy(t){t.registerComponentModel(ny),t.registerComponentView(ly),t.registerPreprocessor(function(i){ea(i.series,"markArea")&&(i.markArea=i.markArea||{})})}var su={get:function(t,i,e){var r=oe((fy[t]||{})[i]);return e&&B(r)?r[r.length-1]:r}},fy={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},qo=fe.mapVisual,cy=fe.eachVisual,vy=B,Qo=A,hy=_t,dy=ke,Gi=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return i.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n)},i.prototype.optionUpdated=function(e,r){var n=this.option;!r&&ru(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},i.prototype.resetVisual=function(e){var r=this.stateList;e=F(e,this),this.controllerVisuals=cn(this.option.controller,r,e),this.targetVisuals=cn(this.option.target,r,e)},i.prototype.getItemSymbol=function(){return null},i.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return e==null||e==="all"?this.ecModel.eachSeries(function(n,a){r.push(a)}):r=Ke(e),r},i.prototype.eachTargetSeries=function(e,r){A(this.getTargetSeriesIndices(),function(n){var a=this.ecModel.getSeriesByIndex(n);a&&e.call(r,a)},this)},i.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(n){n===e&&(r=!0)}),r},i.prototype.formatValueText=function(e,r,n){var a=this.option,o=a.precision,l=this.dataBound,s=a.formatter,u;n=n||["<",">"],B(e)&&(e=e.slice(),u=!0);var f=r?e:u?[c(e[0]),c(e[1])]:c(e);if(te(s))return s.replace("{value}",u?f[0]:f).replace("{value2}",u?f[1]:f);if(le(s))return u?s(e[0],e[1]):s(e);if(u)return e[0]===l[0]?n[0]+" "+f[1]:e[1]===l[1]?n[1]+" "+f[0]:f[0]+" - "+f[1];return f;function c(v){return v===l[0]?"min":v===l[1]?"max":(+v).toFixed(Math.min(o,20))}},i.prototype.resetExtent=function(){var e=this.option,r=hy([e.min,e.max]);this._dataExtent=r},i.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(r!=null)return e.getDimensionIndex(r);for(var n=e.dimensions,a=n.length-1;a>=0;a--){var o=n[a],l=e.getDimensionInfo(o);if(!l.isCalculationCoord)return l.storeDimIndex}},i.prototype.getExtent=function(){return this._dataExtent.slice()},i.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,n={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),o=r.controller||(r.controller={});Pe(a,n),Pe(o,n);var l=this.isCategory();s.call(this,a),s.call(this,o),u.call(this,a,"inRange","outOfRange"),f.call(this,o);function s(c){vy(r.color)&&!c.inRange&&(c.inRange={color:r.color.slice().reverse()}),c.inRange=c.inRange||{color:e.get("gradientColor")}}function u(c,v,h){var d=c[v],g=c[h];d&&!g&&(g=c[h]={},Qo(d,function(y,m){if(fe.isValidType(m)){var x=su.get(m,"inactive",l);x!=null&&(g[m]=x,m==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function f(c){var v=(c.inRange||{}).symbol||(c.outOfRange||{}).symbol,h=(c.inRange||{}).symbolSize||(c.outOfRange||{}).symbolSize,d=this.get("inactiveColor"),g=this.getItemSymbol(),y=g||"roundRect";Qo(this.stateList,function(m){var x=this.itemSize,S=c[m];S||(S=c[m]={color:l?d:[d]}),S.symbol==null&&(S.symbol=v&&oe(v)||(l?y:[y])),S.symbolSize==null&&(S.symbolSize=h&&oe(h)||(l?x[0]:[x[0],x[0]])),S.symbol=qo(S.symbol,function(w){return w==="none"?y:w});var _=S.symbolSize;if(_!=null){var b=-1/0;cy(_,function(w){w>b&&(b=w)}),S.symbolSize=qo(_,function(w){return dy(w,[0,b],[0,x[0]],!0)})}},this)}},i.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},i.prototype.isCategory=function(){return!!this.option.categories},i.prototype.setSelected=function(e){},i.prototype.getSelected=function(){return null},i.prototype.getValueState=function(e){return null},i.prototype.getVisualMeta=function(e){return null},i.type="visualMap",i.dependencies=["series"],i.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},i}(Je),Jo=[20,140],py=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},i.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Jo[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=Jo[1])},i.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):B(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},i.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),A(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},i.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},i.prototype.getSelected=function(){var e=this.getExtent(),r=_t((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},i.prototype.getValueState=function(e){var r=this.option.range,n=this.getExtent();return(r[0]<=n[0]||r[0]<=e)&&(r[1]>=n[1]||e<=r[1])?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(n){var a=[],o=n.getData();o.each(this.getDataDimensionIndex(o),function(l,s){e[0]<=l&&l<=e[1]&&a.push(s)},this),r.push({seriesId:n.id,dataIndex:a})},this),r},i.prototype.getVisualMeta=function(e){var r=el(this,"outOfRange",this.getExtent()),n=el(this,"inRange",this.option.range.slice()),a=[];function o(h,d){a.push({value:h,color:e(h,d)})}for(var l=0,s=0,u=n.length,f=r.length;s<f&&(!n.length||r[s]<=n[0]);s++)r[s]<n[l]&&o(r[s],"outOfRange");for(var c=1;l<u;l++,c=0)c&&a.length&&o(n[l],"outOfRange"),o(n[l],"inRange");for(var c=1;s<f;s++)(!n.length||n[n.length-1]<r[s])&&(c&&(a.length&&o(a[a.length-1].value,"outOfRange"),c=0),o(r[s],"outOfRange"));var v=a.length;return{stops:a,outerColors:[v?a[0].color:"transparent",v?a[v-1].color:"transparent"]}},i.type="visualMap.continuous",i.defaultOption=Ui(Gi.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),i}(Gi);function el(t,i,e){if(e[0]===e[1])return e.slice();for(var r=200,n=(e[1]-e[0])/r,a=e[0],o=[],l=0;l<=r&&a<e[1];l++)o.push(a),a+=n;return o.push(e[1]),o}var uu=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return i.prototype.init=function(e,r){this.ecModel=e,this.api=r},i.prototype.render=function(e,r,n,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,r,n,a)},i.prototype.renderBackground=function(e){var r=this.visualMapModel,n=tc(r.get("padding")||0),a=e.getBoundingRect();e.add(new Me({z2:-1,silent:!0,shape:{x:a.x-n[3],y:a.y-n[0],width:a.width+n[3]+n[1],height:a.height+n[0]+n[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},i.prototype.getControllerVisual=function(e,r,n){n=n||{};var a=n.forceState,o=this.visualMapModel,l={};if(r==="color"){var s=o.get("contentColor");l.color=s}function u(h){return l[h]}function f(h,d){l[h]=d}var c=o.controllerVisuals[a||o.getValueState(e)],v=fe.prepareVisualTypes(c);return A(v,function(h){var d=c[h];n.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",d=c.__alphaForOpacity),fe.dependsOn(h,r)&&d&&d.applyVisual(e,u,f)}),l[r]},i.prototype.positionGroup=function(e){var r=this.visualMapModel,n=this.api;_n(e,r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},i.prototype.doRender=function(e,r,n,a){},i.type="visualMap",i}(Qe),tl=[["left","right","width"],["top","bottom","height"]];function fu(t,i,e){var r=t.option,n=r.align;if(n!=null&&n!=="auto")return n;for(var a={width:i.getWidth(),height:i.getHeight()},o=r.orient==="horizontal"?1:0,l=tl[o],s=[0,null,10],u={},f=0;f<3;f++)u[tl[1-o][f]]=s[f],u[l[f]]=f===2?e[0]:r[l[f]];var c=[["x","width",3],["y","height",0]][o],v=Fe(u,a,r.padding);return l[(v.margin[c[2]]||0)+v[c[0]]+v[c[1]]*.5<a[c[1]]*.5?0:1]}function Ai(t,i){return A(t||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(i?i.componentIndex:"")}),t}var Oe=ke,gy=A,il=Math.min,Br=Math.max,yy=12,my=6,Sy=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return i.prototype.init=function(e,r){t.prototype.init.call(this,e,r),this._hoverLinkFromSeriesMouseOver=F(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=F(this._hideIndicator,this)},i.prototype.doRender=function(e,r,n,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},i.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var n=e.get("text");this._renderEndsText(r,n,0),this._renderEndsText(r,n,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},i.prototype._renderEndsText=function(e,r,n){if(r){var a=r[1-n];a=a!=null?a+"":"";var o=this.visualMapModel,l=o.get("textGap"),s=o.itemSize,u=this._shapes.mainGroup,f=this._applyTransform([s[0]/2,n===0?-l:s[1]+l],u),c=this._applyTransform(n===0?"bottom":"top",u),v=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new pe({style:me(h,{x:f[0],y:f[1],verticalAlign:v==="horizontal"?"middle":c,align:v==="horizontal"?c:"center",text:a})}))}},i.prototype._renderBar=function(e){var r=this.visualMapModel,n=this._shapes,a=r.itemSize,o=this._orient,l=this._useHandle,s=fu(r,this.api,a),u=n.mainGroup=this._createBarGroup(s),f=new ae;u.add(f),f.add(n.outOfRange=rl()),f.add(n.inRange=rl(null,l?al(this._orient):null,F(this._dragHandle,this,"all",!1),F(this._dragHandle,this,"all",!0))),f.setClipPath(new Me({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var c=r.textStyleModel.getTextRect("国"),v=Br(c.width,c.height);l&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(r,u,0,a,v,o),this._createHandle(r,u,1,a,v,o)),this._createIndicator(r,u,a,v,o),e.add(u)},i.prototype._createHandle=function(e,r,n,a,o,l){var s=F(this._dragHandle,this,n,!1),u=F(this._dragHandle,this,n,!0),f=Kr(e.get("handleSize"),a[0]),c=St(e.get("handleIcon"),-f/2,-f/2,f,f,null,!0),v=al(this._orient);c.attr({cursor:v,draggable:!0,drift:s,ondragend:u,onmousemove:function(m){qr(m.event)}}),c.x=a[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),zt(c,!0),r.add(c);var h=this.visualMapModel.textStyleModel,d=new pe({cursor:v,draggable:!0,drift:s,onmousemove:function(m){qr(m.event)},ondragend:u,style:me(h,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var g=[f,0],y=this._shapes;y.handleThumbs[n]=c,y.handleLabelPoints[n]=g,y.handleLabels[n]=d},i.prototype._createIndicator=function(e,r,n,a,o){var l=Kr(e.get("indicatorSize"),n[0]),s=St(e.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(s instanceof bt){var f=s.style;s.useStyle(O({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},u))}else s.useStyle(u);r.add(s);var c=this.visualMapModel.textStyleModel,v=new pe({silent:!0,invisible:!0,style:me(c,{x:0,y:0,text:""})});this.group.add(v);var h=[(o==="horizontal"?a/2:my)+n[0]/2,0],d=this._shapes;d.indicator=s,d.indicatorLabel=v,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},i.prototype._dragHandle=function(e,r,n,a){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([n,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():nl(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},i.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),n=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[Oe(r[0],n,a,!0),Oe(r[1],n,a,!0)]},i.prototype._updateInterval=function(e,r){r=r||0;var n=this.visualMapModel,a=this._handleEnds,o=[0,n.itemSize[1]];Wl(r,a,o,e,0);var l=n.getExtent();this._dataInterval=[Oe(a[0],o,l,!0),Oe(a[1],o,l,!0)]},i.prototype._updateView=function(e){var r=this.visualMapModel,n=r.getExtent(),a=this._shapes,o=[0,r.itemSize[1]],l=e?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,n,l,"inRange"),u=this._createBarVisual(n,n,o,"outOfRange");a.inRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(l,s)},i.prototype._createBarVisual=function(e,r,n,a){var o={forceState:a,convertOpacityToAlpha:!0},l=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(n,s);return{barColor:new Mn(0,0,0,1,l),barPoints:u,handlesColor:[l[0].color,l[l.length-1].color]}},i.prototype._makeColorGradient=function(e,r){var n=100,a=[],o=(e[1]-e[0])/n;a.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var l=1;l<n;l++){var s=e[0]+o*l;if(s>e[1])break;a.push({color:this.getControllerVisual(s,"color",r),offset:l/n})}return a.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),a},i.prototype._createBarPoints=function(e,r){var n=this.visualMapModel.itemSize;return[[n[0]-r[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-r[1],e[1]]]},i.prototype._createBarGroup=function(e){var r=this._orient,n=this.visualMapModel.get("inverse");return new ae(r==="horizontal"&&!n?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&n?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!n?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},i.prototype._updateHandle=function(e,r){if(this._useHandle){var n=this._shapes,a=this.visualMapModel,o=n.handleThumbs,l=n.handleLabels,s=a.itemSize,u=a.getExtent(),f=this._applyTransform("left",n.mainGroup);gy([0,1],function(c){var v=o[c];v.setStyle("fill",r.handlesColor[c]),v.y=e[c];var h=Oe(e[c],[0,s[1]],u,!0),d=this.getControllerVisual(h,"symbolSize");v.scaleX=v.scaleY=d/s[0],v.x=s[0]-d/2;var g=Ut(n.handleLabelPoints[c],nr(v,this.group));if(this._orient==="horizontal"){var y=f==="left"||f==="top"?(s[0]-d)/2:(s[0]-d)/-2;g[1]+=y}l[c].setStyle({x:g[0],y:g[1],text:a.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",n.mainGroup):"center"})},this)}},i.prototype._showIndicator=function(e,r,n,a){var o=this.visualMapModel,l=o.getExtent(),s=o.itemSize,u=[0,s[1]],f=this._shapes,c=f.indicator;if(c){c.attr("invisible",!1);var v={convertOpacityToAlpha:!0},h=this.getControllerVisual(e,"color",v),d=this.getControllerVisual(e,"symbolSize"),g=Oe(e,l,u,!0),y=s[0]-d/2,m={x:c.x,y:c.y};c.y=g,c.x=y;var x=Ut(f.indicatorLabelPoint,nr(c,this.group)),S=f.indicatorLabel;S.attr("invisible",!1);var _=this._applyTransform("left",f.mainGroup),b=this._orient,w=b==="horizontal";S.setStyle({text:(n||"")+o.formatValueText(r),verticalAlign:w?_:"middle",align:w?"center":_});var D={x:y,y:g,style:{fill:h}},T={style:{x:x[0],y:x[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};c.x=m.x,c.y=m.y,c.animateTo(D,C),S.animateTo(T,C)}else c.attr(D),S.attr(T);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var L=0;L<I.length;L++)this.api.enterBlur(I[L])}},i.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,a=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);a[1]=il(Br(0,a[1]),n[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},i.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},i.prototype._doHoverLinkToSeries=function(e,r){var n=this.visualMapModel,a=n.itemSize;if(n.option.hoverLink){var o=[0,a[1]],l=n.getExtent();e=il(Br(o[0],e),o[1]);var s=xy(n,l,o),u=[e-s,e+s],f=Oe(e,o,l,!0),c=[Oe(u[0],o,l,!0),Oe(u[1],o,l,!0)];u[0]<o[0]&&(c[0]=-1/0),u[1]>o[1]&&(c[1]=1/0),r&&(c[0]===-1/0?this._showIndicator(f,c[1],"< ",s):c[1]===1/0?this._showIndicator(f,c[0],"> ",s):this._showIndicator(f,f,"≈ ",s));var v=this._hoverLinkDataIndices,h=[];(r||nl(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var d=ic(v,h);this._dispatchHighDown("downplay",Ai(d[0],n)),this._dispatchHighDown("highlight",Ai(d[1],n))}},i.prototype._hoverLinkFromSeriesMouseOver=function(e){var r;if(rc(e.target,function(s){var u=ce(s);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var n=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(n)){var o=n.getData(r.dataType),l=o.getStore().get(a.getDataDimensionIndex(o),r.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},i.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var n=0;n<r.length;n++)this.api.leaveBlur(r[n])},i.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ai(e,this.visualMapModel)),e.length=0},i.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},i.prototype._applyTransform=function(e,r,n,a){var o=nr(r,a?null:this.group);return B(e)?Ut(e,o,n):nc(e,o,n)},i.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},i.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},i.type="visualMap.continuous",i}(uu);function rl(t,i,e,r){return new Xt({shape:{points:t},draggable:!!e,cursor:i,drift:e,onmousemove:function(n){qr(n.event)},ondragend:r})}function xy(t,i,e){var r=yy/2,n=t.get("hoverLinkDataSize");return n&&(r=Oe(n,i,e,!0)/2),r}function nl(t){var i=t.get("hoverLinkOnHandle");return!!(i??t.get("realtime"))}function al(t){return t==="vertical"?"ns-resize":"ew-resize"}var _y={type:"selectDataRange",event:"dataRangeSelected",update:"update"},by=function(t,i){i.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})},wy=[{createOnAllSeries:!0,reset:function(t,i){var e=[];return i.eachComponent("visualMap",function(r){var n=t.pipelineContext;!r.isTargetSeries(t)||n&&n.large||e.push(b0(r.stateList,r.targetVisuals,F(r.getValueState,r),r.getDataDimensionIndex(t.getData())))}),e}},{createOnAllSeries:!0,reset:function(t,i){var e=t.getData(),r=[];i.eachComponent("visualMap",function(n){if(n.isTargetSeries(t)){var a=n.getVisualMeta(F(Dy,null,t,n))||{stops:[],outerColors:[]},o=n.getDataDimensionIndex(e);o>=0&&(a.dimension=o,r.push(a))}}),t.getData().setVisual("visualMeta",r)}}];function Dy(t,i,e,r){for(var n=i.targetVisuals[r],a=fe.prepareVisualTypes(n),o={color:Yi(t.getData(),"color")},l=0,s=a.length;l<s;l++){var u=a[l],f=n[u==="opacity"?"__alphaForOpacity":u];f&&f.applyVisual(e,c,v)}return o.color;function c(h){return o[h]}function v(h,d){o[h]=d}}var ol=A;function Ty(t){var i=t&&t.visualMap;B(i)||(i=i?[i]:[]),ol(i,function(e){if(e){Tt(e,"splitList")&&!Tt(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&B(r)&&ol(r,function(n){Ve(n)&&(Tt(n,"start")&&!Tt(n,"min")&&(n.min=n.start),Tt(n,"end")&&!Tt(n,"max")&&(n.max=n.end))})}})}function Tt(t,i){return t&&t.hasOwnProperty&&t.hasOwnProperty(i)}var ll=!1;function cu(t){ll||(ll=!0,t.registerSubTypeDefaulter("visualMap",function(i){return!i.categories&&(!(i.pieces?i.pieces.length>0:i.splitNumber>0)||i.calculable)?"continuous":"piecewise"}),t.registerAction(_y,by),A(wy,function(i){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,i)}),t.registerPreprocessor(Ty))}function vu(t){t.registerComponentModel(py),t.registerComponentView(Sy),cu(t)}var Ay=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e._pieceList=[],e}return i.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],Cy[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var a=this.option.categories;this.resetVisual(function(o,l){n==="categories"?(o.mappingMethod="category",o.categories=oe(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=H(this._pieceList,function(s){return s=oe(s),l!=="inRange"&&(s.visual=null),s}))})},i.prototype.completeVisualOption=function(){var e=this.option,r={},n=fe.listVisualTypes(),a=this.isCategory();A(e.pieces,function(l){A(n,function(s){l.hasOwnProperty(s)&&(r[s]=1)})}),A(r,function(l,s){var u=!1;A(this.stateList,function(f){u=u||o(e,f,s)||o(e.target,f,s)},this),!u&&A(this.stateList,function(f){(e[f]||(e[f]={}))[s]=su.get(s,f==="inRange"?"active":"inactive",a)})},this);function o(l,s,u){return l&&l[s]&&l[s].hasOwnProperty(u)}t.prototype.completeVisualOption.apply(this,arguments)},i.prototype._resetSelected=function(e,r){var n=this.option,a=this._pieceList,o=(r?n:e).selected||{};if(n.selected=o,A(a,function(s,u){var f=this.getSelectedMapKey(s);o.hasOwnProperty(f)||(o[f]=!0)},this),n.selectedMode==="single"){var l=!1;A(a,function(s,u){var f=this.getSelectedMapKey(s);o[f]&&(l?o[f]=!1:l=!0)},this)}},i.prototype.getItemSymbol=function(){return this.get("itemSymbol")},i.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},i.prototype.getPieceList=function(){return this._pieceList},i.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},i.prototype.setSelected=function(e){this.option.selected=oe(e)},i.prototype.getValueState=function(e){var r=fe.findPieceIndex(e,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(e){var r=[],n=this._pieceList;return this.eachTargetSeries(function(a){var o=[],l=a.getData();l.each(this.getDataDimensionIndex(l),function(s,u){var f=fe.findPieceIndex(s,n);f===e&&o.push(u)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},i.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(e.value!=null)r=e.value;else{var n=e.interval||[];r=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return r},i.prototype.getVisualMeta=function(e){if(this.isCategory())return;var r=[],n=["",""],a=this;function o(f,c){var v=a.getRepresentValue({interval:f});c||(c=a.getValueState(v));var h=e(v,c);f[0]===-1/0?n[0]=h:f[1]===1/0?n[1]=h:r.push({value:f[0],color:h},{value:f[1],color:h})}var l=this._pieceList.slice();if(!l.length)l.push({interval:[-1/0,1/0]});else{var s=l[0].interval[0];s!==-1/0&&l.unshift({interval:[-1/0,s]}),s=l[l.length-1].interval[1],s!==1/0&&l.push({interval:[s,1/0]})}var u=-1/0;return A(l,function(f){var c=f.interval;c&&(c[0]>u&&o([u,c[0]],"outOfRange"),o(c.slice()),u=c[1])},this),{stops:r,outerColors:n}},i.type="visualMap.piecewise",i.defaultOption=Ui(Gi.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),i}(Gi),Cy={splitNumber:function(t){var i=this.option,e=Math.min(i.precision,20),r=this.getExtent(),n=i.splitNumber;n=Math.max(parseInt(n,10),1),i.splitNumber=n;for(var a=(r[1]-r[0])/n;+a.toFixed(e)!==a&&e<5;)e++;i.precision=e,a=+a.toFixed(e),i.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,l=r[0];o<n;l+=a,o++){var s=o===n-1?r[1]:l+a;t.push({interval:[l,s],close:[1,1]})}i.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),Sa(t),A(t,function(u,f){u.index=f,u.text=this.formatValueText(u.interval)},this)},categories:function(t){var i=this.option;A(i.categories,function(e){t.push({text:this.formatValueText(e,!0),value:e})},this),sl(i,t)},pieces:function(t){var i=this.option;A(i.pieces,function(e,r){Ve(e)||(e={value:e});var n={text:"",index:r};if(e.label!=null&&(n.text=e.label),e.hasOwnProperty("value")){var a=n.value=e.value;n.interval=[a,a],n.close=[1,1]}else{for(var o=n.interval=[],l=n.close=[0,0],s=[1,0,1],u=[-1/0,1/0],f=[],c=0;c<2;c++){for(var v=[["gte","gt","min"],["lte","lt","max"]][c],h=0;h<3&&o[c]==null;h++)o[c]=e[v[h]],l[c]=s[h],f[c]=h===2;o[c]==null&&(o[c]=u[c])}f[0]&&o[1]===1/0&&(l[0]=0),f[1]&&o[0]===-1/0&&(l[1]=0),o[0]===o[1]&&l[0]&&l[1]&&(n.value=o[0])}n.visual=fe.retrieveVisuals(e),t.push(n)},this),sl(i,t),Sa(t),A(t,function(e){var r=e.close,n=[["<","≤"][r[1]],[">","≥"][r[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,n)},this)}};function sl(t,i){var e=t.inverse;(t.orient==="vertical"?!e:e)&&i.reverse()}var Iy=function(t){N(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,n=r.get("textGap"),a=r.textStyleModel,o=a.getFont(),l=a.getTextColor(),s=this._getItemAlign(),u=r.itemSize,f=this._getViewData(),c=f.endsText,v=Ee(r.get("showLabel",!0),!c),h=!r.get("selectedMode");c&&this._renderEndsText(e,c[0],u,v,s),A(f.viewPieceList,function(d){var g=d.piece,y=new ae;y.onclick=F(this._onItemClick,this,g),this._enableHoverLink(y,d.indexInModelPieceList);var m=r.getRepresentValue(g);if(this._createItemSymbol(y,m,[0,0,u[0],u[1]],h),v){var x=this.visualMapModel.getValueState(m);y.add(new pe({style:{x:s==="right"?-n:u[0]+n,y:u[1]/2,text:g.text,verticalAlign:"middle",align:s,font:o,fill:l,opacity:x==="outOfRange"?.5:1},silent:h}))}e.add(y)},this),c&&this._renderEndsText(e,c[1],u,v,s),ac(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},i.prototype._enableHoverLink=function(e,r){var n=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var l=n.visualMapModel;l.option.hoverLink&&n.api.dispatchAction({type:o,batch:Ai(l.findTargetDataIndices(r),l)})}},i.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if(r.orient==="vertical")return fu(e,this.api,e.itemSize);var n=r.align;return(!n||n==="auto")&&(n="left"),n},i.prototype._renderEndsText=function(e,r,n,a,o){if(r){var l=new ae,s=this.visualMapModel.textStyleModel;l.add(new pe({style:me(s,{x:a?o==="right"?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:a?o:"center",text:r})})),e.add(l)}},i.prototype._getViewData=function(){var e=this.visualMapModel,r=H(e.getPieceList(),function(l,s){return{piece:l,indexInModelPieceList:s}}),n=e.get("text"),a=e.get("orient"),o=e.get("inverse");return(a==="horizontal"?o:!o)?r.reverse():n&&(n=n.slice().reverse()),{viewPieceList:r,endsText:n}},i.prototype._createItemSymbol=function(e,r,n,a){var o=St(this.getControllerVisual(r,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(r,"color"));o.silent=a,e.add(o)},i.prototype._onItemClick=function(e){var r=this.visualMapModel,n=r.option,a=n.selectedMode;if(a){var o=oe(n.selected),l=r.getSelectedMapKey(e);a==="single"||a===!0?(o[l]=!0,A(o,function(s,u){o[u]=u===l})):o[l]=!o[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},i.type="visualMap.piecewise",i}(uu);function hu(t){t.registerComponentModel(Ay),t.registerComponentView(Iy),cu(t)}function Ly(t){U(vu),U(hu)}var Py={label:{enabled:!0},decal:{show:!1}},ul=je(),My={};function Vy(t,i){var e=t.getModel("aria");if(!e.get("enabled"))return;var r=oe(Py);Pe(r.label,t.getLocaleModel().get("aria"),!1),Pe(e.option,r,!1),n(),a();function n(){var u=e.getModel("decal"),f=u.get("show");if(f){var c=at();t.eachSeries(function(v){if(!v.isColorBySeries()){var h=c.get(v.type);h||(h={},c.set(v.type,h)),ul(v).scope=h}}),t.eachRawSeries(function(v){if(t.isSeriesFiltered(v))return;if(le(v.enableAriaDecal)){v.enableAriaDecal();return}var h=v.getData();if(v.isColorBySeries()){var x=Wr(v.ecModel,v.name,My,t.getSeriesCount()),S=h.getVisual("decal");h.setVisual("decal",_(S,x))}else{var d=v.getRawData(),g={},y=ul(v).scope;h.each(function(b){var w=h.getRawIndex(b);g[w]=b});var m=d.count();d.each(function(b){var w=g[b],D=d.getName(b)||b+"",T=Wr(v.ecModel,D,y,m),C=h.getItemVisual(w,"decal");h.setItemVisual(w,"decal",_(C,T))})}function _(b,w){var D=b?O(O({},w),b):w;return D.dirty=!0,D}})}}function a(){var u=i.getZr().dom;if(u){var f=t.getLocaleModel().get("aria"),c=e.getModel("label");if(c.option=He(c.option,f),!!c.get("enabled")){if(u.setAttribute("role","img"),c.get("description")){u.setAttribute("aria-label",c.get("description"));return}var v=t.getSeriesCount(),h=c.get(["data","maxCount"])||10,d=c.get(["series","maxCount"])||10,g=Math.min(v,d),y;if(!(v<1)){var m=l();if(m){var x=c.get(["general","withTitle"]);y=o(x,{title:m})}else y=c.get(["general","withoutTitle"]);var S=[],_=v>1?c.get(["series","multiple","prefix"]):c.get(["series","single","prefix"]);y+=o(_,{seriesCount:v}),t.eachSeries(function(T,C){if(C<g){var I=void 0,L=T.get("name"),M=L?"withName":"withoutName";I=v>1?c.get(["series","multiple",M]):c.get(["series","single",M]),I=o(I,{seriesId:T.seriesIndex,seriesName:T.get("name"),seriesType:s(T.subType)});var V=T.getData();if(V.count()>h){var P=c.get(["data","partialData"]);I+=o(P,{displayCnt:h})}else I+=c.get(["data","allData"]);for(var j=c.get(["data","separator","middle"]),R=c.get(["data","separator","end"]),k=c.get(["data","excludeDimensionId"]),z=[],W=0;W<V.count();W++)if(W<h){var Z=V.getName(W),X=k?ze(V.getValues(W),function(J,Q){return be(k,Q)===-1}):V.getValues(W),q=c.get(["data",Z?"withName":"withoutName"]);z.push(o(q,{name:Z,value:X.join(j)}))}I+=z.join(j)+R,S.push(I)}});var b=c.getModel(["series","multiple","separator"]),w=b.get("middle"),D=b.get("end");y+=S.join(w)+D,u.setAttribute("aria-label",y)}}}}function o(u,f){if(!te(u))return u;var c=u;return A(f,function(v,h){c=c.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),v)}),c}function l(){var u=t.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function s(u){var f=t.getLocaleModel().get(["series","typeNames"]);return f[u]||f.chart}}function jy(t){if(!(!t||!t.aria)){var i=t.aria;i.show!=null&&(i.enabled=i.show),i.label=i.label||{},A(["description","general","series","data"],function(e){i[e]!=null&&(i.label[e]=i[e])})}}function Ny(t){t.registerPreprocessor(jy),t.registerVisual(t.PRIORITY.VISUAL.ARIA,Vy)}var Or=Math.sin,Gr=Math.cos,du=Math.PI,vt=Math.PI*2,Ey=180/du,pu=function(){function t(){}return t.prototype.reset=function(i){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,i||4)},t.prototype.moveTo=function(i,e){this._add("M",i,e)},t.prototype.lineTo=function(i,e){this._add("L",i,e)},t.prototype.bezierCurveTo=function(i,e,r,n,a,o){this._add("C",i,e,r,n,a,o)},t.prototype.quadraticCurveTo=function(i,e,r,n){this._add("Q",i,e,r,n)},t.prototype.arc=function(i,e,r,n,a,o){this.ellipse(i,e,r,r,0,n,a,o)},t.prototype.ellipse=function(i,e,r,n,a,o,l,s){var u=l-o,f=!s,c=Math.abs(u),v=tt(c-vt)||(f?u>=vt:-u>=vt),h=u>0?u%vt:u%vt+vt,d=!1;v?d=!0:tt(c)?d=!1:d=h>=du==!!f;var g=i+r*Gr(o),y=e+n*Or(o);this._start&&this._add("M",g,y);var m=Math.round(a*Ey);if(v){var x=1/this._p,S=(f?1:-1)*(vt-x);this._add("A",r,n,m,1,+f,i+r*Gr(o+S),e+n*Or(o+S)),x>.01&&this._add("A",r,n,m,0,+f,g,y)}else{var _=i+r*Gr(l),b=e+n*Or(l);this._add("A",r,n,m,+d,+f,_,b)}},t.prototype.rect=function(i,e,r,n){this._add("M",i,e),this._add("l",r,0),this._add("l",0,n),this._add("l",-r,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(i,e,r,n,a,o,l,s,u){for(var f=[],c=this._p,v=1;v<arguments.length;v++){var h=arguments[v];if(isNaN(h)){this._invalid=!0;return}f.push(Math.round(h*c)/c)}this._d.push(i+f.join(" ")),this._start=i==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),ra="none",Ry=Math.round;function ky(t){var i=t.fill;return i!=null&&i!==ra}function zy(t){var i=t.stroke;return i!=null&&i!==ra}var dn=["lineCap","miterLimit","lineJoin"],By=H(dn,function(t){return"stroke-"+t.toLowerCase()});function Oy(t,i,e,r){var n=i.opacity==null?1:i.opacity;if(e instanceof bt){t("opacity",n);return}if(ky(i)){var a=qt(i.fill);t("fill",a.color);var o=i.fillOpacity!=null?i.fillOpacity*a.opacity*n:a.opacity*n;o<1&&t("fill-opacity",o)}else t("fill",ra);if(zy(i)){var l=qt(i.stroke);t("stroke",l.color);var s=i.strokeNoScale?e.getLineScale():1,u=s?(i.lineWidth||0)/s:0,f=i.strokeOpacity!=null?i.strokeOpacity*l.opacity*n:l.opacity*n,c=i.strokeFirst;if(u!==1&&t("stroke-width",u),c&&t("paint-order",c?"stroke":"fill"),f<1&&t("stroke-opacity",f),i.lineDash){var v=oc(e),h=v[0],d=v[1];h&&(d=Ry(d||0),t("stroke-dasharray",h.join(",")),(d||r)&&t("stroke-dashoffset",d))}for(var g=0;g<dn.length;g++){var y=dn[g];if(i[y]!==xa[y]){var m=i[y]||xa[y];m&&t(By[g],m)}}}}var gu="http://www.w3.org/2000/svg",yu="http://www.w3.org/1999/xlink",Gy="http://www.w3.org/2000/xmlns/",Hy="http://www.w3.org/XML/1998/namespace",fl="ecmeta_";function mu(t){return document.createElementNS(gu,t)}function ue(t,i,e,r,n){return{tag:t,attrs:e||{},children:r,text:n,key:i}}function Wy(t,i){var e=[];if(i)for(var r in i){var n=i[r],a=r;n!==!1&&(n!==!0&&n!=null&&(a+='="'+n+'"'),e.push(a))}return"<"+t+" "+e.join(" ")+">"}function Fy(t){return"</"+t+">"}function na(t,i){i=i||{};var e=i.newline?`
`:"";function r(n){var a=n.children,o=n.tag,l=n.attrs,s=n.text;return Wy(o,l)+(o!=="style"?lc(s):s||"")+(a?""+e+H(a,function(u){return r(u)}).join(e)+e:"")+Fy(o)}return r(t)}function $y(t,i,e){e=e||{};var r=e.newline?`
`:"",n=" {"+r,a=r+"}",o=H(de(t),function(s){return s+n+H(de(t[s]),function(u){return u+":"+t[s][u]+";"}).join(r)+a}).join(r),l=H(de(i),function(s){return"@keyframes "+s+n+H(de(i[s]),function(u){return u+n+H(de(i[s][u]),function(f){var c=i[s][u][f];return f==="d"&&(c='path("'+c+'")'),f+":"+c+";"}).join(r)+a}).join(r)+a}).join(r);return!o&&!l?"":["<![CDATA[",o,l,"]]>"].join(r)}function pn(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function cl(t,i,e,r){return ue("svg","root",{width:t,height:i,xmlns:gu,"xmlns:xlink":yu,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+t+" "+i:!1},e)}var Uy=0;function Su(){return Uy++}var vl={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},pt="transform-origin";function Yy(t,i,e){var r=O({},t.shape);O(r,i),t.buildPath(e,r);var n=new pu;return n.reset(fs(t)),e.rebuildPath(n,1),n.generateStr(),n.getStr()}function Xy(t,i){var e=i.originX,r=i.originY;(e||r)&&(t[pt]=e+"px "+r+"px")}var Zy={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function xu(t,i){var e=i.zrId+"-ani-"+i.cssAnimIdx++;return i.cssAnims[e]=t,e}function Ky(t,i,e){var r=t.shape.paths,n={},a,o;if(A(r,function(s){var u=pn(e.zrId);u.animation=!0,Qi(s,{},u,!0);var f=u.cssAnims,c=u.cssNodes,v=de(f),h=v.length;if(h){o=v[h-1];var d=f[o];for(var g in d){var y=d[g];n[g]=n[g]||{d:""},n[g].d+=y.d||""}for(var m in c){var x=c[m].animation;x.indexOf(o)>=0&&(a=x)}}}),!!a){i.d=!1;var l=xu(n,e);return a.replace(o,l)}}function hl(t){return te(t)?vl[t]?"cubic-bezier("+vl[t]+")":uc(t)?t:"":""}function Qi(t,i,e,r){var n=t.animators,a=n.length,o=[];if(t instanceof sc){var l=Ky(t,i,e);if(l)o.push(l);else if(!a)return}else if(!a)return;for(var s={},u=0;u<a;u++){var f=n[u],c=[f.getMaxTime()/1e3+"s"],v=hl(f.getClip().easing),h=f.getDelay();v?c.push(v):c.push("linear"),h&&c.push(h/1e3+"s"),f.getLoop()&&c.push("infinite");var d=c.join(" ");s[d]=s[d]||[d,[]],s[d][1].push(f)}function g(x){var S=x[1],_=S.length,b={},w={},D={},T="animation-timing-function";function C(Y,G,ee){for(var K=Y.getTracks(),re=Y.getMaxTime(),ve=0;ve<K.length;ve++){var ge=K[ve];if(ge.needsAnimate()){var ne=ge.keyframes,he=ge.propName;if(ee&&(he=ee(he)),he)for(var Te=0;Te<ne.length;Te++){var Ne=ne[Te],ct=Math.round(Ne.time/re*100)+"%",Vt=hl(Ne.easing),ua=Ne.rawValue;(te(ua)||li(ua))&&(G[ct]=G[ct]||{},G[ct][he]=Ne.rawValue,Vt&&(G[ct][T]=Vt))}}}}for(var I=0;I<_;I++){var L=S[I],M=L.targetName;M?M==="shape"&&C(L,w):!r&&C(L,b)}for(var V in b){var P={};fc(P,t),O(P,b[V]);var j=us(P),R=b[V][T];D[V]=j?{transform:j}:{},Xy(D[V],P),R&&(D[V][T]=R)}var k,z=!0;for(var V in w){D[V]=D[V]||{};var W=!k,R=w[V][T];W&&(k=new cc);var Z=k.len();k.reset(),D[V].d=Yy(t,w[V],k);var X=k.len();if(!W&&Z!==X){z=!1;break}R&&(D[V][T]=R)}if(!z)for(var V in D)delete D[V].d;if(!r)for(var I=0;I<_;I++){var L=S[I],M=L.targetName;M==="style"&&C(L,D,function(K){return Zy[K]})}for(var q=de(D),J=!0,Q,I=1;I<q.length;I++){var ie=q[I-1],Ae=q[I];if(D[ie][pt]!==D[Ae][pt]){J=!1;break}Q=D[ie][pt]}if(J&&Q){for(var V in D)D[V][pt]&&delete D[V][pt];i[pt]=Q}if(ze(q,function(Y){return de(D[Y]).length>0}).length){var et=xu(D,e);return et+" "+x[0]+" both"}}for(var y in s){var l=g(s[y]);l&&o.push(l)}if(o.length){var m=e.zrId+"-cls-"+Su();e.cssNodes["."+m]={animation:o.join(",")},i.class=m}}function qy(t,i,e){if(!t.ignore)if(t.isSilent()){var r={"pointer-events":"none"};dl(r,i,e)}else{var n=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},a=n.fill;if(!a){var o=t.style&&t.style.fill,l=t.states.select&&t.states.select.style&&t.states.select.style.fill,s=t.currentStates.indexOf("select")>=0&&l||o;s&&(a=vc(s))}var u=n.lineWidth;if(u){var f=!n.strokeNoScale&&t.transform?t.transform[0]:1;u=u/f}var r={cursor:"pointer"};a&&(r.fill=a),n.stroke&&(r.stroke=n.stroke),u&&(r["stroke-width"]=u),dl(r,i,e)}}function dl(t,i,e,r){var n=JSON.stringify(t),a=e.cssStyleCache[n];a||(a=e.zrId+"-cls-"+Su(),e.cssStyleCache[n]=a,e.cssNodes["."+a+":hover"]=t),i.class=i.class?i.class+" "+a:a}var ni=Math.round;function _u(t){return t&&te(t.src)}function bu(t){return t&&le(t.toDataURL)}function aa(t,i,e,r){Oy(function(n,a){var o=n==="fill"||n==="stroke";o&&cs(a)?Du(i,t,n,r):o&&kn(a)?Tu(e,t,n,r):t[n]=a,o&&r.ssr&&a==="none"&&(t["pointer-events"]="visible")},i,e,!1),nm(e,t,r)}function oa(t,i){var e=Cc(i);e&&(e.each(function(r,n){r!=null&&(t[(fl+n).toLowerCase()]=r+"")}),i.isSilent()&&(t[fl+"silent"]="true"))}function pl(t){return tt(t[0]-1)&&tt(t[1])&&tt(t[2])&&tt(t[3]-1)}function Qy(t){return tt(t[4])&&tt(t[5])}function la(t,i,e){if(i&&!(Qy(i)&&pl(i))){var r=1e4;t.transform=pl(i)?"translate("+ni(i[4]*r)/r+" "+ni(i[5]*r)/r+")":Ac(i)}}function gl(t,i,e){for(var r=t.points,n=[],a=0;a<r.length;a++)n.push(ni(r[a][0]*e)/e),n.push(ni(r[a][1]*e)/e);i.points=n.join(" ")}function yl(t){return!t.smooth}function Jy(t){var i=H(t,function(e){return typeof e=="string"?[e,e]:e});return function(e,r,n){for(var a=0;a<i.length;a++){var o=i[a],l=e[o[0]];l!=null&&(r[o[1]]=ni(l*n)/n)}}}var em={circle:[Jy(["cx","cy","r"])],polyline:[gl,yl],polygon:[gl,yl]};function tm(t){for(var i=t.animators,e=0;e<i.length;e++)if(i[e].targetName==="shape")return!0;return!1}function wu(t,i){var e=t.style,r=t.shape,n=em[t.type],a={},o=i.animation,l="path",s=t.style.strokePercent,u=i.compress&&fs(t)||4;if(n&&!i.willUpdate&&!(n[1]&&!n[1](r))&&!(o&&tm(t))&&!(s<1)){l=t.type;var f=Math.pow(10,u);n[0](r,a,f)}else{var c=!t.path||t.shapeChanged();t.path||t.createPathProxy();var v=t.path;c&&(v.beginPath(),t.buildPath(v,t.shape),t.pathUpdated());var h=v.getVersion(),d=t,g=d.__svgPathBuilder;(d.__svgPathVersion!==h||!g||s!==d.__svgPathStrokePercent)&&(g||(g=d.__svgPathBuilder=new pu),g.reset(u),v.rebuildPath(g,s),g.generateStr(),d.__svgPathVersion=h,d.__svgPathStrokePercent=s),a.d=g.getStr()}return la(a,t.transform),aa(a,e,t,i),oa(a,t),i.animation&&Qi(t,a,i),i.emphasis&&qy(t,a,i),ue(l,t.id+"",a)}function im(t,i){var e=t.style,r=e.image;if(r&&!te(r)&&(_u(r)?r=r.src:bu(r)&&(r=r.toDataURL())),!!r){var n=e.x||0,a=e.y||0,o=e.width,l=e.height,s={href:r,width:o,height:l};return n&&(s.x=n),a&&(s.y=a),la(s,t.transform),aa(s,e,t,i),oa(s,t),i.animation&&Qi(t,s,i),ue("image",t.id+"",s)}}function rm(t,i){var e=t.style,r=e.text;if(r!=null&&(r+=""),!(!r||isNaN(e.x)||isNaN(e.y))){var n=e.font||dc,a=e.x||0,o=pc(e.y||0,gc(n),e.textBaseline),l=yc[e.textAlign]||e.textAlign,s={"dominant-baseline":"central","text-anchor":l};if(mc(e)){var u="",f=e.fontStyle,c=Sc(e.fontSize);if(!parseFloat(c))return;var v=e.fontFamily||xc,h=e.fontWeight;u+="font-size:"+c+";font-family:"+v+";",f&&f!=="normal"&&(u+="font-style:"+f+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),s.style=u}else s.style="font: "+n;return r.match(/\s/)&&(s["xml:space"]="preserve"),a&&(s.x=a),o&&(s.y=o),la(s,t.transform),aa(s,e,t,i),oa(s,t),i.animation&&Qi(t,s,i),ue("text",t.id+"",s,void 0,r)}}function ml(t,i){if(t instanceof ft)return wu(t,i);if(t instanceof bt)return im(t,i);if(t instanceof hc)return rm(t,i)}function nm(t,i,e){var r=t.style;if(Ic(r)){var n=Lc(t),a=e.shadowCache,o=a[n];if(!o){var l=t.getGlobalScale(),s=l[0],u=l[1];if(!s||!u)return;var f=r.shadowOffsetX||0,c=r.shadowOffsetY||0,v=r.shadowBlur,h=qt(r.shadowColor),d=h.opacity,g=h.color,y=v/2/s,m=v/2/u,x=y+" "+m;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=ue("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[ue("feDropShadow","",{dx:f/s,dy:c/u,stdDeviation:x,"flood-color":g,"flood-opacity":d})]),a[n]=o}i.filter=Xi(o)}}function Du(t,i,e,r){var n=t[e],a,o={gradientUnits:n.global?"userSpaceOnUse":"objectBoundingBox"};if(_c(n))a="linearGradient",o.x1=n.x,o.y1=n.y,o.x2=n.x2,o.y2=n.y2;else if(bc(n))a="radialGradient",o.cx=ye(n.x,.5),o.cy=ye(n.y,.5),o.r=ye(n.r,.5);else return;for(var l=n.colorStops,s=[],u=0,f=l.length;u<f;++u){var c=wc(l[u].offset)*100+"%",v=l[u].color,h=qt(v),d=h.color,g=h.opacity,y={offset:c};y["stop-color"]=d,g<1&&(y["stop-opacity"]=g),s.push(ue("stop",u+"",y))}var m=ue(a,"",o,s),x=na(m),S=r.gradientCache,_=S[x];_||(_=r.zrId+"-g"+r.gradientIdx++,S[x]=_,o.id=_,r.defs[_]=ue(a,_,o,s)),i[e]=Xi(_)}function Tu(t,i,e,r){var n=t.style[e],a=t.getBoundingRect(),o={},l=n.repeat,s=l==="no-repeat",u=l==="repeat-x",f=l==="repeat-y",c;if(Dc(n)){var v=n.imageWidth,h=n.imageHeight,d=void 0,g=n.image;if(te(g)?d=g:_u(g)?d=g.src:bu(g)&&(d=g.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";Fr(v,y),Fr(h,y)}else if(v==null||h==null){var m=function(I,L){if(I){var M=I.elm,V=v||L.width,P=h||L.height;I.tag==="pattern"&&(u?(P=1,V/=a.width):f&&(V=1,P/=a.height)),I.attrs.width=V,I.attrs.height=P,M&&(M.setAttribute("width",V),M.setAttribute("height",P))}},x=Tc(d,null,t,function(I){s||m(w,I),m(c,I)});x&&x.width&&x.height&&(v=v||x.width,h=h||x.height)}c=ue("image","img",{href:d,width:v,height:h}),o.width=v,o.height=h}else n.svgElement&&(c=oe(n.svgElement),o.width=n.svgWidth,o.height=n.svgHeight);if(c){var S,_;s?S=_=1:u?(_=1,S=o.width/a.width):f?(S=1,_=o.height/a.height):o.patternUnits="userSpaceOnUse",S!=null&&!isNaN(S)&&(o.width=S),_!=null&&!isNaN(_)&&(o.height=_);var b=us(n);b&&(o.patternTransform=b);var w=ue("pattern","",o,[c]),D=na(w),T=r.patternCache,C=T[D];C||(C=r.zrId+"-p"+r.patternIdx++,T[D]=C,o.id=C,w=r.defs[C]=ue("pattern",C,o,[c])),i[e]=Xi(C)}}function am(t,i,e){var r=e.clipPathCache,n=e.defs,a=r[t.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var o={id:a};r[t.id]=a,n[a]=ue("clipPath",a,o,[wu(t,e)])}i["clip-path"]=Xi(a)}function Sl(t){return document.createTextNode(t)}function yt(t,i,e){t.insertBefore(i,e)}function xl(t,i){t.removeChild(i)}function _l(t,i){t.appendChild(i)}function Au(t){return t.parentNode}function Cu(t){return t.nextSibling}function Hr(t,i){t.textContent=i}var bl=58,om=120,lm=ue("","");function gn(t){return t===void 0}function Ge(t){return t!==void 0}function sm(t,i,e){for(var r={},n=i;n<=e;++n){var a=t[n].key;a!==void 0&&(r[a]=n)}return r}function Ft(t,i){var e=t.key===i.key,r=t.tag===i.tag;return r&&e}function ai(t){var i,e=t.children,r=t.tag;if(Ge(r)){var n=t.elm=mu(r);if(sa(lm,t),B(e))for(i=0;i<e.length;++i){var a=e[i];a!=null&&_l(n,ai(a))}else Ge(t.text)&&!Ve(t.text)&&_l(n,Sl(t.text))}else t.elm=Sl(t.text);return t.elm}function Iu(t,i,e,r,n){for(;r<=n;++r){var a=e[r];a!=null&&yt(t,ai(a),i)}}function Hi(t,i,e,r){for(;e<=r;++e){var n=i[e];if(n!=null)if(Ge(n.tag)){var a=Au(n.elm);xl(a,n.elm)}else xl(t,n.elm)}}function sa(t,i){var e,r=i.elm,n=t&&t.attrs||{},a=i.attrs||{};if(n!==a){for(e in a){var o=a[e],l=n[e];l!==o&&(o===!0?r.setAttribute(e,""):o===!1?r.removeAttribute(e):e==="style"?r.style.cssText=o:e.charCodeAt(0)!==om?r.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?r.setAttributeNS(Gy,e,o):e.charCodeAt(3)===bl?r.setAttributeNS(Hy,e,o):e.charCodeAt(5)===bl?r.setAttributeNS(yu,e,o):r.setAttribute(e,o))}for(e in n)e in a||r.removeAttribute(e)}}function um(t,i,e){for(var r=0,n=0,a=i.length-1,o=i[0],l=i[a],s=e.length-1,u=e[0],f=e[s],c,v,h,d;r<=a&&n<=s;)o==null?o=i[++r]:l==null?l=i[--a]:u==null?u=e[++n]:f==null?f=e[--s]:Ft(o,u)?(At(o,u),o=i[++r],u=e[++n]):Ft(l,f)?(At(l,f),l=i[--a],f=e[--s]):Ft(o,f)?(At(o,f),yt(t,o.elm,Cu(l.elm)),o=i[++r],f=e[--s]):Ft(l,u)?(At(l,u),yt(t,l.elm,o.elm),l=i[--a],u=e[++n]):(gn(c)&&(c=sm(i,r,a)),v=c[u.key],gn(v)?yt(t,ai(u),o.elm):(h=i[v],h.tag!==u.tag?yt(t,ai(u),o.elm):(At(h,u),i[v]=void 0,yt(t,h.elm,o.elm))),u=e[++n]);(r<=a||n<=s)&&(r>a?(d=e[s+1]==null?null:e[s+1].elm,Iu(t,d,e,n,s)):Hi(t,i,r,a))}function At(t,i){var e=i.elm=t.elm,r=t.children,n=i.children;t!==i&&(sa(t,i),gn(i.text)?Ge(r)&&Ge(n)?r!==n&&um(e,r,n):Ge(n)?(Ge(t.text)&&Hr(e,""),Iu(e,null,n,0,n.length-1)):Ge(r)?Hi(e,r,0,r.length-1):Ge(t.text)&&Hr(e,""):t.text!==i.text&&(Ge(r)&&Hi(e,r,0,r.length-1),Hr(e,i.text)))}function fm(t,i){if(Ft(t,i))At(t,i);else{var e=t.elm,r=Au(e);ai(i),r!==null&&(yt(r,i.elm,Cu(e)),Hi(r,[t],0,0))}return i}var cm=0,vm=function(){function t(i,e,r){if(this.type="svg",this.refreshHover=wl(),this.configLayer=wl(),this.storage=e,this._opts=r=O({},r),this.root=i,this._id="zr"+cm++,this._oldVNode=cl(r.width,r.height),i&&!r.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=mu("svg");sa(null,this._oldVNode),n.appendChild(a),i.appendChild(n)}this.resize(r.width,r.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var i=this.renderToVNode({willUpdate:!0});i.attrs.style="position:absolute;left:0;top:0;user-select:none",fm(this._oldVNode,i),this._oldVNode=i}},t.prototype.renderOneToVNode=function(i){return ml(i,pn(this._id))},t.prototype.renderToVNode=function(i){i=i||{};var e=this.storage.getDisplayList(!0),r=this._width,n=this._height,a=pn(this._id);a.animation=i.animation,a.willUpdate=i.willUpdate,a.compress=i.compress,a.emphasis=i.emphasis,a.ssr=this._opts.ssr;var o=[],l=this._bgVNode=hm(r,n,this._backgroundColor,a);l&&o.push(l);var s=i.compress?null:this._mainVNode=ue("g","main",{},[]);this._paintList(e,a,s?s.children:o),s&&o.push(s);var u=H(de(a.defs),function(v){return a.defs[v]});if(u.length&&o.push(ue("defs","defs",{},u)),i.animation){var f=$y(a.cssNodes,a.cssAnims,{newline:!0});if(f){var c=ue("style","stl",{},[],f);o.push(c)}}return cl(r,n,o,i.useViewBox)},t.prototype.renderToString=function(i){return i=i||{},na(this.renderToVNode({animation:ye(i.cssAnimation,!0),emphasis:ye(i.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:ye(i.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(i){this._backgroundColor=i},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(i,e,r){for(var n=i.length,a=[],o=0,l,s,u=0,f=0;f<n;f++){var c=i[f];if(!c.invisible){var v=c.__clipPaths,h=v&&v.length||0,d=s&&s.length||0,g=void 0;for(g=Math.max(h-1,d-1);g>=0&&!(v&&s&&v[g]===s[g]);g--);for(var y=d-1;y>g;y--)o--,l=a[o-1];for(var m=g+1;m<h;m++){var x={};am(v[m],x,e);var S=ue("g","clip-g-"+u++,x,[]);(l?l.children:r).push(S),a[o++]=S,l=S}s=v;var _=ml(c,e);_&&(l?l.children:r).push(_)}}},t.prototype.resize=function(i,e){var r=this._opts,n=this.root,a=this._viewport;if(i!=null&&(r.width=i),e!=null&&(r.height=e),n&&a&&(a.style.display="none",i=_a(n,0,r),e=_a(n,1,r),a.style.display=""),this._width!==i||this._height!==e){if(this._width=i,this._height=e,a){var o=a.style;o.width=i+"px",o.height=e+"px"}if(kn(this._backgroundColor))this.refresh();else{var l=this._svgDom;l&&(l.setAttribute("width",i),l.setAttribute("height",e));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",i),s.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(i){var e=this.renderToString(),r="data:image/svg+xml;";return i?(e=Pc(e),e&&r+"base64,"+e):r+"charset=UTF-8,"+encodeURIComponent(e)},t}();function wl(t){return function(){}}function hm(t,i,e,r){var n;if(e&&e!=="none")if(n=ue("rect","bg",{width:t,height:i,x:"0",y:"0"}),cs(e))Du({fill:e},n.attrs,"fill",r);else if(kn(e))Tu({style:{fill:e},dirty:xt,getBoundingRect:function(){return{width:t,height:i}}},n.attrs,"fill",r);else{var a=qt(e),o=a.color,l=a.opacity;n.attrs.fill=o,l<1&&(n.attrs["fill-opacity"]=l)}return n}function dm(t){t.registerPainter("svg",vm)}U([Mc]);U([dm]);U([Vc,jc,Nc,Ec,Rc,pv,kv,xh,zh,kc,Yh,Ad,qd,sp,Dp,Ip,zc,Ep,Up,Qp,sg,$g]);U(Bc);U(Oc);U(Cl);U(n0);U(Vs);U(s0);U(y0);U(Gc);U(Hc);U(as);U(N0);U(Wc);U(F0);U(q0);U(ry);U(uy);U(Fc);U($c);U(Uc);U(Yc);U(Ly);U(vu);U(hu);U(Ny);U(Xc);U(Zc);U(Kc);U(qc);const pm="https://static1.tuyacn.com/static/tuyav/smart/data-visualization/data/mapData/";let p="";function gm(t){return t.includes("中国")?p="100000_full.json":t.includes("北京")?p="110000_full.json":t.includes("东城")?p="110101.json":t.includes("西城")?p="110102.json":t.includes("朝阳区")?p="110105.json":t.includes("丰台")?p="110106.json":t.includes("石景山")?p="110107.json":t.includes("海淀")?p="110108.json":t.includes("顺义")?p="110113.json":t.includes("通州")?p="110112.json":t.includes("大兴")?p="110115.json":t.includes("房山")?p="110111.json":t.includes("门头沟")?p="110109.json":t.includes("昌平")?p="110114.json":t.includes("平谷")?p="110117.json":t.includes("密云")?p="110118.json":t.includes("怀柔")?p="110116.json":t.includes("延庆")?p="110119.json":t.includes("天津")?p="120000_full.json":t.includes("和平")?p="120101.json":t.includes("河东")?p="120102.json":t.includes("河西")?p="120103.json":t.includes("南开")?p="120104.json":t.includes("河北")?p="120105.json":t.includes("红桥")?p="120106.json":t.includes("东丽")?p="120110.json":t.includes("西青")?p="120111.json":t.includes("津南")?p="120112.json":t.includes("北辰")?p="120113.json":t.includes("武清")?p="120114.json":t.includes("宝坻")?p="120115.json":t.includes("滨海新")?p="120116.json":t.includes("宁河")?p="120117.json":t.includes("静海")?p="120118.json":t.includes("蓟州")?p="120119.json":t.includes("河北")?p="130000_full.json":t.includes("石家庄")?p="130100_full.json":t.includes("唐山")?p="130200_full.json":t.includes("秦皇岛")?p="130300_full.json":t.includes("邯郸")?p="130400_full.json":t.includes("邢台")?p="130500_full.json":t.includes("保定")?p="130600_full.json":t.includes("张家口")?p="130700_full.json":t.includes("承德")?p="130800_full.json":t.includes("沧州")?p="130900_full.json":t.includes("廊坊")?p="131000_full.json":t.includes("衡水")?p="131100_full.json":t.includes("山西")?p="140000_full.json":t.includes("太原")?p="140100_full.json":t.includes("大同")?p="140200_full.json":t.includes("阳泉")?p="140300_full.json":t.includes("长治")?p="140400_full.json":t.includes("晋城")?p="140500_full.json":t.includes("朔州")?p="140600_full.json":t.includes("晋中")?p="140700_full.json":t.includes("运城")?p="140800_full.json":t.includes("忻州")?p="140900_full.json":t.includes("临汾")?p="141000_full.json":t.includes("吕梁")?p="140000_full.json":t.includes("内蒙古")?p="150000_full.json":t.includes("呼和浩特")?p="150100_full.json":t.includes("包头")?p="150200_full.json":t.includes("乌海")?p="150300_full.json":t.includes("赤峰")?p="150400_full.json":t.includes("通辽")?p="150500_full.json":t.includes("鄂尔多斯")?p="150600_full.json":t.includes("呼伦贝尔")?p="150700_full.json":t.includes("巴彦淖尔")?p="150800_full.json":t.includes("乌兰察布")?p="150900_full.json":t.includes("兴安盟")?p="152200_full.json":t.includes("锡林郭勒盟")?p="152500_full.json":t.includes("阿拉善盟")?p="152900_full.json":t.includes("辽宁")?p="210000_full.json":t.includes("沈阳")?p="210100_full.json":t.includes("大连")?p="210200_full.json":t.includes("鞍山")?p="210300_full.json":t.includes("抚顺")?p="210400_full.json":t.includes("本溪")?p="210500_full.json":t.includes("丹东")?p="210600_full.json":t.includes("锦州")?p="210700_full.json":t.includes("营口")?p="210800_full.json":t.includes("阜新")?p="210900_full.json":t.includes("辽阳")?p="211000_full.json":t.includes("盘锦")?p="211100_full.json":t.includes("铁岭")?p="211200_full.json":t.includes("朝阳市")?p="211300_full.json":t.includes("葫芦岛")?p="211400_full.json":t.includes("吉林省")?p="220000_full.json":t.includes("长春")?p="220100_full.json":t.includes("吉林市")?p="220200_full.json":t.includes("四平")?p="220300_full.json":t.includes("辽源")?p="220400_full.json":t.includes("通化")?p="220500_full.json":t.includes("白山")?p="220600_full.json":t.includes("松原")?p="220700_full.json":t.includes("白城")?p="220800_full.json":t.includes("延边朝鲜")?p="222400_full.json":t.includes("黑龙江")?p="230000_full.json":t.includes("哈尔滨")?p="230100_full.json":t.includes("齐齐哈尔")?p="230200_full.json":t.includes("鸡西")?p="230300_full.json":t.includes("鹤岗")?p="230400_full.json":t.includes("双鸭山")?p="230500_full.json":t.includes("大庆市")?p="230600_full.json":t.includes("伊春山")?p="230700_full.json":t.includes("佳木斯")?p="230800_full.json":t.includes("七台河")?p="230900_full.json":t.includes("牡丹江")?p="231000_full.json":t.includes("黑河")?p="231100_full.json":t.includes("绥化")?p="231200_full.json":t.includes("大兴安岭")?p="231700_full.json":t.includes("上海")?p="310000_full.json":t.includes("黄埔")?p="310101.json":t.includes("徐汇")?p="310104.json":t.includes("长宁")?p="310105.json":t.includes("静安")?p="310106.json":t.includes("普陀山")?p="310107.json":t.includes("虹口")?p="310109.json":t.includes("杨浦")?p="310110.json":t.includes("闵行")?p="310112.json":t.includes("宝山")?p="310113.json":t.includes("嘉定")?p="310114.json":t.includes("浦东新区")?p="310115.json":t.includes("金山区")?p="310116.json":t.includes("松江区")?p="310117.json":t.includes("青浦区")?p="310118.json":t.includes("奉贤区")?p="310120.json":t.includes("崇明区")?p="310151.json":t.includes("江苏")?p="320000_full.json":t.includes("南京")?p="320100_full.json":t.includes("无锡")?p="320200_full.json":t.includes("徐州")?p="320300_full.json":t.includes("常州")?p="320400_full.json":t.includes("苏州")?p="320500_full.json":t.includes("南通")?p="320600_full.json":t.includes("连云港")?p="320700_full.json":t.includes("淮安")?p="320800_full.json":t.includes("盐城")?p="320900_full.json":t.includes("扬州")?p="321000_full.json":t.includes("镇江")?p="321100_full.json":t.includes("秦州")?p="321200_full.json":t.includes("宿迁")?p="321300_full.json":t.includes("浙江")?p="330000_full.json":t.includes("杭州")?p="330100_full.json":t.includes("宁波")?p="330200_full.json":t.includes("温州")?p="330300_full.json":t.includes("嘉兴")?p="330400_full.json":t.includes("湖州")?p="330500_full.json":t.includes("绍兴")?p="330600_full.json":t.includes("金华")?p="330700_full.json":t.includes("衢州")?p="330800_full.json":t.includes("舟山")?p="330900_full.json":t.includes("台州")?p="331000_full.json":t.includes("丽水")?p="331100_full.json":t.includes("安徽")?p="340000_full.json":t.includes("合肥")?p="340100_full.json":t.includes("芜湖")?p="340200_full.json":t.includes("蚌埠")?p="340300_full.json":t.includes("淮南")?p="340400_full.json":t.includes("马鞍山")?p="340500_full.json":t.includes("淮北")?p="340600_full.json":t.includes("铜陵")?p="340700_full.json":t.includes("安庆")?p="340800_full.json":t.includes("黄山")?p="341000_full.json":t.includes("滁州")?p="341100_full.json":t.includes("阜阳")?p="341200_full.json":t.includes("宿州")?p="341300_full.json":t.includes("六安")?p="341500_full.json":t.includes("毫州")?p="341600_full.json":t.includes("池州")?p="341700_full.json":t.includes("宣城")?p="341800_full.json":t.includes("福建")?p="350000_full.json":t.includes("福州")?p="350100_full.json":t.includes("厦门")?p="350200_full.json":t.includes("莆田")?p="350300_full.json":t.includes("三明")?p="350400_full.json":t.includes("泉州")?p="350500_full.json":t.includes("漳州")?p="350600_full.json":t.includes("南平")?p="350700_full.json":t.includes("龙岩")?p="350800_full.json":t.includes("宁德")?p="350900_full.json":t.includes("江西")?p="360000_full.json":t.includes("南昌")?p="360100_full.json":t.includes("景德镇")?p="360200_full.json":t.includes("萍乡")?p="360300_full.json":t.includes("九江")?p="360400_full.json":t.includes("新余")?p="360500_full.json":t.includes("鹰潭")?p="360600_full.json":t.includes("赣州")?p="360700_full.json":t.includes("吉安")?p="360800_full.json":t.includes("宜春")?p="360900_full.json":t.includes("抚州")?p="361000_full.json":t.includes("上饶")?p="361100_full.json":t.includes("山东")?p="370000_full.json":t.includes("济南")?p="370100_full.json":t.includes("青岛")?p="370200_full.json":t.includes("淄博")?p="370300_full.json":t.includes("枣庄")?p="370400_full.json":t.includes("东营")?p="370500_full.json":t.includes("烟台")?p="370600_full.json":t.includes("潍坊")?p="370700_full.json":t.includes("济宁")?p="370800_full.json":t.includes("泰安")?p="370900_full.json":t.includes("威海")?p="371000_full.json":t.includes("日照")?p="371100_full.json":t.includes("临沂")?p="371300_full.json":t.includes("德州")?p="371400_full.json":t.includes("菏泽")?p="371700_full.json":t.includes("聊城")?p="371500_full.json":t.includes("滨州")?p="371600_full.json":t.includes("河南")?p="410000_full.json":t.includes("郑州")?p="410100_full.json":t.includes("开封")?p="410200_full.json":t.includes("洛阳")?p="410300_full.json":t.includes("平顶山")?p="410400_full.json":t.includes("安阳")?p="410500_full.json":t.includes("鹤壁")?p="410600_full.json":t.includes("新乡")?p="410700_full.json":t.includes("焦作")?p="410800_full.json":t.includes("濮阳")?p="410900_full.json":t.includes("许昌")?p="411000_full.json":t.includes("漯河")?p="411100_full.json":t.includes("三门峡")?p="411200_full.json":t.includes("南阳")?p="411300_full.json":t.includes("商丘")?p="411400_full.json":t.includes("信阳")?p="411500_full.json":t.includes("周口")?p="411600_full.json":t.includes("驻马店")?p="411700_full.json":t.includes("济源")?p="419001.json":t.includes("湖北")?p="420000_full.json":t.includes("武汉")?p="420100_full.json":t.includes("黄石")?p="420200_full.json":t.includes("十堰")?p="420300_full.json":t.includes("宜昌")?p="420500_full.json":t.includes("襄阳")?p="420600_full.json":t.includes("鄂州")?p="420700_full.json":t.includes("荆门")?p="420800_full.json":t.includes("孝感")?p="420900_full.json":t.includes("荆州")?p="421000_full.json":t.includes("黄冈")?p="421100_full.json":t.includes("咸宁")?p="421200_full.json":t.includes("随州")?p="421300_full.json":t.includes("恩施土")?p="422800_full.json":t.includes("神农")?p="429021.json":t.includes("天门")?p="429006.json":t.includes("潜江")?p="429005.json":t.includes("仙桃")?p="429004.json":t.includes("湖南")?p="430000_full.json":t.includes("长沙")?p="430100_full.json":t.includes("株洲")?p="430200_full.json":t.includes("湘潭")?p="430300_full.json":t.includes("衡阳")?p="430400_full.json":t.includes("邵阳")?p="430500_full.json":t.includes("岳阳")?p="430600_full.json":t.includes("常德")?p="430700_full.json":t.includes("张家界")?p="430800_full.json":t.includes("益阳")?p="430900_full.json":t.includes("郴州")?p="431000_full.json":t.includes("永州")?p="431100_full.json":t.includes("怀化")?p="431200_full.json":t.includes("娄底")?p="431300_full.json":t.includes("湘西")?p="433100_full.json":t.includes("广东")?p="440000_full.json":t.includes("广州")?p="440100_full.json":t.includes("韶关")?p="440200_full.json":t.includes("深圳")?p="440300_full.json":t.includes("珠海")?p="440400_full.json":t.includes("汕头")?p="440500_full.json":t.includes("佛山")?p="440600_full.json":t.includes("江门")?p="440700_full.json":t.includes("湛江")?p="440800_full.json":t.includes("茂名")?p="440900_full.json":t.includes("肇庆")?p="441200_full.json":t.includes("惠州")?p="441300_full.json":t.includes("梅州")?p="441400_full.json":t.includes("汕尾")?p="441500_full.json":t.includes("河源")?p="441600_full.json":t.includes("阳江")?p="441700_full.json":t.includes("清远")?p="441800_full.json":t.includes("东莞")?p="441900.json":t.includes("中山")?p="442000_full.json":t.includes("潮州")?p="445100_full.json":t.includes("揭阳")?p="445200_full.json":t.includes("云浮")?p="445300_full.json":t.includes("广西")?p="450000_full.json":t.includes("南宁")?p="450100_full.json":t.includes("柳州")?p="450200_full.json":t.includes("桂林")?p="450300_full.json":t.includes("梧州")?p="450400_full.json":t.includes("北海")?p="450500_full.json":t.includes("防城港")?p="450600_full.json":t.includes("钦州")?p="450700_full.json":t.includes("贵港")?p="450800_full.json":t.includes("玉林")?p="450900_full.json":t.includes("百色")?p="451000_full.json":t.includes("贺州")?p="451100_full.json":t.includes("河池")?p="451200_full.json":t.includes("来宾")?p="451300_full.json":t.includes("崇左")?p="451400_full.json":t.includes("海南省")?p="460000_full.json":t.includes("海口")?p="460100_full.json":t.includes("三亚")?p="460200_full.json":t.includes("三沙")?p="460300_full.json":t.includes("儋州")?p="460400_full.json":t.includes("五指山")?p="469001_full.json":t.includes("琼海")?p="469002_full.json":t.includes("文昌")?p="469005_full.json":t.includes("万宁")?p="469006_full.json":t.includes("东方")?p="469007_full.json":t.includes("定安")?p="469025_full.json":t.includes("屯昌")?p="469026_full.json":t.includes("澄迈")?p="469023_full.json":t.includes("临高")?p="469024_full.json":t.includes("白沙")?p="469025.json":t.includes("昌江")?p="469026.json":t.includes("乐东")?p="469027.json":t.includes("陵水")?p="469028.json":t.includes("保亭")?p="469029.json":t.includes("琼中")?p="469030.json":t.includes("重庆")?p="500000_full.json":t.includes("万州")?p="500101.json":t.includes("涪陵")?p="500102.json":t.includes("渝中")?p="500103.json":t.includes("大渡口")?p="500104.json":t.includes("江北")?p="500105.json":t.includes("沙坪坝")?p="500106.json":t.includes("九龙坡")?p="500107.json":t.includes("南岸")?p="500108.json":t.includes("北碚")?p="500109.json":t.includes("綦江")?p="500110.json":t.includes("大足")?p="500111.json":t.includes("渝北")?p="500112.json":t.includes("巴南")?p="500113.json":t.includes("黔江")?p="500114.json":t.includes("长寿")?p="500115.json":t.includes("江津")?p="500116.json":t.includes("合川")?p="500117.json":t.includes("永川")?p="500118.json":t.includes("南川")?p="500119.json":t.includes("璧山")?p="500120.json":t.includes("铜梁")?p="500151.json":t.includes("潼南")?p="500152.json":t.includes("荣昌")?p="500153.json":t.includes("开州")?p="500154.json":t.includes("梁平")?p="500155.json":t.includes("武隆")?p="500156.json":t.includes("城口")?p="500229.json":t.includes("丰都")?p="500230.json":t.includes("垫江")?p="500231.json":t.includes("忠县")?p="500233.json":t.includes("云阳")?p="500235.json":t.includes("奉节")?p="500236.json":t.includes("巫山")?p="500237.json":t.includes("巫溪")?p="500238.json":t.includes("石柱")?p="500240.json":t.includes("秀山")?p="500241.json":t.includes("酉阳")?p="500242.json":t.includes("彭水")?p="500243.json":t.includes("四川")?p="510000_full.json":t.includes("成都")?p="510100_full.json":t.includes("自贡")?p="510300_full.json":t.includes("攀枝花")?p="510400_full.json":t.includes("泸州")?p="510500_full.json":t.includes("德阳")?p="510600_full.json":t.includes("绵阳")?p="510700_full.json":t.includes("广元")?p="510800_full.json":t.includes("遂宁")?p="510900_full.json":t.includes("内江")?p="511000_full.json":t.includes("乐山")?p="511100_full.json":t.includes("南充")?p="511300_full.json":t.includes("眉山")?p="511400_full.json":t.includes("宜宾")?p="511500_full.json":t.includes("广安")?p="511600_full.json":t.includes("达州")?p="511700_full.json":t.includes("雅安")?p="511800_full.json":t.includes("巴中")?p="511900_full.json":t.includes("资阳")?p="512000_full.json":t.includes("阿坝")?p="513200_full.json":t.includes("甘孜")?p="513300_full.json":t.includes("凉山")?p="513400_full.json":t.includes("贵州")?p="520000_full.json":t.includes("贵阳")?p="520100_full.json":t.includes("六盘水")?p="520200_full.json":t.includes("遵义")?p="520300_full.json":t.includes("安顺")?p="520400_full.json":t.includes("毕节")?p="520500_full.json":t.includes("铜仁")?p="520600_full.json":t.includes("黔西")?p="522300_full.json":t.includes("黔东")?p="522600_full.json":t.includes("黔南")?p="522700_full.json":t.includes("云南")?p="530000_full.json":t.includes("昆明")?p="530100_full.json":t.includes("曲靖")?p="530300_full.json":t.includes("玉溪")?p="530400_full.json":t.includes("保山")?p="530500_full.json":t.includes("昭通")?p="530600_full.json":t.includes("丽江")?p="530700_full.json":t.includes("普洱")?p="530800_full.json":t.includes("临沧")?p="530900_full.json":t.includes("楚雄")?p="532300_full.json":t.includes("红河")?p="532500_full.json":t.includes("文山")?p="532600_full.json":t.includes("西双版纳")?p="532800_full.json":t.includes("大理")?p="532900_full.json":t.includes("德宏")?p="533100_full.json":t.includes("怒江")?p="533300_full.json":t.includes("迪庆")?p="533400_full.json":t.includes("西藏")?p="540000_full.json":t.includes("拉萨")?p="540100_full.json":t.includes("日喀")?p="540200_full.json":t.includes("昌都")?p="540300_full.json":t.includes("林芝")?p="540400_full.json":t.includes("山南")?p="540500_full.json":t.includes("那曲")?p="540600_full.json":t.includes("阿里")?p="542500_full.json":t.includes("陕西")?p="610000_full.json":t.includes("西安")?p="610100_full.json":t.includes("铜川")?p="610200_full.json":t.includes("宝鸡")?p="610300_full.json":t.includes("咸阳")?p="610400_full.json":t.includes("渭南")?p="610500_full.json":t.includes("延安")?p="610600_full.json":t.includes("汉中")?p="610700_full.json":t.includes("榆林")?p="610800_full.json":t.includes("安康")?p="610900_full.json":t.includes("商洛")?p="611000_full.json":t.includes("甘肃")?p="620000_full.json":t.includes("兰州")?p="620100_full.json":t.includes("嘉峪关")?p="620200_full.json":t.includes("金昌")?p="620300_full.json":t.includes("白银")?p="620400_full.json":t.includes("天水")?p="620500_full.json":t.includes("武威")?p="620600_full.json":t.includes("张掖")?p="620700_full.json":t.includes("平凉")?p="620800_full.json":t.includes("酒泉")?p="620900_full.json":t.includes("庆阳")?p="621000_full.json":t.includes("定西")?p="621100_full.json":t.includes("陇南")?p="621200_full.json":t.includes("临夏")?p="622900.json":t.includes("甘南")?p="623000_full.json":t.includes("青海")?p="630000_full.json":t.includes("西宁")?p="630100_full.json":t.includes("海东")?p="630200_full.json":t.includes("海北")?p="632200_full.json":t.includes("黄南")?p="632300_full.json":t.includes("海南藏族")?p="632500_full.json":t.includes("果洛")?p="632600_full.json":t.includes("玉树")?p="632700_full.json":t.includes("海西")?p="632800_full.json":t.includes("宁夏")?p="640000_full.json":t.includes("银川")?p="640100_full.json":t.includes("石嘴山")?p="640200_full.json":t.includes("吴忠")?p="640300_full.json":t.includes("固原")?p="640400_full.json":t.includes("中卫")?p="640500_full.json":t.includes("新疆")?p="650000_full.json":t.includes("乌鲁木齐")?p="650100_full.json":t.includes("克拉玛依")?p="650200_full.json":t.includes("吐鲁番")?p="650400_full.json":t.includes("哈密")?p="650500_full.json":t.includes("昌吉")?p="652300_full.json":t.includes("博尔")?p="652700_full.json":t.includes("巴音")?p="652800_full.json":t.includes("阿克苏")?p="652900_full.json":t.includes("克孜勒苏")?p="653000_full.json":t.includes("喀什")?p="653100_full.json":t.includes("和田")?p="653200_full.json":t.includes("伊犁")?p="654000_full.json":t.includes("塔城")?p="654200_full.json":t.includes("阿勒泰")?p="654300_full.json":t.includes("石河子")?p="659001.json":t.includes("阿拉尔")?p="659002.json":t.includes("图木舒克")?p="659003.json":t.includes("五家渠")?p="659004_full.json":t.includes("北屯")?p="659005.json":t.includes("铁门关")?p="659006.json":t.includes("双河市")?p="659007.json":t.includes("可克达拉")?p="659008.json":t.includes("昆玉")?p="659009.json":t.includes("胡杨河")?p="659010.json":t.includes("台湾")?p="710000.json":t.includes("香港")?p="810000_full.json":t.includes("中西")?p="810001.json":t.includes("湾仔")?p="810002.json":t.includes("东区")?p="810003.json":t.includes("南区")?p="810004.json":t.includes("油尖旺")?p="810005.json":t.includes("深水埗")?p="810006.json":t.includes("九龙城")?p="810007.json":t.includes("黄大仙")?p="810008.json":t.includes("观塘")?p="810009.json":t.includes("荃湾")?p="810010.json":t.includes("屯门")?p="810011.json":t.includes("元朗")?p="810012.json":t.includes("北区")?p="810013.json":t.includes("大埔区")?p="810014.json":t.includes("西贡")?p="810015.json":t.includes("沙田")?p="810016.json":t.includes("葵青")?p="810017.json":t.includes("离岛")?p="810018.json":t.includes("澳门")?p="820000_full.json":t.includes("花地玛堂")?p="820001.json":t.includes("花王堂")?p="820002.json":t.includes("望德堂")?p="820003.json":t.includes("大堂")?p="820004.json":t.includes("风顺堂")?p="820005.json":t.includes("嘉模堂")?p="820006.json":t.includes("路凼填海")?p="820007.json":t.includes("圣方济")&&(p="820008.json"),tv.get(pm+p)}const ym={class:"chart_map_wrap"},mm={__name:"MapChart",props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},chartFontColor:{type:String,default:"#000"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0},txtFontSize:{type:Number,default:15}},emits:["selectCity"],setup(t,{emit:i}){const e=i,r=vi(null),n=vi(null),a=vi("中国"),o=vi("中国"),l=d=>{n.value&&(n.value.dispose(),n.value=null,d&&d())},s=()=>{l(()=>{a.value="中国",o.value="中国",f(a.value),v()})},u=d=>{o.value!==a.value&&(o.value=a.value),a.value=d.name,f(a.value),e("selectCity",{pro:o.value,place:a.value})},f=d=>{gm(d).then(g=>{n.value.hideLoading(),Jc("cityMap",g.data),c(g.data)})},c=d=>{if(JSON.stringify(d)==="[]")return;let g={tooltip:{textStyle:{fontSize:12,color:"#fff"},trigger:"item",backgroundColor:"rgba(0,0,0,0.5)",formatter:y=>{let{data:m}=y;return`${y.name}<br/>下设区域：${y.data.value}`}},series:[{type:"map",map:"cityMap",layoutCenter:["50%","66%"],layoutSize:"135%",data:d.features.map(y=>({name:y.properties.name,value:y.properties.childrenNum})),roam:!0,itemStyle:{borderColor:"rgba(0, 178, 255, 1)",borderWidth:1,areaColor:new Mn(0,1,0,0,[{offset:0,color:"rgba(0, 137, 208, 0.32)"},{offset:1,color:"rgba(0, 66, 164, 0.32)"}],!1),shadowColor:"RGBA(7, 59, 115, .1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{itemStyle:{areaColor:"#78defd",borderColor:"#00ade0",borderWidth:1},label:{show:!0,color:"#fff",fontSize:13}},select:{label:{color:"#fff"},itemStyle:{color:"#fff",areaColor:"#00ade0",borderColor:"#00ade0",borderWidth:3}},label:{show:!0,color:"#fff",fontSize:11,fontWeight:600}}]};n.value.setOption(g)},v=()=>{n.value=Qc(r.value),n.value.showLoading(),f(a.value),n.value.on("click",u),window.onresize=()=>{n.value.resize()}};iv(()=>{v()}),rv(()=>{l()});const h=()=>{f(o.value),o.value,a.value};return(d,g)=>{const y=nv("el-button");return ov(),av("section",ym,[ar("ul",null,[ar("li",null,[ba(y,{onClick:s},{default:wa(()=>g[0]||(g[0]=[Da("重置地图到中国")])),_:1}),ba(y,{onClick:h},{default:wa(()=>g[1]||(g[1]=[Da("返回上一级")])),_:1})])]),ar("div",{ref_key:"refChart",ref:r,class:sv(["chart_wrap",t.className]),style:lv({height:t.height,width:t.width})},null,6)])}}},wm=uv(mm,[["__scopeId","data-v-bcb33fc9"]]);export{wm as default};
